(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["KqWz","WdxmBj"],{"0f4d":function(t,e,n){},2887:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("headerBar",{attrs:{"header-data":t.headerData}}),n("div",{staticClass:"container"},[n("div",{staticClass:"content"},[n("div",{staticClass:"common-main box"},[n("div",{staticStyle:{width:"100%",height:"400px"}},[n("amap",{ref:"map",attrs:{"cache-key":"map","view-mode":"2D",async:"",zoom:t.zoom,center:t.center,pitch:t.pitch,rotation:t.rotation,"show-indoor-map":!1,"is-hotspot":""},on:{"update:zoom":function(e){t.zoom=e},"update:center":function(e){t.center=e},"update:pitch":function(e){t.pitch=e},"update:rotation":function(e){t.rotation=e},hotspotclick:t.onHotspotClick}},[n("amap-marker",{attrs:{position:t.position1,label:{content:"当前位置",direction:"bottom"}}},[n("div",{staticClass:"local-icon"},[n("i",{staticClass:"iconfont iconweizhi"})])])],1)],1),n("div",{staticClass:"dqwz"},[t._v("当前位置："+t._s(t.cdLable))])])]),n("div",{staticClass:"foot-btn nobg noshadow"},[n("ul",[n("li",[n("van-button",{attrs:{type:"info",round:"",size:"large"},on:{click:function(e){return t.addLatAndLng()}}},[t._v("上传坐标")])],1)])])])],1)},o=[],i=(n("a4d3"),n("4de4"),n("c975"),n("e439"),n("dbb4"),n("b64b"),n("d3b7"),n("25f0"),n("159b"),n("ade3")),r=n("445c"),c=n("510f"),s=n("2f62");function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function d(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){Object(i["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var h={components:{headerBar:r["a"]},mixins:[c["d"]],data:function(){return{headerData:{title:"上传电子坐标",leftUrl:"back",leftText:" "},center:[],position1:[],cdLable:"",zoom:14,pitch:45,rotation:15}},computed:d({},Object(s["d"])({userInfo:function(t){return t.mh.mhUserInfo}})),mounted:function(){var t=this;this.center.push(this.$route.params.centerLon),this.center.push(this.$route.params.centerLat),this.position1.push(this.$route.params.centerLon),this.position1.push(this.$route.params.centerLat),this.cdLable=this.$route.params.address,console.info("updateLocation--ww---",t.center),console.info("updateLocation--ww---",t.position1)},methods:{getAddress:function(){var t=this,e={type:"1"};try{window.myapp.getDistance(JSON.stringify(e))}catch(n){console.log(n)}this.$bridge.callhandler("getDistance",JSON.stringify(e),(function(e){var n=JSON.parse(e);t.center.push(n.lng),t.center.push(n.lat),t.position1.push(n.lng),t.position1.push(n.lat),t.cdLable=n.address}))},onHotspotClick:function(t){t&&t.lnglat&&(this.center=[t.lnglat.lng,t.lnglat.lat])},addLatAndLng:function(){var t=this;console.info("this.userInfo---00---",this.userInfo);var e=this.bd_encrypt(this.center[0],this.center[1]);this.$store.dispatch("erp/submitZbdzAction",{userId:this.userInfo.id,longitude:this.getBit(e.bd_lng),latitude:this.getBit(e.bd_lat),address:this.cdLable}).then((function(n){if(null!==t.userInfo.yhzb&&void 0!==t.userInfo.yhzb&&""!==t.userInfo.yhzb)t.userInfo.yhzb.lng=t.getBit(e.bd_lng),t.userInfo.yhzb.lat=t.getBit(e.bd_lat);else{var a={lng:t.getBit(e.bd_lng),lat:t.getBit(e.bd_lat)};t.userInfo.yhzb={yhzb:a}}console.info("this.userInfo------",t.userInfo),t.$toast.success("上传坐标成功！")})).catch((function(e){t.$toast(e)}))},getBit:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:7,n=t.toString(),a=n.indexOf(".");return-1===a?n:(n=n.substring(0,a+e),console.log(n,e),n)},bd_encrypt:function(t,e){var n=3e3*Math.PI/180,a=t,o=e,i=Math.sqrt(a*a+o*o)+2e-5*Math.sin(o*n),r=Math.atan2(o,a)+3e-6*Math.cos(a*n),c=i*Math.cos(r)+.0065,s=i*Math.sin(r)+.006;return{bd_lat:s,bd_lng:c}}}},u=h,f=(n("c4dc"),n("2877")),p=Object(f["a"])(u,a,o,!1,null,"4cd110f1",null);e["default"]=p.exports},"445c":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("header",{staticClass:"nav-bar"},[t.headerData.leftText?n("div",{staticClass:"nav-bar-left"},[n("div",{on:{click:function(e){return e.stopPropagation(),t.handelClick(t.headerData.leftUrl)}}},[n("i",{staticClass:"iconfont iconicon-back"}),n("div",{staticClass:"nav-bar-txt"},[t._v(t._s(t.headerData.leftText))])])]):t._e(),n("div",{staticClass:"nav-bar-title"},[t._v(t._s(t.headerData.title))]),n("div",{staticClass:"nav-bar-right"},[t.headerData.rightText?n("div",{staticClass:"nav-bar-txt",on:{click:function(e){return t.handelClick(t.headerData.rightUrl,t.headerData.rightCallBackClick)}}},[t._v(t._s(t.headerData.rightText))]):t._e(),t.headerData.showSearch?n("i",{staticClass:"iconfont iconsousuo",on:{click:function(e){return t.searchClick()}}}):t._e()])])},o=[],i={name:"HeaderBar",props:{headerData:{type:null,required:!0}},data:function(){return{}},created:function(){this.headerData&&(this.headerData.rightCallBackClick||(this.headerData.rightCallBackClick=!1))},methods:{searchClick:function(){this.$bus.$emit("showMeun",!0)},handelClick:function(t,e){if(console.log("targetUrl=====================",t),"back"!==t)if("needConfirm"!==t){if(t)this.$router.push(t);else if(e){var n="callback";this.headerData&&this.headerData.rightText&&(n=this.headerData.rightText),this.$emit("callbackClick",n)}}else this.$emit("on-exit");else this.$router.go(-1)}}},r=i,c=n("2877"),s=Object(c["a"])(r,a,o,!1,null,"416ac0a2",null);e["a"]=s.exports},"510f":function(t,e,n){"use strict";n.d(e,"d",(function(){return c})),n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return l}));n("a4d3"),n("4de4"),n("c975"),n("a434"),n("b0c0"),n("e439"),n("dbb4"),n("b64b"),n("159b");var a=n("ade3"),o=n("2f62");function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function r(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){Object(a["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var c={mounted:function(){},data:function(){return{}},methods:{goPage:function(t,e){this.$store.dispatch("router/setPageParams",e),this.$router.push({name:t,params:{keyName:e}})},getParams:function(){return this.$store.state.router.pageParams}},beforeRouteEnter:function(t,e,n){n((function(e){if("MhHome"!==t.name&&"MallHome"!==t.name){var n=e.$store.state.router.keepAlive,a=n.indexOf(t.name);-1===a&&n.push(t.name),e.$store.commit("router/SET_KEEP_ALIVE",n)}else e.$store.commit("router/SET_KEEP_ALIVE",[]);console.log("PageRoute=进入页面==",n)}))},beforeRouteLeave:function(t,e,n){var a=[];if(a=this.$store.state.router.keepAlive,"GysXmbm"===e.name){var o=a.indexOf(e.name);a.splice(o,1)}var i=a.indexOf(e.name),r=a.indexOf(t.name);-1!==r&&a.splice(i,1);for(var c=[],s=0;s<this.$store.state.router.footMeun.length;s++)c.push(this.$store.state.router.footMeun[s].component);var l=c.indexOf(e.name),d=c.indexOf(t.name);-1!==l&&-1!==d&&a.splice(i,1),console.log("PageRoute=退出页面======================",a),this.$store.commit("router/SET_KEEP_ALIVE",a),n()}},s={mounted:function(){var t=this;window["showSoftKeyBoard"]=function(e){console.info("showSoftKeyBoard-----",e),t.Native_ShowSoftKeyBoard=e},window["getRotuerPage"]=function(e){return t.$store.state.router.keepAlive},window["updateScanData"]=function(e){console.info("updateScan======",e),t.Native_ScanData=e},window["updateHandImage"]=function(e){t.Native_PhoneImageData=e}},data:function(){return{Native_ShowSoftKeyBoard:"",Native_ScanData:{},Native_PhoneImageData:{},Native_CaLoad:"",Native_CaList:{}}},computed:{},methods:{NativeLoadCA:function(){var t=this;try{this.Native_CaLoad=window.myapp.LoadCA(),console.info("NativeLoadCA======",window.myapp.LoadCA())}catch(e){console.log(e)}this.$bridge.callhandler("LoadCA","{page:1}",(function(e){var n=JSON.parse(e);console.log("goScanView------",e),t.Native_CaLoad=n}))},NativeGetAllCAInfo:function(){try{console.info("NativeGetAllCAInfo======",window.myapp.getAllCAInfo());var t=window.myapp.getAllCAInfo();this.Native_CaList=JSON.parse(t)}catch(e){console.log(e)}this.$bridge.callhandler("getAllCAInfo",(function(t){}))},NativeGetOnelCAInfo:function(t){try{console.info("NativeGetAllCAInfo======",window.myapp.getOneCAInfo())}catch(e){console.log(e)}this.$bridge.callhandler("getOneCAInfo",t,(function(t){}))},NativeChangePin:function(t){try{window.myapp.changePin(t)}catch(e){console.log(e)}this.$bridge.callhandler("changePin",t,(function(t){}))},NativeEnvelopeDecrypt:function(t){try{window.myapp.envelopeDecrypt(t)}catch(e){console.log(e)}this.$bridge.callhandler("envelopeDecrypt",t,(function(t){}))},NativeEnvelopeEncrypt:function(t){try{window.myapp.envelopeEncrypt(t)}catch(e){console.log(e)}this.$bridge.callhandler("envelopeEncrypt",t,(function(t){}))}}},l={mounted:function(){var t=this;window["getRotuerPage"]=function(e){return t.$store.state.router.keepAlive},window["updateScanData"]=function(e){console.info("updateScan======",e),t.Native_ScanData=e},window["updateHandImage"]=function(e){t.Native_PhoneImageData=e}},data:function(){return{Native_ScanData:{},Native_PhoneImageData:{}}},computed:{},methods:{NativeAddPush:function(t){try{window.myapp.addPush(t)}catch(e){console.log(e)}this.$bridge.callhandler("addPush",t,(function(t){}))},NativeDissPush:function(){try{window.myapp.dissPush()}catch(t){console.log(t)}this.$bridge.callhandler("dissPush",(function(t){}))},NativeDissDialog:function(){try{window.myapp.dissDialog()}catch(t){console.log(t)}this.$bridge.callhandler("dissDialog",(function(t){}))},NativeLoginAction:function(t){try{window.myapp.loginAction(t)}catch(e){console.log(e)}this.$bridge.callhandler("loginAction",t,(function(t){}))},NativeCheakUpdate:function(){try{window.myapp.cheakUpdate()}catch(t){console.log(t)}this.$bridge.callhandler("cheakUpdate",(function(t){}))},NativeGetLjSize:function(){try{window.myapp.getlj()}catch(t){console.log(t)}this.$bridge.callhandler("getlj",(function(t){}))},NativeCleanLj:function(){try{window.myapp.cleanlj()}catch(t){console.log(t)}this.$bridge.callhandler("cleanlj",(function(t){}))},NativeDownFiles:function(t){try{window.myapp.downloadFile(t)}catch(e){console.log(e)}this.$bridge.callhandler("downloadFile",String(t),(function(t){}))},NativeScan:function(){var t=this;try{window.myapp.goScanView()}catch(e){console.log(e)}this.$bridge.callhandler("goScanView","{page:1}",(function(e){var n=JSON.parse(e);console.log("goScanView------",e),t.Native_ScanData=n}))},NativePhone:function(t){var e=this;try{window.myapp.goIDCards(t)}catch(n){console.log(n)}this.$bridge.callhandler("goIDCards",t,(function(t){var n=JSON.parse(t);console.log("goIDCards------",n),e.Native_PhoneImageData=n}))},NativeHandSing:function(){var t=this;try{window.myapp.goHandWriteView()}catch(e){console.log(e)}this.$bridge.callhandler("goHandWriteView",(function(e){t.Native_PhoneImageData=e}))},NativeCallPhone:function(t){try{window.myapp.call(t)}catch(e){console.log(e)}this.$bridge.callhandler("call",t,(function(t){}))},NativeUpdateImage:function(){try{window.myapp.CameraOrImage()}catch(t){console.log(t)}this.$bridge.callhandler("CameraOrImage",(function(t){}))}}};r({onQueryChange:function(t){this.query=t},blurInput:function(){this.$refs.searchBox.blur()},addQuery:function(t){this.$refs.searchBox.setQuery(t)},saveSearch:function(){this.updateHostorList(this.query)}},Object(o["b"])(["updateHostorList","deleteSearchHistory"])),r({wybmAction:function(){this.wybmfbAction()}},Object(o["b"])(["wybmfbAction"]))},c4dc:function(t,e,n){"use strict";var a=n("0f4d"),o=n.n(a);o.a}}]);
//# sourceMappingURL=KqWz.e67be882.js.map