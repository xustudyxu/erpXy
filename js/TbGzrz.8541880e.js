(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["TbGzrz","WdxmBj"],{"1fd0":function(t,e,i){},"445c":function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("header",{staticClass:"nav-bar"},[t.headerData.leftText?i("div",{staticClass:"nav-bar-left"},[i("div",{on:{click:function(e){return e.stopPropagation(),t.handelClick(t.headerData.leftUrl)}}},[i("i",{staticClass:"iconfont iconicon-back"}),i("div",{staticClass:"nav-bar-txt"},[t._v(t._s(t.headerData.leftText))])])]):t._e(),i("div",{staticClass:"nav-bar-title"},[t._v(t._s(t.headerData.title))]),i("div",{staticClass:"nav-bar-right"},[t.headerData.rightText?i("div",{staticClass:"nav-bar-txt",on:{click:function(e){return t.handelClick(t.headerData.rightUrl,t.headerData.rightCallBackClick)}}},[t._v(t._s(t.headerData.rightText))]):t._e(),t.headerData.showSearch?i("i",{staticClass:"iconfont iconsousuo",on:{click:function(e){return t.searchClick()}}}):t._e()])])},a=[],n={name:"HeaderBar",props:{headerData:{type:null,required:!0}},data:function(){return{}},created:function(){this.headerData&&(this.headerData.rightCallBackClick||(this.headerData.rightCallBackClick=!1))},methods:{searchClick:function(){this.$bus.$emit("showMeun",!0)},handelClick:function(t,e){if(console.log("targetUrl=====================",t),"back"!==t)if("needConfirm"!==t){if(t)this.$router.push(t);else if(e){var i="callback";this.headerData&&this.headerData.rightText&&(i=this.headerData.rightText),this.$emit("callbackClick",i)}}else this.$emit("on-exit");else this.$router.go(-1)}}},o=n,r=i("2877"),c=Object(r["a"])(o,s,a,!1,null,"416ac0a2",null);e["a"]=c.exports},"510f":function(t,e,i){"use strict";i.d(e,"d",(function(){return r})),i.d(e,"a",(function(){return c})),i.d(e,"b",(function(){return l}));i("a4d3"),i("4de4"),i("c975"),i("a434"),i("b0c0"),i("e439"),i("dbb4"),i("b64b"),i("159b");var s=i("ade3"),a=i("2f62");function n(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}function o(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?n(Object(i),!0).forEach((function(e){Object(s["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):n(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var r={mounted:function(){},data:function(){return{}},methods:{goPage:function(t,e){this.$store.dispatch("router/setPageParams",e),this.$router.push({name:t,params:{keyName:e}})},getParams:function(){return this.$store.state.router.pageParams}},beforeRouteEnter:function(t,e,i){i((function(e){if("MhHome"!==t.name&&"MallHome"!==t.name){var i=e.$store.state.router.keepAlive,s=i.indexOf(t.name);-1===s&&i.push(t.name),e.$store.commit("router/SET_KEEP_ALIVE",i)}else e.$store.commit("router/SET_KEEP_ALIVE",[]);console.log("PageRoute=进入页面==",i)}))},beforeRouteLeave:function(t,e,i){var s=[];if(s=this.$store.state.router.keepAlive,"GysXmbm"===e.name){var a=s.indexOf(e.name);s.splice(a,1)}var n=s.indexOf(e.name),o=s.indexOf(t.name);-1!==o&&s.splice(n,1);for(var r=[],c=0;c<this.$store.state.router.footMeun.length;c++)r.push(this.$store.state.router.footMeun[c].component);var l=r.indexOf(e.name),h=r.indexOf(t.name);-1!==l&&-1!==h&&s.splice(n,1),console.log("PageRoute=退出页面======================",s),this.$store.commit("router/SET_KEEP_ALIVE",s),i()}},c={mounted:function(){var t=this;window["showSoftKeyBoard"]=function(e){console.info("showSoftKeyBoard-----",e),t.Native_ShowSoftKeyBoard=e},window["getRotuerPage"]=function(e){return t.$store.state.router.keepAlive},window["updateScanData"]=function(e){console.info("updateScan======",e),t.Native_ScanData=e},window["updateHandImage"]=function(e){t.Native_PhoneImageData=e}},data:function(){return{Native_ShowSoftKeyBoard:"",Native_ScanData:{},Native_PhoneImageData:{},Native_CaLoad:"",Native_CaList:{}}},computed:{},methods:{NativeLoadCA:function(){var t=this;try{this.Native_CaLoad=window.myapp.LoadCA(),console.info("NativeLoadCA======",window.myapp.LoadCA())}catch(e){console.log(e)}this.$bridge.callhandler("LoadCA","{page:1}",(function(e){var i=JSON.parse(e);console.log("goScanView------",e),t.Native_CaLoad=i}))},NativeGetAllCAInfo:function(){try{console.info("NativeGetAllCAInfo======",window.myapp.getAllCAInfo());var t=window.myapp.getAllCAInfo();this.Native_CaList=JSON.parse(t)}catch(e){console.log(e)}this.$bridge.callhandler("getAllCAInfo",(function(t){}))},NativeGetOnelCAInfo:function(t){try{console.info("NativeGetAllCAInfo======",window.myapp.getOneCAInfo())}catch(e){console.log(e)}this.$bridge.callhandler("getOneCAInfo",t,(function(t){}))},NativeChangePin:function(t){try{window.myapp.changePin(t)}catch(e){console.log(e)}this.$bridge.callhandler("changePin",t,(function(t){}))},NativeEnvelopeDecrypt:function(t){try{window.myapp.envelopeDecrypt(t)}catch(e){console.log(e)}this.$bridge.callhandler("envelopeDecrypt",t,(function(t){}))},NativeEnvelopeEncrypt:function(t){try{window.myapp.envelopeEncrypt(t)}catch(e){console.log(e)}this.$bridge.callhandler("envelopeEncrypt",t,(function(t){}))}}},l={mounted:function(){var t=this;window["getRotuerPage"]=function(e){return t.$store.state.router.keepAlive},window["updateScanData"]=function(e){console.info("updateScan======",e),t.Native_ScanData=e},window["updateHandImage"]=function(e){t.Native_PhoneImageData=e}},data:function(){return{Native_ScanData:{},Native_PhoneImageData:{}}},computed:{},methods:{NativeAddPush:function(t){try{window.myapp.addPush(t)}catch(e){console.log(e)}this.$bridge.callhandler("addPush",t,(function(t){}))},NativeDissPush:function(){try{window.myapp.dissPush()}catch(t){console.log(t)}this.$bridge.callhandler("dissPush",(function(t){}))},NativeDissDialog:function(){try{window.myapp.dissDialog()}catch(t){console.log(t)}this.$bridge.callhandler("dissDialog",(function(t){}))},NativeLoginAction:function(t){try{window.myapp.loginAction(t)}catch(e){console.log(e)}this.$bridge.callhandler("loginAction",t,(function(t){}))},NativeCheakUpdate:function(){try{window.myapp.cheakUpdate()}catch(t){console.log(t)}this.$bridge.callhandler("cheakUpdate",(function(t){}))},NativeGetLjSize:function(){try{window.myapp.getlj()}catch(t){console.log(t)}this.$bridge.callhandler("getlj",(function(t){}))},NativeCleanLj:function(){try{window.myapp.cleanlj()}catch(t){console.log(t)}this.$bridge.callhandler("cleanlj",(function(t){}))},NativeDownFiles:function(t){try{window.myapp.downloadFile(t)}catch(e){console.log(e)}this.$bridge.callhandler("downloadFile",String(t),(function(t){}))},NativeScan:function(){var t=this;try{window.myapp.goScanView()}catch(e){console.log(e)}this.$bridge.callhandler("goScanView","{page:1}",(function(e){var i=JSON.parse(e);console.log("goScanView------",e),t.Native_ScanData=i}))},NativePhone:function(t){var e=this;try{window.myapp.goIDCards(t)}catch(i){console.log(i)}this.$bridge.callhandler("goIDCards",t,(function(t){var i=JSON.parse(t);console.log("goIDCards------",i),e.Native_PhoneImageData=i}))},NativeHandSing:function(){var t=this;try{window.myapp.goHandWriteView()}catch(e){console.log(e)}this.$bridge.callhandler("goHandWriteView",(function(e){t.Native_PhoneImageData=e}))},NativeCallPhone:function(t){try{window.myapp.call(t)}catch(e){console.log(e)}this.$bridge.callhandler("call",t,(function(t){}))},NativeUpdateImage:function(){try{window.myapp.CameraOrImage()}catch(t){console.log(t)}this.$bridge.callhandler("CameraOrImage",(function(t){}))}}};o({onQueryChange:function(t){this.query=t},blurInput:function(){this.$refs.searchBox.blur()},addQuery:function(t){this.$refs.searchBox.setQuery(t)},saveSearch:function(){this.updateHostorList(this.query)}},Object(a["b"])(["updateHostorList","deleteSearchHistory"])),o({wybmAction:function(){this.wybmfbAction()}},Object(a["b"])(["wybmfbAction"]))},"58a5":function(t,e,i){"use strict";var s=i("1fd0"),a=i.n(s);a.a},a8fe:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("headerBar",{attrs:{"header-data":t.headerData}}),i("div",{staticClass:"container-tab"},[i("van-notice-bar",{attrs:{close:"","left-icon":"volume-o",text:"1、如果填写非当天的工作日志，注意选择“日期”；2、加班工作正常填写到对应类型，前面加上“加班”关键字。"}}),i("div",{staticClass:"common-main box",staticStyle:{"border-radius":"0",padding:"0 10px"}},[i("van-cell",{attrs:{title:"选择日期",value:t.date,"is-link":""},on:{click:function(e){t.show=!0}}}),i("van-calendar",{attrs:{"min-date":t.minDate,color:"#1890ff"},on:{confirm:t.onConfirm},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}})],1),i("div",{staticClass:"content"},[i("div",{staticClass:"common-main box"},[i("van-cell",{attrs:{title:"当前工作量(小时)",value:t.getDqgzl()}}),i("van-cell",{attrs:{title:"剩余(小时)",value:t.getSysj()}})],1)]),t.list&&t.list.length>0&&t.list[0]?i("div",t._l(t.list,(function(e,s){return i("van-swipe-cell",{key:s,attrs:{disabled:t.isSubmit||t.isgd||1===e.zt},scopedSlots:t._u([{key:"right",fn:function(){return[i("div",{staticClass:"sideslip"},[i("div",{staticClass:"sideslip-item red"},[i("div",{staticClass:"icon",on:{click:function(e){return t.delGzrz(s)}}},[i("i",{staticClass:"iconfont iconshanchu1"})]),t._v(" 删除 ")])])]},proxy:!0}],null,!0)},[i("div",{staticClass:"content"},[i("div",{staticClass:"common-main box"},[i("van-cell",{attrs:{title:"分类","is-link":""},on:{click:function(i){return t.showXzflPopup(s,e)}},model:{value:e.gzxzmc,callback:function(i){t.$set(e,"gzxzmc",i)},expression:"item.gzxzmc"}}),i("van-cell",{directives:[{name:"show",rawName:"v-show",value:e.showXm||"请选择项目"!==e.xmmc&&e.xmmc,expression:"item.showXm || item.xmmc!=='请选择项目' && item.xmmc"}],attrs:{title:"项目","is-link":""},on:{click:function(i){return t.goXzGzrzXm(s,e)}},model:{value:e.xmmc,callback:function(i){t.$set(e,"xmmc",i)},expression:"item.xmmc"}}),i("div",{staticClass:"page-list block"},[i("div",{staticClass:"pagelist-left"},[t._v("内容")]),i("div",{staticClass:"pagelist-right"},[i("van-field",{attrs:{rows:"2",autosize:"",type:"textarea",maxlength:"100",placeholder:"请输入日志内容","show-word-limit":"",readonly:t.isSubmit||t.isgd||1===e.zt},model:{value:e.gznr,callback:function(i){t.$set(e,"gznr",i)},expression:"item.gznr"}})],1)]),i("van-field",{attrs:{"input-align":"right",label:"工作量(小时)",placeholder:"请输入工作量",type:"number",readonly:t.isSubmit||t.isgd||1===e.zt},model:{value:e.gzl,callback:function(i){t.$set(e,"gzl",i)},expression:"item.gzl"}})],1)])])})),1):t._e(),t.isSubmit?t._e():i("div",{staticClass:"foot-btn-white"},[i("van-button",{attrs:{type:"info",block:"",plain:"",size:"large"},on:{click:function(e){return t.addGzrz()}}},[i("i",{staticClass:"iconfont iconzengjia"}),t._v(" 增加工作日志")])],1)],1),i("van-popup",{style:{height:"65%"},attrs:{position:"bottom",closeable:"",round:""},model:{value:t.XzflShow,callback:function(e){t.XzflShow=e},expression:"XzflShow"}},[t.list&&t.list.length>0&&t.list[0]?i("div",[i("div",{staticClass:"common-popup"},[i("div",{staticClass:"popup-title"},[t._v("选择考勤类型")]),i("div",{staticClass:"popup-content"},[i("div",{staticClass:"select-list-flex"},[t.list&&t.list.length>0?i("ul",t._l(t.kqlxList,(function(e,s){return i("li",{key:s,class:t.rzlxIndex===s?"active":"",on:{click:function(i){return t.kqlxClick(e,s)}}},[t._v(t._s(e.gzxzmc))])})),0):t._e()])])])]):t._e()]),i("div",{staticClass:"common-space"}),i("div",{directives:[{name:"show",rawName:"v-show",value:t.Native_ShowSoftKeyBoard,expression:"Native_ShowSoftKeyBoard"}],staticClass:"common-space2"}),i("div",{staticClass:"foot-btn full fixed"},[i("ul",[i("li",[i("div",{staticClass:"foot-option",on:{click:function(e){return t.goCkGzrz()}}},[t._m(0)])]),2!==t.spzt?i("li",[i("van-button",{attrs:{type:"info",round:"",size:"large"},on:{click:function(e){return t.submit(!0)}}},[t._v(t._s(t.isSubmit?"取回":"提交"))])],1):t._e()])])],1)},a=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"foot-item"},[i("i",{staticClass:"iconfont iconxiangqing"}),t._v(" 查看我的工作日志 ")])}],n=(i("99af"),i("a434"),i("b680"),i("acd8"),i("445c")),o=i("80d5"),r=i("510f"),c={name:"TbGzrz",components:{headerBar:n["a"]},mixins:[r["d"],r["a"]],data:function(){return{isSubmit:!1,headerData:{title:"填报工作日志",leftUrl:"RzIndex",leftText:" "},date:"请选择日期",minDate:new Date(1999,0,1),show:!1,XzflShow:!1,kqlxList:[],list:[],rq:"",rzlxIndex:0,buttonState:!0,rzCheckedIndex:0,spzt:0,isgd:!1}},activated:function(){if(this.$store.state.erp.isFirst){this.$store.commit("erp/SET_ISFIRST",!1);var t=new Date;if(1===t.getDay()){var e=(new Date).getTime()-2592e5;t=new Date(e)}else if(0===t.getDay()){var i=(new Date).getTime()-1728e5;t=new Date(i)}else{var s=(new Date).getTime()-864e5;t=new Date(s)}this.getZtRzxx(t)}this.isSubmit=this.$store.state.erp.isSubmit,this.$store.state.erp.list&&this.$store.state.erp.list.length>0&&(this.list=this.$store.state.erp.list,this.list.length>0&&this.list.splice(0,1,this.list[0])),this.$store.state.erp.rq&&"请选择日期"!==this.$store.state.erp.rq&&""!==this.$store.state.erp.rq&&(this.rq=this.$store.state.erp.rq,this.date=this.$store.state.erp.rq1,this.getIsGdByDate1(this.rq)),this.$store.state.erp.checkIndex&&(this.rzCheckedIndex=this.$store.state.erp.checkIndex),this.$store.state.erp.checkXm&&(this.list[this.rzCheckedIndex].xmmc=this.$store.state.erp.checkXm.xmmc,this.list[this.rzCheckedIndex].xm=this.$store.state.erp.checkXm.id),this.getRzxz()},created:function(){if(this.$store.state.erp.isFirst){this.$store.commit("erp/SET_ISFIRST",!1);var t=new Date;if(1===t.getDay()){var e=(new Date).getTime()-2592e5;t=new Date(e)}else if(0===t.getDay()){var i=(new Date).getTime()-1728e5;t=new Date(i)}else{var s=(new Date).getTime()-864e5;t=new Date(s)}this.getZtRzxx(t)}this.isSubmit=this.$store.state.erp.isSubmit,this.$store.state.erp.list&&this.$store.state.erp.list.length>0&&(this.list=this.$store.state.erp.list,this.list.splice(0,1,this.list[0])),this.$store.state.erp.rq&&"请选择日期"!==this.$store.state.erp.rq&&""!==this.$store.state.erp.rq&&(this.rq=this.$store.state.erp.rq,this.date=this.$store.state.erp.rq1,this.getIsGdByDate1(this.rq)),this.$store.state.erp.checkIndex&&(this.rzCheckedIndex=this.$store.state.erp.checkIndex),this.$store.state.erp.checkXm&&(this.list[this.rzCheckedIndex].xmmc=this.$store.state.erp.checkXm.xmmc,this.list[this.rzCheckedIndex].xm=this.$store.state.erp.checkXm.id),this.getRzxz()},methods:{getIsGdByDate1:function(t){var e=this;this.$store.dispatch("erp/isGdByDateAction",{date:t}).then((function(t){1===t.state?e.isgd=!1:e.isgd=!0})).catch((function(t){console.log(t)}))},getIsGdByDate:function(t){var e=this;this.$store.dispatch("erp/isGdByDateAction",{date:this.formatDate1(t)}).then((function(t){1===t.state?e.isgd=!1:e.isgd=!0})).catch((function(t){console.log(t)}))},getDqgzl:function(){if(this.list&&0!==this.list.length){for(var t=0,e=0;e<this.list.length;e++)this.list[e]&&this.list[e].gzl&&(t+=parseFloat(this.list[e].gzl));return 0!==t?t.toFixed(2):"0.00"}return"0.00"},getZtRzxx:function(t){var e=this,i=this.formatDate1(t);this.$store.dispatch("erp/getGzrzAction",{ksrq:i,jzrq:i,ryid:Object(o["e"])(),currentPage:1,shbz:[0,1,2,3]}).then((function(i){if(i=i.gzrzArr,i&&i[0]&&i[0].rzmxArr&&i[0].rzmxArr.length>0&&0!==i[0].spzt)return e.date=e.formatDate(new Date),e.rq=e.formatDate1(new Date),e.getIsGdByDate(new Date),void e.getRzxx();if(e.getIsGdByDate(t),e.date=e.formatDate(t),e.rq=e.formatDate1(t),!i||i===[]||0===i.length)return e.list=[],e.$store.commit("erp/SET_LIST",[]),e.$store.commit("erp/SET_ISSUBMIT",!1),void(e.isSubmit=!1);e.list=i[0].rzmxArr,e.$store.commit("erp/SET_LIST",e.list),e.$store.commit("erp/SET_ISSUBMIT",!1),e.isSubmit=!1;for(var s=0;s<e.list.length;s++)"请选择项目"===e.list[s].xmmc&&(e.list[s].showXm=!1)})).catch((function(t){e.$toast(t)}))},getRzxx:function(){var t=this;this.$store.dispatch("erp/getGzrzAction",{ksrq:this.rq,jzrq:this.rq,ryid:Object(o["e"])(),currentPage:1,shbz:[0,1,2,3]}).then((function(e){if(e=e.gzrzArr,e&&e[0]?t.spzt=e[0].spzt:t.spzt=0,!e||e===[]||0===e.length)return t.list=[],t.$store.commit("erp/SET_LIST",[]),t.$store.commit("erp/SET_ISSUBMIT",!1),void(t.isSubmit=!1);if(t.list=e[0].rzmxArr?e[0].rzmxArr:[],t.$store.commit("erp/SET_LIST",t.list),e&&e.length>0&&e[0].rzmxArr&&e[0].rzmxArr.length>0&&0!==e[0].spzt){t.isSubmit=!0,t.$store.commit("erp/SET_ISSUBMIT",!0);for(var i=0;i<t.list.length;i++)"请选择项目"===t.list[i].xmmc&&(t.list[i].showXm=!1);t.list.length>0&&t.list.splice(0,1,t.list[0])}else t.$store.commit("erp/SET_ISSUBMIT",!1),t.isSubmit=!1})).catch((function(e){t.$toast(e)}))},submit:function(t){var e=this;if(this.buttonState){if(this.buttonState=!1,this.isgd)return this.$toast("所选日期日志已归档，无法编写日志！"),void(this.buttonState=!0);this.isSubmit?this.$store.dispatch("erp/getBackRzAction",{ryid:Object(o["e"])(),rq:this.rq}).then((function(t){e.buttonState=!0,e.$toast("日志取回成功！"),e.isSubmit=!1})):this.$validator.validate().then((function(i){for(var s=!1,a=!1,n=!1,r=!1,c=0,l=0;l<e.list.length;l++){if(!e.list[l].gzxzmc||"请选择分类"===e.list[l].gzxzmc){s=!0;break}if(s=!1,(!e.list[l].xm||"请选择项目"===e.list[l].xmmc)&&e.list[l].showXm){a=!0;break}if(a=!1,!e.list[l].gznr){n=!0;break}if(n=!1,!e.list[l].gzl){r=!0;break}if(e.list[l].gzl<=0)return e.$toast("请输入正确工作量！"),void(e.buttonState=!0);if(e.list[l].gzl>24)return e.$toast("请输入正确工作量！"),void(e.buttonState=!0);c+=parseFloat(e.list[l].gzl),r=!1}if(!e.rq&&"请选择日期"!==e.rq)return e.$toast("请选择日期！"),void(e.buttonState=!0);if(0===e.list.length)return e.$toast("请先增加工作日志明细！"),void(e.buttonState=!0);if(s)return e.$toast("请选择分类!"),void(e.buttonState=!0);if(a)return e.$toast("请选择项目!"),void(e.buttonState=!0);if(n)return e.$toast("请输入日志内容！"),void(e.buttonState=!0);if(r)return e.$toast("请输入工作量！"),void(e.buttonState=!0);for(var h=0;h<e.list.length;h++)e.list[h].sxh=h+1;if(c>24)return e.$toast("总工作量不能大于24小时！"),void(e.buttonState=!0);for(var d=JSON.parse(JSON.stringify(e.list)),u=0;u<d.length;u++)"请选择项目"===d[u].xmmc&&(d[u].xmmc="",d[u].xm="");e.$store.dispatch("erp/saveGzrzAction",{rq:e.rq,ryid:Object(o["e"])(),submit:t,rzmxArr:d}).then((function(i){e.buttonState=!0,t?(e.$toast("提交日志成功！"),e.isSubmit=!0):(e.$toast("保存日志成功！"),e.isSubmit=!1)})).catch((function(t){e.buttonState=!0,e.$toast(t)}))}))}},xzflQd:function(){this.$store.commit("erp/SET_LIST",this.list),this.XzflShow=!1},getSysj:function(){if(!this.list||!this.list[0])return"7.50";for(var t=7.5,e=0;e<this.list.length;e++)this.list[e].gzl&&(t-=this.list[e].gzl);return t.toFixed(2)},delGzrz:function(t){t===this.rzCheckedIndex&&(this.rzCheckedIndex=this.rzCheckedIndex-1),this.list.splice(t,1),this.$store.commit("erp/SET_LIST",this.list)},addGzrz:function(){this.isgd?this.$toast("所选日期日志已归档，无法编写日志！"):(this.list.push({xm:"",gzxzmc:"请选择分类",gzxzbm:"",xmmc:"请选择项目",gzl:"",gznr:""}),this.$store.commit("erp/SET_LIST",this.list))},kqlxClick:function(t,e){this.list[this.rzCheckedIndex].gzxzmc=t.gzxzmc,this.list[this.rzCheckedIndex].gzxzbm=t.gzxzbs,this.list[this.rzCheckedIndex].showXm=t.glxm,this.list[this.rzCheckedIndex].xmmc="请选择项目",this.list[this.rzCheckedIndex].rzlxIndex=e,this.list.length>0&&this.list.splice(0,1,this.list[0]),this.$store.commit("erp/SET_LIST",this.list),this.XzflShow=!1},getRzxz:function(){var t=this;this.$store.dispatch("erp/getRzxzAction").then((function(e){t.kqlxList=e})).catch((function(e){t.$toast(e)}))},formatDate:function(t){return"".concat(t.getFullYear(),"-").concat(t.getMonth()+1,"-").concat(t.getDate())},formatDate1:function(t){var e=t.getFullYear(),i="",s="";return i=t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1,s=t.getDate()<10?"0"+t.getDate():t.getDate(),e+""+i+s},onConfirm:function(t){this.show=!1,this.rq=this.formatDate1(t),this.date=this.formatDate(t),this.$store.commit("erp/SET_RQ",this.rq),this.$store.commit("erp/SET_RQ1",this.date),this.getRzxx(),this.getIsGdByDate(t)},showXzflPopup:function(t,e){this.isSubmit||(this.isgd?this.$toast("所选日期日志已归档，无法编写日志！"):1!==e.zt?(this.rzCheckedIndex=t,this.rzlxIndex=this.list[t].rzlxIndex?this.list[t].rzlxIndex:0,this.$store.commit("erp/SET_CHECKINDEX",t),this.XzflShow=!0):this.$toast("当前项目已归档，无法编写日志！"))},goCkGzrz:function(){!this.isSubmit&&this.list.length>0?this.$toast("请先提交当前日志！"):(this.$store.commit("erp/SET_RQ",this.rq),this.$store.commit("erp/SET_RQ1",this.date),this.$store.commit("erp/SET_ISSUBMIT",this.isSubmit),this.$router.push({name:"CkGzrz"}))},goXzGzrzXm:function(t,e){this.isSubmit||(this.isgd?this.$toast("所选日期日志已归档，无法编写日志！"):1!==e.zt?(this.$store.commit("erp/SET_ISSUBMIT",this.isSubmit),this.$store.commit("erp/SET_RQ",this.rq),this.$store.commit("erp/SET_RQ1",this.date),this.rzCheckedIndex=t,this.$store.commit("erp/SET_CHECKINDEX",t),this.$router.push({name:"XzGzrzXm"})):this.$toast("当前项目已归档，无法编写日志！"))}}},l=c,h=(i("58a5"),i("2877")),d=Object(h["a"])(l,s,a,!1,null,"77c1b005",null);e["default"]=d.exports}}]);
//# sourceMappingURL=TbGzrz.8541880e.js.map