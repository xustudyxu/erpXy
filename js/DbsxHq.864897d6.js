(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["DbsxHq","WdxmBj"],{1100:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"error-main"},[0!=t.pageStyle?i("div",{staticClass:"status"},[i("div",{class:t.getCss()}),i("h3",[t._v(t._s(t.getTitle()))]),i("van-button",{directives:[{name:"show",rawName:"v-show",value:t.showButton,expression:"showButton"}],attrs:{type:"info"},on:{click:t.errorButton}},[t._v(t._s(t.getButton()))])],1):t._e()])},s=[],n={name:"Error",props:{pageStyle:{type:null,required:!0},showButton:{default:!0,type:Boolean}},data:function(){return{}},watch:{pageTitle:function(t){}},created:function(){},methods:{errorButton:function(){-1==this.pageStyle?this.$router.push("/login"):this.$emit("errorButton")},getTitle:function(){return-1==this.pageStyle?"未登录，请先登录":0==this.pageStyle?"正常状态不显示":1==this.pageStyle?"暂无数据":2==this.pageStyle?"无网络，请检查当前网络":3==this.pageStyle?"网络请求失败，请再次尝试":4==this.pageStyle?this.pageTitle:void 0},getCss:function(){return-1==this.pageStyle?"status-icon no-result":0==this.pageStyle?"status-icon no-network":1==this.pageStyle?"status-icon no-result":2==this.pageStyle?"status-icon no-network":3==this.pageStyle?"status-icon no-network":4==this.pageStyle?"status-icon no-xiangmu":void 0},getButton:function(){return-1==this.pageStyle?"登录":"再试一次"}}},o=n,r=i("2877"),c=Object(r["a"])(o,a,s,!1,null,"409e994e",null);e["a"]=c.exports},"445c":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("header",{staticClass:"nav-bar"},[t.headerData.leftText?i("div",{staticClass:"nav-bar-left"},[i("div",{on:{click:function(e){return e.stopPropagation(),t.handelClick(t.headerData.leftUrl)}}},[i("i",{staticClass:"iconfont iconicon-back"}),i("div",{staticClass:"nav-bar-txt"},[t._v(t._s(t.headerData.leftText))])])]):t._e(),i("div",{staticClass:"nav-bar-title"},[t._v(t._s(t.headerData.title))]),i("div",{staticClass:"nav-bar-right"},[t.headerData.rightText?i("div",{staticClass:"nav-bar-txt",on:{click:function(e){return t.handelClick(t.headerData.rightUrl,t.headerData.rightCallBackClick)}}},[t._v(t._s(t.headerData.rightText))]):t._e(),t.headerData.showSearch?i("i",{staticClass:"iconfont iconsousuo",on:{click:function(e){return t.searchClick()}}}):t._e()])])},s=[],n={name:"HeaderBar",props:{headerData:{type:null,required:!0}},data:function(){return{}},created:function(){this.headerData&&(this.headerData.rightCallBackClick||(this.headerData.rightCallBackClick=!1))},methods:{searchClick:function(){this.$bus.$emit("showMeun",!0)},handelClick:function(t,e){if(console.log("targetUrl=====================",t),"back"!==t)if("needConfirm"!==t){if(t)this.$router.push(t);else if(e){var i="callback";this.headerData&&this.headerData.rightText&&(i=this.headerData.rightText),this.$emit("callbackClick",i)}}else this.$emit("on-exit");else this.$router.go(-1)}}},o=n,r=i("2877"),c=Object(r["a"])(o,a,s,!1,null,"416ac0a2",null);e["a"]=c.exports},"510f":function(t,e,i){"use strict";i.d(e,"d",(function(){return r})),i.d(e,"a",(function(){return c})),i.d(e,"b",(function(){return l}));i("a4d3"),i("4de4"),i("c975"),i("a434"),i("b0c0"),i("e439"),i("dbb4"),i("b64b"),i("159b");var a=i("ade3"),s=i("2f62");function n(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function o(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?n(Object(i),!0).forEach((function(e){Object(a["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):n(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var r={mounted:function(){},data:function(){return{}},methods:{goPage:function(t,e){this.$store.dispatch("router/setPageParams",e),this.$router.push({name:t,params:{keyName:e}})},getParams:function(){return this.$store.state.router.pageParams}},beforeRouteEnter:function(t,e,i){i((function(e){if("MhHome"!==t.name&&"MallHome"!==t.name){var i=e.$store.state.router.keepAlive,a=i.indexOf(t.name);-1===a&&i.push(t.name),e.$store.commit("router/SET_KEEP_ALIVE",i)}else e.$store.commit("router/SET_KEEP_ALIVE",[]);console.log("PageRoute=进入页面==",i)}))},beforeRouteLeave:function(t,e,i){var a=[];if(a=this.$store.state.router.keepAlive,"GysXmbm"===e.name){var s=a.indexOf(e.name);a.splice(s,1)}var n=a.indexOf(e.name),o=a.indexOf(t.name);-1!==o&&a.splice(n,1);for(var r=[],c=0;c<this.$store.state.router.footMeun.length;c++)r.push(this.$store.state.router.footMeun[c].component);var l=r.indexOf(e.name),h=r.indexOf(t.name);-1!==l&&-1!==h&&a.splice(n,1),console.log("PageRoute=退出页面======================",a),this.$store.commit("router/SET_KEEP_ALIVE",a),i()}},c={mounted:function(){var t=this;window["showSoftKeyBoard"]=function(e){console.info("showSoftKeyBoard-----",e),t.Native_ShowSoftKeyBoard=e},window["getRotuerPage"]=function(e){return t.$store.state.router.keepAlive},window["updateScanData"]=function(e){console.info("updateScan======",e),t.Native_ScanData=e},window["updateHandImage"]=function(e){t.Native_PhoneImageData=e}},data:function(){return{Native_ShowSoftKeyBoard:"",Native_ScanData:{},Native_PhoneImageData:{},Native_CaLoad:"",Native_CaList:{}}},computed:{},methods:{NativeLoadCA:function(){var t=this;try{this.Native_CaLoad=window.myapp.LoadCA(),console.info("NativeLoadCA======",window.myapp.LoadCA())}catch(e){console.log(e)}this.$bridge.callhandler("LoadCA","{page:1}",(function(e){var i=JSON.parse(e);console.log("goScanView------",e),t.Native_CaLoad=i}))},NativeGetAllCAInfo:function(){try{console.info("NativeGetAllCAInfo======",window.myapp.getAllCAInfo());var t=window.myapp.getAllCAInfo();this.Native_CaList=JSON.parse(t)}catch(e){console.log(e)}this.$bridge.callhandler("getAllCAInfo",(function(t){}))},NativeGetOnelCAInfo:function(t){try{console.info("NativeGetAllCAInfo======",window.myapp.getOneCAInfo())}catch(e){console.log(e)}this.$bridge.callhandler("getOneCAInfo",t,(function(t){}))},NativeChangePin:function(t){try{window.myapp.changePin(t)}catch(e){console.log(e)}this.$bridge.callhandler("changePin",t,(function(t){}))},NativeEnvelopeDecrypt:function(t){try{window.myapp.envelopeDecrypt(t)}catch(e){console.log(e)}this.$bridge.callhandler("envelopeDecrypt",t,(function(t){}))},NativeEnvelopeEncrypt:function(t){try{window.myapp.envelopeEncrypt(t)}catch(e){console.log(e)}this.$bridge.callhandler("envelopeEncrypt",t,(function(t){}))}}},l={mounted:function(){var t=this;window["getRotuerPage"]=function(e){return t.$store.state.router.keepAlive},window["updateScanData"]=function(e){console.info("updateScan======",e),t.Native_ScanData=e},window["updateHandImage"]=function(e){t.Native_PhoneImageData=e}},data:function(){return{Native_ScanData:{},Native_PhoneImageData:{}}},computed:{},methods:{NativeAddPush:function(t){try{window.myapp.addPush(t)}catch(e){console.log(e)}this.$bridge.callhandler("addPush",t,(function(t){}))},NativeDissPush:function(){try{window.myapp.dissPush()}catch(t){console.log(t)}this.$bridge.callhandler("dissPush",(function(t){}))},NativeDissDialog:function(){try{window.myapp.dissDialog()}catch(t){console.log(t)}this.$bridge.callhandler("dissDialog",(function(t){}))},NativeLoginAction:function(t){try{window.myapp.loginAction(t)}catch(e){console.log(e)}this.$bridge.callhandler("loginAction",t,(function(t){}))},NativeCheakUpdate:function(){try{window.myapp.cheakUpdate()}catch(t){console.log(t)}this.$bridge.callhandler("cheakUpdate",(function(t){}))},NativeGetLjSize:function(){try{window.myapp.getlj()}catch(t){console.log(t)}this.$bridge.callhandler("getlj",(function(t){}))},NativeCleanLj:function(){try{window.myapp.cleanlj()}catch(t){console.log(t)}this.$bridge.callhandler("cleanlj",(function(t){}))},NativeDownFiles:function(t){try{window.myapp.downloadFile(t)}catch(e){console.log(e)}this.$bridge.callhandler("downloadFile",String(t),(function(t){}))},NativeScan:function(){var t=this;try{window.myapp.goScanView()}catch(e){console.log(e)}this.$bridge.callhandler("goScanView","{page:1}",(function(e){var i=JSON.parse(e);console.log("goScanView------",e),t.Native_ScanData=i}))},NativePhone:function(t){var e=this;try{window.myapp.goIDCards(t)}catch(i){console.log(i)}this.$bridge.callhandler("goIDCards",t,(function(t){var i=JSON.parse(t);console.log("goIDCards------",i),e.Native_PhoneImageData=i}))},NativeHandSing:function(){var t=this;try{window.myapp.goHandWriteView()}catch(e){console.log(e)}this.$bridge.callhandler("goHandWriteView",(function(e){t.Native_PhoneImageData=e}))},NativeCallPhone:function(t){try{window.myapp.call(t)}catch(e){console.log(e)}this.$bridge.callhandler("call",t,(function(t){}))},NativeUpdateImage:function(){try{window.myapp.CameraOrImage()}catch(t){console.log(t)}this.$bridge.callhandler("CameraOrImage",(function(t){}))}}};o({onQueryChange:function(t){this.query=t},blurInput:function(){this.$refs.searchBox.blur()},addQuery:function(t){this.$refs.searchBox.setQuery(t)},saveSearch:function(){this.updateHostorList(this.query)}},Object(s["b"])(["updateHostorList","deleteSearchHistory"])),o({wybmAction:function(){this.wybmfbAction()}},Object(s["b"])(["wybmfbAction"]))},6595:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"didaList"}},[0==t.pageStyles?i("div",[i("van-pull-refresh",{on:{refresh:t.onRefresh},model:{value:t.isLoading,callback:function(e){t.isLoading=e},expression:"isLoading"}},[i("van-list",{attrs:{finished:t.finished,"finished-text":t.finishedText,"error-text":t.errorText},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},[t._t("default")],2)],1)],1):i("div",[i("error-page",{attrs:{"page-style":t.pageStyles},on:{errorButton:t.parentReceive}})],1)])},s=[],n=(i("99af"),i("1100")),o={components:{errorPage:n["a"]},props:{postUrl:{type:null,required:!0},dataName:{type:null,required:!0},reqData:{type:null,required:!0},apptypeShow:{type:Boolean,default:!0}},data:function(){return{list:[],pageStyles:0,loading:!1,finished:!1,isLoading:!1,query:"",pagesize:10,xxList:[],currentpage:1,totalpageno:0,finishedText:"没有更多了",errorText:"请求失败，点击重新加载",total:0}},created:function(){this.reqNewData=this.reqData,console.info("reqData-----------------",this.reqData);var t=this;this.$bus.$on("refList",(function(e){var i=this;t.query=e,t.currentpage=1,t.getListData(e).then((function(t){i.loading=!1,i.totalpageno<=i.currentpage&&(i.finished=!0)}))}))},beforeDestroy:function(){this.$bus.$off("refList")},methods:{getListData:function(){var t=this,e=this.reqData;console.info("query--11--",this.query);var i={};if(this.apptypeShow){if(null!=this.query&&""!==this.query){var a={apptype:"APP"};this.query=Object.assign(this.query,a)}else this.query={apptype:"APP"};i={pageno:this.currentpage,query:JSON.stringify(this.query)}}else null!=this.query&&""!==this.query?(this.query=Object.assign(this.query),i={pageno:this.currentpage,query:JSON.stringify(this.query)}):i={pageno:this.currentpage};return console.info("form111-----------------",e),this.$store.dispatch(this.postUrl,Object.assign(e,i)).then((function(e){t.totalpageno=e.totalpageno?e.totalpageno:e.totalPages,t.pageStyles=0,0===t.totalpageno&&(t.pageStyles=1),1===t.currentpage?(t.list=t.dataName?e[t.dataName]:e,null!=t.list&&0!==t.list.length||(t.pageStyles=1)):0===e.length?t.finished=!0:t.totalpageno>=t.currentpage?t.list=t.list.concat(t.dataName?e[t.dataName]:e):t.finished=!0,console.log("this.list===============================",t.list),e&&e.title?(t.xxList.data=t.list,t.xxList.title=e.title,t.$emit("returnData",t.xxList)):t.$emit("returnData",t.list)})).catch((function(e){t.pageStyles=3,t.loading=!1,t.errorText=e}))},parentReceive:function(){this.onRefresh(this.query)},onLoad:function(){var t=this;this.getListData().then((function(e){t.loading=!1,t.currentpage++,t.totalpageno<t.currentpage&&(t.finished=!0)}))},onRefresh:function(t){var e=this;this.query=null!=t&&""!==t?t:{},this.list=[],this.currentpage=1,this.getListData(1).then((function(){e.isLoading=!1,e.finished=!1}))},hideLoading:function(){this.loading=!1},hideIsLoading:function(){this.isLoading=!1}}},r=o,c=i("2877"),l=Object(c["a"])(r,a,s,!1,null,null,null);e["a"]=l.exports},cfaf:function(t,e,i){"use strict";var a=i("dacc"),s=i.n(a);s.a},d26a:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"spyj-page"},[i("headerBar",{attrs:{"header-data":t.headerData}}),i("div",{staticClass:"fixed-project"},[i("div",{staticClass:"list"},[i("h3",[t._v(t._s(t.dbxq.lcslmc))]),i("div",{staticClass:"info"},[i("span",[i("i",{staticClass:"iconfont iconlianxiren"}),t._v(" "+t._s(t.dbxq.preUsers)+" ")]),i("span",[i("i",{staticClass:"iconfont iconshijian"}),t._v(" "+t._s(t.dbxq.showTime)+" ")]),i("span",[i("i",{staticClass:"iconfont iconpingbiaobaogao"}),t._v(" "+t._s(t.dbxq.rwmc)+" ")])])])]),i("div",{staticClass:"container-mini"},[i("div",{staticClass:"content"},[i("div",{staticClass:"common-main box"},[t._m(0),i("van-cell",{attrs:{title:"会签人员",value:t.hqryVal,"is-link":""},on:{click:t.showHqryPopup}}),"multi"===t.hqbqdz?i("div",[i("van-cell",{attrs:{title:"多人设置",value:t.drszVal,"is-link":""},on:{click:t.showDrszPopup}}),i("van-cell",{attrs:{title:"会签设置",value:t.hqszVal,"is-link":""},on:{click:t.showHqszPopup}})],1):t._e()],1)]),i("div",{staticClass:"content"},[i("div",{staticClass:"common-main box"},[i("div",{staticClass:"txyj"},[i("div",{staticClass:"txyj-tit"},[i("span",{staticClass:"text-danger"},[t._v("*")]),t._v(" "+t._s(t.dbxq.taskCommentLabel)+" "),i("div",{staticClass:"label-text info"},[t._v("同意")]),i("span",{staticClass:"more",on:{click:function(e){return t.showCyyPopup()}}},[t._v("选择常用语 "),i("i",{staticClass:"iconfont iconarrowright"})])]),i("div",{staticClass:"txyj-content"},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.spyj,expression:"spyj"}],attrs:{rows:"3",placeholder:"请输入"+t.dbxq.taskCommentLabel},domProps:{value:t.spyj},on:{input:function(e){e.target.composing||(t.spyj=e.target.value)}}})])])])]),i("div",{staticClass:"common-space"}),i("div",{staticClass:"foot-btn fixed"},[i("ul",[i("li",[i("van-button",{attrs:{type:"info",size:"large",round:""},on:{click:function(e){return t.subimitSPYJ()}}},[t._v("提交")])],1)])])]),i("transition",{attrs:{name:"router-slid",mode:"out-in"}},[i("router-view")],1),i("van-popup",{attrs:{position:"bottom",round:""},model:{value:t.showDrsz,callback:function(e){t.showDrsz=e},expression:"showDrsz"}},[i("van-picker",{attrs:{"show-toolbar":"",columns:t.hqxxMap.drwgxList,"value-key":"value"},on:{cancel:function(e){t.showDrsz=!1},confirm:t.drszOnConfirm}})],1),i("van-popup",{attrs:{position:"bottom",round:""},model:{value:t.showHqsz,callback:function(e){t.showHqsz=e},expression:"showHqsz"}},[i("van-picker",{attrs:{"show-toolbar":"",columns:t.hqxxMap.hqszList,"value-key":"value"},on:{cancel:function(e){t.showHqsz=!1},confirm:t.hqszOnConfirm}})],1),i("van-popup",{attrs:{position:"bottom",round:""},model:{value:t.showCyy,callback:function(e){t.showCyy=e},expression:"showCyy"}},[i("van-picker",{attrs:{"show-toolbar":"",columns:t.cyyList,"value-key":"nr"},on:{cancel:function(e){t.showCyy=!1},confirm:t.xzCyyOnConfirm}})],1),i("van-popup",{style:{height:"100%"},attrs:{position:"bottom",closeable:""},model:{value:t.showHqrySingle,callback:function(e){t.showHqrySingle=e},expression:"showHqrySingle"}},[i("van-index-bar",{attrs:{"index-list":t.indexList}},[i("div",{staticClass:"content"},[i("van-sticky",{staticClass:"van-sticky-approve"},[i("div",{staticClass:"close-button",on:{click:function(e){t.showHqrySingle=!1}}},[i("i",{staticClass:"iconfont iconguanbi"})]),i("div",{staticClass:"select-search"},[i("van-search",{attrs:{placeholder:"请输入搜索关键词"},model:{value:t.searchVal,callback:function(e){t.searchVal=e},expression:"searchVal"}}),i("van-button",{attrs:{plain:"",type:"info",size:"small"},on:{click:function(e){return t.searchRy()}}},[t._v("搜索")])],1)]),i("common-list",{ref:"commonlist",staticClass:"common-list",attrs:{"post-url":t.list.postUrl,"req-data":t.list.reqData,"data-name":t.list.dataName},on:{returnData:function(e){return t.getPrizeLog(e)}}},t._l(t.list.items,(function(e,a){return i("div",{key:a},[e["xs"+e.ryxs]?i("div",[i("van-index-anchor",{attrs:{index:e["xs"+e.ryxs]}})],1):i("div",[i("div",{staticClass:"select-renyuan",class:{active:e.isActive},on:{click:function(i){return t.selectRy(e)}}},[i("div",{staticClass:"renyuan-m"},[i("div",{staticClass:"name"},[t._v(t._s(e.xm))]),i("div",{staticClass:"info"},[i("span",[t._v("公司:"+t._s(e.zzmc))]),i("span",[t._v("部门:"+t._s(e.bmmc))])])])])])])})),0)],1),i("div",{staticClass:"common-space"})])],1),i("van-popup",{style:{height:"100%"},attrs:{position:"bottom",closeable:""},model:{value:t.showHqryMulti,callback:function(e){t.showHqryMulti=e},expression:"showHqryMulti"}},[i("van-index-bar",{attrs:{"index-list":t.indexList}},[i("div",{staticClass:"content"},[i("van-sticky",{staticClass:"van-sticky-approve"},[i("div",{staticClass:"close-button",on:{click:function(e){t.showHqryMulti=!1}}},[i("i",{staticClass:"iconfont iconguanbi"})]),i("div",{staticClass:"select-search"},[i("van-search",{attrs:{placeholder:"请输入搜索关键词"},model:{value:t.searchVal,callback:function(e){t.searchVal=e},expression:"searchVal"}}),i("van-button",{attrs:{plain:"",type:"info",size:"small"},on:{click:function(e){return t.searchRy()}}},[t._v("搜索")])],1),i("div",{staticClass:"selected-renyuan"},[i("dl",[i("dt",[t._v("已选")]),i("dd",t._l(t.yxryList,(function(e,a){return i("span",{key:a,staticClass:"item"},[t._v(t._s(e.xm))])})),0)])])]),i("common-list",{ref:"commonlist",staticClass:"common-list",attrs:{"post-url":t.list.postUrl,"req-data":t.list.reqData,"data-name":t.list.dataName},on:{returnData:function(e){return t.getPrizeLog(e)}}},t._l(t.list.items,(function(e,a){return i("div",{key:a},[e["xs"+e.ryxs]?i("div",[i("van-index-anchor",{attrs:{index:e["xs"+e.ryxs]}})],1):i("div",[i("div",{staticClass:"select-renyuan",class:{active:e.isActive},on:{click:function(i){return t.selectRy(e)}}},[i("div",{staticClass:"renyuan-l"},[i("i",{staticClass:"iconfont iconxuanzhong"})]),i("div",{staticClass:"renyuan-m"},[i("div",{staticClass:"name"},[t._v(t._s(e.xm))]),i("div",{staticClass:"info"},[i("span",[t._v("公司:"+t._s(e.zzmc))]),i("span",[t._v("部门:"+t._s(e.bmmc))])])])])])])})),0)],1),i("div",{staticClass:"common-space"}),i("div",{staticClass:"foot-btn fixed"},[i("ul",[i("li",[i("van-button",{attrs:{type:"info",round:"",size:"large"},on:{click:t.xzMutilRyOnConfirm}},[t._v("确定")])],1)])])])],1)],1)},s=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"title"},[i("div",{staticClass:"title-left"},[i("h2",[t._v("选择会签人员")])])])}],n=(i("a4d3"),i("4de4"),i("c740"),i("c975"),i("a434"),i("e439"),i("dbb4"),i("b64b"),i("159b"),i("ade3")),o=i("445c"),r=i("6595"),c=i("2f62"),l=i("251e"),h=i("510f");function u(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function d(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?u(Object(i),!0).forEach((function(e){Object(n["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):u(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var p={name:"DbsxHq",components:{headerBar:o["a"],commonList:r["a"]},mixins:[h["d"]],data:function(){return{hqxxMap:{},spyj:"",dbxq:{},headerData:{title:"待办审批",leftUrl:"back",leftText:" "},showHqryMulti:!1,showHqrySingle:!1,showHqsz:!1,showDrsz:!1,hqszVal:"会签设置",drszVal:"多人设置",hqryVal:"选择会签人员",hqryId:"",hqszKey:"",drszKey:"",hqbqdz:"",showCyy:!1,cyyList:[],pageno:1,totalpageno:0,indexList:[],list:{items:[],error:!1,postUrl:"",reqData:"",dataName:"",noDataText:""},searchVal:"",yxryList:[],btnMc:"会签"}},computed:d({},Object(c["d"])({userInfo:function(t){return t.mh.mhUserInfo},txBizid:function(t){return t.jbrdbsx.txBizid}})),created:function(){this.btnMc=this.$route.params.btnMc,this.getHqxx(),this.getDbxq(),this.getcyylist(),this.getrylist()},methods:d({},Object(c["c"])(["jbrdbsx/SET_DBSX_CYY","jbrdbsx/SET_Refresh"]),{getDbxq:function(){var t=this;this.$store.dispatch("jbrdbsx/getDbxqAction",{bizid:this.txBizid}).then((function(e){t.dbxq=e})).catch((function(){}))},getPrizeLog:function(t){this.list.items=t;for(var e=0;e<this.list.items.length;e++){var i=this.list.items[e].ryxs;this.list.items[e]["xs"+i]&&this.indexList&&-1===this.indexList.indexOf(this.list.items[e]["xs"+i])&&this.indexList.push(this.list.items[e]["xs"+i]),this.hqxxMap.hqryid&&-1!==this.hqxxMap.hqryid.indexOf(this.list.items[e].id)&&(this.list.items[e].isActive=!0,this.yxryList.push(this.list.items[e]));for(var a=0;a<this.yxryList.length;a++)this.list.items[e].id===this.yxryList[a].id&&(this.list.items[e].isActive=!0)}},searchRy:function(){this.indexList=[];var t={rymc:this.searchVal};this.$refs.commonlist.onRefresh(t)},getrylist:function(){this.list.postUrl="jbrdbsx/getRyListAction",this.list.reqData={dqbmid:this.userInfo.bmid},this.list.dataName="ryList",this.list.noDataText="暂无可选人员"},getcyylist:function(){var t=this;this.$store.dispatch("jbrdbsx/getCyyListAction",{pageno:this.pageno,id:this.userInfo.id}).then((function(e){t.cyyList=e.data,t.pageno=e.pageno,t.totalpageno=e.totalpageno})).catch((function(){}))},saveCyy:function(){var t=this;null!=this.spyj&&0!==this.spyj.length?this.$store.dispatch("jbrdbsx/saveCyyAction",{nr:this.spyj,ryid:this.userInfo.id}).then((function(e){t.$toast("保存成功！"),t.getcyylist()})).catch((function(){})):this.$toast(this.dbxq.taskCommentLabel+"为空，不能保存为常用语!")},xzCyyOnConfirm:function(t){this.spyj=t.nr,this.showCyy=!1},getHqxx:function(){var t=this;Object(l["d"])({id:this.txBizid}).then((function(e){t.hqxxMap=e,t.hqbqdz=t.hqxxMap.hqbqdz,t.hqxxMap.hqryid&&(t.hqryId=t.hqxxMap.hqryid),t.hqxxMap.hqrymc&&(t.hqryVal=t.hqxxMap.hqrymc),t.hqxxMap.hqsz&&(t.hqszVal=t.hqxxMap.hqszMap[t.hqxxMap.hqsz],t.hqszKey=t.hqxxMap.hqsz),t.hqxxMap.drwgx&&(t.drszVal=t.hqxxMap.drwgxMap[t.hqxxMap.drwgx],t.drszKey=t.hqxxMap.drwgx)}))},drszOnConfirm:function(t){this.drszKey=t.key,this.drszVal=t.value,this.showDrsz=!1},hqszOnConfirm:function(t){this.hqszKey=t.key,this.hqszVal=t.value,this.showHqsz=!1},subimitSPYJ:function(){var t=this;null!=this.spyj&&this.spyj.length>0&&""!==this.hqryId?this.$store.dispatch("jbrdbsx/sendHq",{id:this.txBizid,taskComment:this.spyj,hqsz:this.hqszKey,hqryids:this.hqryId,drwgx:this.drszKey,btnMc:this.btnMc}).then((function(e){t.$toast("提交成功！"),setTimeout((function(){t.$router.push("/DbsxIndex"),t.SET_Refresh("true")}),2e3)})).catch((function(e){t.$toast(e)})):""===this.hqryId?this.$toast("请选择人员"):this.$toast("请设置审批意见")},selectRy:function(t){if("multi"===this.hqbqdz)if(t.isActive){t.isActive=!1;var e=this.yxryList.findIndex((function(e){if(e.id===t.id)return!0}));this.yxryList.splice(e,1)}else t.isActive=!0,this.yxryList.push(t);else this.hqryVal=t.xm,this.hqryId=t.id,this.showHqrySingle=!1},xzMutilRyOnConfirm:function(){var t="",e="",i=this.yxryList;if(i)for(var a=0;a<i.length;a++)a===i.length-1?(t+=i[a].id,e+=i[a].xm):(t+=i[a].id+",",e+=i[a].xm+",");this.hqryId=t,this.hqryVal=e,this.showHqryMulti=!1},showCyyPopup:function(){this.showCyy=!0},showHqszPopup:function(){this.showHqsz=!0},showDrszPopup:function(){this.showDrsz=!0},showHqryPopup:function(){"multi"===this.hqbqdz?this.showHqryMulti=!0:this.showHqrySingle=!0}})},f=p,y=(i("cfaf"),i("2877")),g=Object(y["a"])(f,a,s,!1,null,"29cc9026",null);e["default"]=g.exports},dacc:function(t,e,i){}}]);
//# sourceMappingURL=DbsxHq.864897d6.js.map