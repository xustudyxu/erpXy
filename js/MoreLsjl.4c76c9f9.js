(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["MoreLsjl"],{1100:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"error-main"},[0!=t.pageStyle?a("div",{staticClass:"status"},[a("div",{class:t.getCss()}),a("h3",[t._v(t._s(t.getTitle()))]),a("van-button",{directives:[{name:"show",rawName:"v-show",value:t.showButton,expression:"showButton"}],attrs:{type:"info"},on:{click:t.errorButton}},[t._v(t._s(t.getButton()))])],1):t._e()])},s=[],n={name:"Error",props:{pageStyle:{type:null,required:!0},showButton:{default:!0,type:Boolean}},data:function(){return{}},watch:{pageTitle:function(t){}},created:function(){},methods:{errorButton:function(){-1==this.pageStyle?this.$router.push("/login"):this.$emit("errorButton")},getTitle:function(){return-1==this.pageStyle?"未登录，请先登录":0==this.pageStyle?"正常状态不显示":1==this.pageStyle?"暂无数据":2==this.pageStyle?"无网络，请检查当前网络":3==this.pageStyle?"网络请求失败，请再次尝试":4==this.pageStyle?this.pageTitle:void 0},getCss:function(){return-1==this.pageStyle?"status-icon no-result":0==this.pageStyle?"status-icon no-network":1==this.pageStyle?"status-icon no-result":2==this.pageStyle?"status-icon no-network":3==this.pageStyle?"status-icon no-network":4==this.pageStyle?"status-icon no-xiangmu":void 0},getButton:function(){return-1==this.pageStyle?"登录":"再试一次"}}},r=n,l=a("2877"),o=Object(l["a"])(r,i,s,!1,null,"409e994e",null);e["a"]=o.exports},"445c":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("header",{staticClass:"nav-bar"},[t.headerData.leftText?a("div",{staticClass:"nav-bar-left"},[a("div",{on:{click:function(e){return e.stopPropagation(),t.handelClick(t.headerData.leftUrl)}}},[a("i",{staticClass:"iconfont iconicon-back"}),a("div",{staticClass:"nav-bar-txt"},[t._v(t._s(t.headerData.leftText))])])]):t._e(),a("div",{staticClass:"nav-bar-title"},[t._v(t._s(t.headerData.title))]),a("div",{staticClass:"nav-bar-right"},[t.headerData.rightText?a("div",{staticClass:"nav-bar-txt",on:{click:function(e){return t.handelClick(t.headerData.rightUrl,t.headerData.rightCallBackClick)}}},[t._v(t._s(t.headerData.rightText))]):t._e(),t.headerData.showSearch?a("i",{staticClass:"iconfont iconsousuo",on:{click:function(e){return t.searchClick()}}}):t._e()])])},s=[],n={name:"HeaderBar",props:{headerData:{type:null,required:!0}},data:function(){return{}},created:function(){this.headerData&&(this.headerData.rightCallBackClick||(this.headerData.rightCallBackClick=!1))},methods:{searchClick:function(){this.$bus.$emit("showMeun",!0)},handelClick:function(t,e){if(console.log("targetUrl=====================",t),"back"!==t)if("needConfirm"!==t){if(t)this.$router.push(t);else if(e){var a="callback";this.headerData&&this.headerData.rightText&&(a=this.headerData.rightText),this.$emit("callbackClick",a)}}else this.$emit("on-exit");else this.$router.go(-1)}}},r=n,l=a("2877"),o=Object(l["a"])(r,i,s,!1,null,"416ac0a2",null);e["a"]=o.exports},"49e5":function(t,e,a){"use strict";var i=a("7e9a"),s=a.n(i);s.a},6595:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"didaList"}},[0==t.pageStyles?a("div",[a("van-pull-refresh",{on:{refresh:t.onRefresh},model:{value:t.isLoading,callback:function(e){t.isLoading=e},expression:"isLoading"}},[a("van-list",{attrs:{finished:t.finished,"finished-text":t.finishedText,"error-text":t.errorText},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},[t._t("default")],2)],1)],1):a("div",[a("error-page",{attrs:{"page-style":t.pageStyles},on:{errorButton:t.parentReceive}})],1)])},s=[],n=(a("99af"),a("1100")),r={components:{errorPage:n["a"]},props:{postUrl:{type:null,required:!0},dataName:{type:null,required:!0},reqData:{type:null,required:!0},apptypeShow:{type:Boolean,default:!0}},data:function(){return{list:[],pageStyles:0,loading:!1,finished:!1,isLoading:!1,query:"",pagesize:10,xxList:[],currentpage:1,totalpageno:0,finishedText:"没有更多了",errorText:"请求失败，点击重新加载",total:0}},created:function(){this.reqNewData=this.reqData,console.info("reqData-----------------",this.reqData);var t=this;this.$bus.$on("refList",(function(e){var a=this;t.query=e,t.currentpage=1,t.getListData(e).then((function(t){a.loading=!1,a.totalpageno<=a.currentpage&&(a.finished=!0)}))}))},beforeDestroy:function(){this.$bus.$off("refList")},methods:{getListData:function(){var t=this,e=this.reqData;console.info("query--11--",this.query);var a={};if(this.apptypeShow){if(null!=this.query&&""!==this.query){var i={apptype:"APP"};this.query=Object.assign(this.query,i)}else this.query={apptype:"APP"};a={pageno:this.currentpage,query:JSON.stringify(this.query)}}else null!=this.query&&""!==this.query?(this.query=Object.assign(this.query),a={pageno:this.currentpage,query:JSON.stringify(this.query)}):a={pageno:this.currentpage};return console.info("form111-----------------",e),this.$store.dispatch(this.postUrl,Object.assign(e,a)).then((function(e){t.totalpageno=e.totalpageno?e.totalpageno:e.totalPages,t.pageStyles=0,0===t.totalpageno&&(t.pageStyles=1),1===t.currentpage?(t.list=t.dataName?e[t.dataName]:e,null!=t.list&&0!==t.list.length||(t.pageStyles=1)):0===e.length?t.finished=!0:t.totalpageno>=t.currentpage?t.list=t.list.concat(t.dataName?e[t.dataName]:e):t.finished=!0,console.log("this.list===============================",t.list),e&&e.title?(t.xxList.data=t.list,t.xxList.title=e.title,t.$emit("returnData",t.xxList)):t.$emit("returnData",t.list)})).catch((function(e){t.pageStyles=3,t.loading=!1,t.errorText=e}))},parentReceive:function(){this.onRefresh(this.query)},onLoad:function(){var t=this;this.getListData().then((function(e){t.loading=!1,t.currentpage++,t.totalpageno<t.currentpage&&(t.finished=!0)}))},onRefresh:function(t){var e=this;this.query=null!=t&&""!==t?t:{},this.list=[],this.currentpage=1,this.getListData(1).then((function(){e.isLoading=!1,e.finished=!1}))},hideLoading:function(){this.loading=!1},hideIsLoading:function(){this.isLoading=!1}}},l=r,o=a("2877"),c=Object(o["a"])(l,i,s,!1,null,null,null);e["a"]=c.exports},"7e9a":function(t,e,a){},eaff:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("headerBar",{attrs:{"header-data":t.headerData}}),a("div",{staticClass:"xmxx-main",staticStyle:{"margin-top":"80px"}},[a("div",{staticClass:"container-mini"},[a("div",{staticClass:"content"},[a("common-list",{ref:"ggcommonlist",staticClass:"common-list",attrs:{"post-url":t.list.postUrl,"apptype-show":!1,"req-data":t.list.reqData,"data-name":t.list.dataName},on:{returnData:function(e){return t.getPrizeLog(e)}}},t._l(t.lsjlList,(function(e,i){return a("div",{key:i},[1===t.dklx?a("div",{staticClass:"common-main box"},[a("div",{staticClass:"page-list"},[a("div",{staticClass:"pagelist-left"},[t._v("上午打卡时间")]),a("div",{staticClass:"pagelist-right"},[t._v(t._s(t.zhTime(e.ccdksj)))])]),a("div",{staticClass:"page-list"},[a("div",{staticClass:"pagelist-left"},[t._v("下午打卡时间")]),a("div",{staticClass:"pagelist-right"},[t._v(t._s(t.zhTime(e.fcdksj)))])])]):t._e(),2===t.dklx?a("div",{staticClass:"common-main box"},[a("div",{staticClass:"page-list"},[a("div",{staticClass:"pagelist-left"},[t._v("出差打卡时间")]),a("div",{staticClass:"pagelist-right"},[t._v(t._s(t.zhTime(e.ccdksj)))])]),a("div",{staticClass:"page-list"},[a("div",{staticClass:"pagelist-left"},[t._v("出差打卡地址")]),a("div",{staticClass:"pagelist-right"},[t._v(t._s(e.ccdkwz))])]),a("div",{staticClass:"page-list"},[a("div",{staticClass:"pagelist-left"},[t._v("返程打卡时间")]),a("div",{staticClass:"pagelist-right"},[t._v(t._s(t.zhTime(e.fcdksj)))])]),a("div",{staticClass:"page-list"},[a("div",{staticClass:"pagelist-left"},[t._v("返程打卡地址")]),a("div",{staticClass:"pagelist-right"},[t._v(t._s(e.fcdkwz))])])]):t._e(),3===t.dklx?a("div",{staticClass:"common-main box"},[a("div",{staticClass:"page-list"},[a("div",{staticClass:"pagelist-left"},[t._v("拜访时间")]),a("div",{staticClass:"pagelist-right"},[t._v(t._s(t.zhTime(e.ccdksj)))])]),a("div",{staticClass:"page-list"},[a("div",{staticClass:"pagelist-left"},[t._v("打卡位置")]),a("div",{staticClass:"pagelist-right"},[t._v(t._s(e.ccdkwz))])]),a("div",{staticClass:"page-list"},[a("div",{staticClass:"pagelist-left"},[t._v("拜访客户")]),a("div",{staticClass:"pagelist-right"},[t._v(t._s(e.bfkhmc))])])]):t._e()])})),0)],1)])])],1)},s=[],n=(a("a4d3"),a("4de4"),a("fb6a"),a("e439"),a("dbb4"),a("b64b"),a("159b"),a("ade3")),r=a("6595"),l=a("2f62"),o=a("445c");function c(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function h(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?c(Object(a),!0).forEach((function(e){Object(n["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var u={name:"MoreLsjl",components:{commonList:r["a"],headerBar:o["a"]},data:function(){return{headerData:{title:"历史记录",leftUrl:"back",leftText:" "},list:{items:[],error:!1,postUrl:"",reqData:"",dataName:"",noDataText:""},dklx:"",lsjlList:[]}},computed:h({},Object(l["d"])({userInfo:function(t){return t.mh.mhUserInfo}})),created:function(){this.dklx=this.$route.params.dklx,this.init()},methods:{zhTime:function(t){if(t)return t+="",t.slice(0,4)+"/"+t.slice(4,6)+"/"+t.slice(6,8)+" "+t.slice(8,10)+":"+t.slice(10,12)+":"+t.slice(12,14)},getPrizeLog:function(t){this.lsjlList=t,console.log("this.lsjlList===================================",this.lsjlList)},init:function(){this.list.postUrl="erp/getXsdbKqjlAction",this.list.reqData={userId:this.userInfo.id,ksrq:"",jzrq:"",dkbz:this.dklx,pageno:1,pagerow:5},this.list.dataName="list",this.list.noDataText="暂无数据"}}},d=u,p=(a("49e5"),a("2877")),g=Object(p["a"])(d,i,s,!1,null,"0e57f29f",null);e["default"]=g.exports}}]);
//# sourceMappingURL=MoreLsjl.4c76c9f9.js.map