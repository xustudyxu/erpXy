(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["ZjSfrz"],{"1f50":function(t,a,s){"use strict";var e=s("201c"),i=s.n(e);i.a},"201c":function(t,a,s){},6001:function(t,a){t.exports="data:image/png;base64,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"},f067:function(t,a){t.exports="data:image/png;base64,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"},f545:function(t,a,s){"use strict";s.r(a);var e=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"renzheng"},[e("headerBar",{attrs:{"header-data":t.headerData}}),e("div",{staticClass:"container"},[e("div",{staticClass:"content"},[e("div",{staticClass:"common-main box"},[t._m(0),e("div",{staticClass:"cert-content",on:{click:function(a){return t.goScan()}}},[t._m(1)])])]),t.needIdCard?t._e():e("div",{staticClass:"content"},[e("div",{staticClass:"common-main box"},[t._m(2),e("div",{staticClass:"cert-content",on:{click:function(a){return t.goPhone(1001)}}},[t.IDCards1?t._e():e("div",{staticClass:"cert-icon"},[e("img",{attrs:{src:s("6001")}})]),e("div",{staticClass:"cert-result"},[t.IDCards1?e("div",{staticClass:"result-icon"},[e("img",{staticStyle:{width:"300px",height:"200px"},attrs:{src:t.img1}})]):t._e(),t.IDCards1?e("div",{staticClass:"result-text"},[e("img",{attrs:{src:s("6e72")}}),t._v("身份证正面识别成功")]):t._e()])])])]),t.needIdCard?t._e():e("div",{staticClass:"content"},[e("div",{staticClass:"common-main box"},[t._m(3),e("div",{staticClass:"cert-content",on:{click:function(a){return t.goPhone(2001)}}},[t.IDCards2?t._e():e("div",{staticClass:"cert-icon"},[e("img",{attrs:{src:s("f067")}})]),e("div",{staticClass:"cert-result"},[t.IDCards2?e("div",{staticClass:"result-icon"},[e("img",{staticStyle:{width:"300px",height:"200px"},attrs:{src:t.img2}})]):t._e(),t.IDCards2?e("div",{staticClass:"result-text"},[e("img",{attrs:{src:s("6e72")}}),t._v("身份证反面识别成功")]):t._e()])])])]),e("div",{staticClass:"content"},[e("div",{staticClass:"common-main box"},[e("div",{staticClass:"title"},[t.needIdCard?e("div",{staticClass:"title-left"},[e("h2",[t._v("2、请完成脸部识别")])]):e("div",{staticClass:"title-left"},[e("h2",[t._v("4、请完成脸部识别")])])]),e("div",{staticClass:"cert-content",on:{click:function(a){return t.goFace(3001)}}},[t.IDCards3?t._e():e("div",{staticClass:"cert-icon"},[e("img",{attrs:{src:s("7207")}})]),e("div",{staticClass:"cert-result"},[t.IDCards3?e("div",{staticClass:"result-icon"},[e("img",{staticStyle:{width:"200px",height:"300px"},attrs:{src:t.faceImage}})]):t._e(),t.IDCards3?e("div",{staticClass:"result-text"},[e("img",{attrs:{src:s("6e72")}}),t._v("脸部识别成功")]):t._e()])])])])])],1)},i=[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"title"},[s("div",{staticClass:"title-left"},[s("h2",[t._v("1、扫描需要识别的二维码")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"cert-icon"},[e("img",{attrs:{src:s("5747")}})])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"title"},[s("div",{staticClass:"title-left"},[s("h2",[t._v("2、请拍摄身份证正面")])])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"title"},[s("div",{staticClass:"title-left"},[s("h2",[t._v("3、请拍摄身份证反面")])])])}],n=(s("c975"),s("ace4"),s("b0c0"),s("d3b7"),s("466d"),s("1276"),s("5cc6"),s("9a8c"),s("a975"),s("735e"),s("c1ac"),s("d139"),s("3a7b"),s("d5d6"),s("82f8"),s("e91f"),s("60bd"),s("5f96"),s("3280"),s("3fcc"),s("ca91"),s("25a1"),s("cd26"),s("3c5d"),s("2954"),s("649e"),s("219c"),s("170b"),s("b39a9"),s("72f7"),s("445c")),o=s("510f"),c={name:"ZjSfrz",components:{headerBar:n["a"]},mixins:[o["d"],o["b"]],data:function(){return{serverId:"",localIds:[],file1:"",file2:"",file3:"",token:"",img2:"",img1:"",zjmessage:"",isScan:!1,needIdCard:!1,IDCards1:!1,IDCards2:!1,IDCards3:!1,faceImage:"",isBack:"",baseurl:"",headerData:{title:"身份认证",leftUrl:"back",leftText:" "}}},watch:{Native_ScanData:function(t){console.info("Native_ScanData===0==",t,t.name),t&&(console.info("val===1==",t.name),this.getScanData(t.name),this.token=t.name)},Native_PhoneImageData:function(t){console.info("Native_ScanData===0==",t,t.images),t&&("IDForn"===t.name?this.getPhoneImage(1001,t.images):"IDBack"===t.name?this.getPhoneImage(2001,t.images):"face"===t.name&&this.getFaceImage(t.images))}},methods:{goBackPage:function(){this.$router.push("zjhome")},dissDialog:function(){try{window.myapp.dissDialog()}catch(t){console.log(t)}try{window.webkit.messageHandlers.dissDialog.postMessage()}catch(t){console.log(t)}},goScan:function(){this.NativeScan()},getScanData:function(t){var a=this;this.$store.dispatch("zj/getSfxxAction",t).then((function(s){s=JSON.parse(s),a.zjmessage=s,null!==s?(a.isScan=!0,4===s.method?(a.getCertStatus(t),a.baseurl=s.url):a.$toast.fail("二维码错误！")):a.$toast.fail("二维码信息错误，请核对二维码")})).catch((function(t){a.$toast(t),console.log("error=====",t)}))},getCertStatus:function(t){var a=this,s=new FormData;s.append("idcard",this.zjmessage.idcard),s.append("name",this.zjmessage.name),console.info("this.zjmessage======",this.zjmessage.idcard),console.info("this.zjmessage======",this.zjmessage.name),console.info("this.baseurl======",this.zjmessage.url),this.$store.dispatch("zj/getCertStatusAction",{data:s,baseurl:this.zjmessage.url,token:t}).then((function(t){"未找到验证记录"===t.text&&(a.needIdCard=!1),"存在已验证记录"===t.text&&(a.needIdCard=!0,a.IDCards1=!0,a.IDCards2=!0),a.$toast.success("扫描成功")})).catch((function(t){a.$toast(t),console.log("error=====",t)}))},goPhone:function(t){this.isScan?this.NativePhone(t):this.$toast("请先进行扫码")},is_phone:function(){var t=navigator.userAgent,a=t.indexOf("Android")>-1||t.indexOf("Linux")>-1,s=!!t.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/);return!!a||!s&&void 0},getPhoneImage:function(t,a){var s=this,e="";if(1001===t)e="zj/updateCardFrontAction";else{if(!this.IDCards1)return void this.$toast("请先完成身份证正面认证");e="zj/updateCardBackAction"}console.log("url===========",e);var i=new FormData;i.append("file",this.dataURLtoFile(a,"i.jpg"),"head_image"),i.append("idcard",this.zjmessage.idcard),i.append("name",this.zjmessage.name),this.$store.dispatch(e,{token:this.token,data:i,baseurl:this.baseurl}).then((function(e){console.log("res=====",e),1001===t?(s.IDCards1=!0,s.img1=a,s.$toast.success("身份证正面认证成功！")):(s.IDCards2=!0,s.img2=a,s.$toast.success("身份证反面认证成功！"))})).catch((function(t){s.$toast(t),console.log("error=====",t)}))},dataURLtoFile:function(t,a){var s=t.split(","),e=s[0].match(/:(.*?);/)[1],i=atob(s[1]),n=i.length,o=new Uint8Array(n);while(n--)o[n]=i.charCodeAt(n);return new File([o],a,{type:e})},goFace:function(){this.IDCards1||this.IDCards2?this.IDCards1?this.IDCards2?(this.NativePhone(3001),console.log("===========================")):this.$toast("请先完成身份证反面认证"):this.$toast("请先完成身份证正面认证"):this.$toast("请先完成身份证认证")},getFaceImage:function(t){var a=this,s=new FormData;s.append("file",this.dataURLtoFile(t,"i.png"),"head_image"),s.append("name",this.zjmessage.name),this.$store.dispatch("zj/matchIdcardPhotoAction",{token:this.token,data:s,baseurl:this.zjmessage.url}).then((function(s){a.IDCards3=!0,a.faceImage=t,a.$toast.success("身份认证成功！"),console.log("res=====",s)})).catch((function(t){a.$toast(t),console.log("error=====",t)}))}}},r=c,d=(s("1f50"),s("2877")),l=Object(d["a"])(r,e,i,!1,null,"33053edf",null);a["default"]=l.exports}}]);
//# sourceMappingURL=ZjSfrz.7dbbc290.js.map