(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["GoodsList","WdxmBj"],{1100:function(t,s,e){"use strict";var i=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"error-main"},[0!=t.pageStyle?e("div",{staticClass:"status"},[e("div",{class:t.getCss()}),e("h3",[t._v(t._s(t.getTitle()))]),e("van-button",{directives:[{name:"show",rawName:"v-show",value:t.showButton,expression:"showButton"}],attrs:{type:"info"},on:{click:t.errorButton}},[t._v(t._s(t.getButton()))])],1):t._e()])},a=[],o={name:"Error",props:{pageStyle:{type:null,required:!0},showButton:{default:!0,type:Boolean}},data:function(){return{}},watch:{pageTitle:function(t){}},created:function(){},methods:{errorButton:function(){-1==this.pageStyle?this.$router.push("/login"):this.$emit("errorButton")},getTitle:function(){return-1==this.pageStyle?"未登录，请先登录":0==this.pageStyle?"正常状态不显示":1==this.pageStyle?"暂无数据":2==this.pageStyle?"无网络，请检查当前网络":3==this.pageStyle?"网络请求失败，请再次尝试":4==this.pageStyle?this.pageTitle:void 0},getCss:function(){return-1==this.pageStyle?"status-icon no-result":0==this.pageStyle?"status-icon no-network":1==this.pageStyle?"status-icon no-result":2==this.pageStyle?"status-icon no-network":3==this.pageStyle?"status-icon no-network":4==this.pageStyle?"status-icon no-xiangmu":void 0},getButton:function(){return-1==this.pageStyle?"登录":"再试一次"}}},n=o,c=e("2877"),r=Object(c["a"])(n,i,a,!1,null,"409e994e",null);s["a"]=r.exports},"430e":function(t,s,e){"use strict";e.r(s);var i=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",[i("div",{staticClass:"nav-bar noshadow"},[i("div",{staticClass:"nav-bar-left",on:{click:function(s){return t.goBack()}}},[i("i",{staticClass:"iconfont iconicon-back"})]),i("div",{staticClass:"nav-bar-search",on:{click:t.goSearch}},[i("div",{staticClass:"header-search"},[i("search-box",{ref:"searchBox",attrs:{"search-input":t.selectGoodsDatas.search_input}})],1)]),i("div",{staticClass:"nav-bar-right",on:{click:function(s){return t.showQhzsBtn()}}},[i("div",{class:0==t.showQhzs?"switch-goodslist active":"switch-goodslist"},[i("i",{staticClass:"iconfont iconliebiao"})])])]),i("van-sticky",[i("div",{staticClass:"sortbar"},[i("dl",{class:0===t.active?"active":"",on:{click:function(s){return t.changeClass(0)}}},[i("dt",[t._v("配送地址")])]),i("dl",{class:1===t.active?"active":"",on:{click:function(s){return t.changeClass1(1)}}},[i("dt",[t._v("销量")]),""!==t.xlSx?i("dd",[i("div",{staticClass:"sortbar-inline"},[t.xlSx?i("em",{staticClass:"asc"},[i("i",{staticClass:"iconfont iconarrow-up"})]):i("em",{staticClass:"desc"},[i("i",{staticClass:"iconfont iconarrow-down"})])])]):t._e()]),i("dl",{class:2===t.active?"active":"",on:{click:function(s){return t.changeClass1(2)}}},[i("dt",[t._v("价格")]),""!==t.jgSx?i("dd",[i("div",{staticClass:"sortbar-inline"},[t.jgSx?i("em",{staticClass:"asc"},[i("i",{staticClass:"iconfont iconarrow-up"})]):i("em",{staticClass:"desc"},[i("i",{staticClass:"iconfont iconarrow-down"})])])]):t._e()]),i("dl",{class:3===t.active?"active":"",on:{click:function(s){return t.changeClass1(3)}}},[i("dt",[t._v("上架时间")]),""!==t.sjsjSx?i("dd",[i("div",{staticClass:"sortbar-inline"},[t.sjsjSx?i("em",{staticClass:"asc"},[i("i",{staticClass:"iconfont iconarrow-up"})]):i("em",{staticClass:"desc"},[i("i",{staticClass:"iconfont iconarrow-down"})])])]):t._e()]),i("dl",{on:{click:t.showPopup}},[i("dt",[t._v("筛选")]),i("dd",[i("i",{staticClass:"iconfont iconfilter"})])])]),i("div",{ref:"tab",staticClass:"scrolltab-fillet"},[i("ul",{ref:"tabWrapper",staticClass:"tab_content"},t._l(t.navs,(function(s,e){return"XJZQ"!==s.dsbs&&"JJZQ"!==s.dsbs?i("li",{key:e,ref:"tabitem",refInFor:!0,staticClass:"tab_item",class:t.active1===s.dsbs?"active":""},[i("span",{staticClass:"tit",on:{click:function(i){return t.searchByZq(s.dsbs,e)}}},[t._v(t._s(s.name))])]):t._e()})),0)])]),i("van-popup",{style:{width:"100%"},attrs:{position:"right"},model:{value:t.show,callback:function(s){t.show=s},expression:"show"}},[i("div",{staticClass:"selectside"},[i("div",{staticClass:"selectside-content"},[i("div",{staticStyle:{"margin-top":"40px"}},[t.searchList.categorySearchList&&t.searchList.categorySearchList.length>0?i("div",{staticClass:"category-list"},[i("h2",{staticClass:"tit"},[t._v("商品分类"),i("i",{staticClass:"iconfont iconguanbi",staticStyle:{float:"right"},on:{click:t.guanbi}})]),i("ul",t._l(t.searchList.categorySearchList,(function(s,e){return i("li",{key:e,class:{active:e===t.isActive1}},[i("div",{staticClass:"name",on:{click:function(i){return t.clickCategory(s,s.id,e)}}},[t._v(" "+t._s(s.name)+"["+t._s(s.COUNT)+"]")]),i("em",{staticClass:"del",on:{click:function(s){return t.chongzhi(1)}}})])})),0)]):t._e(),i("div",{staticClass:"category-list"},[i("h2",{staticClass:"tit"},[t._v("品牌"),t.searchList.categorySearchList&&0===t.searchList.categorySearchList.length?i("i",{staticClass:"iconfont iconguanbi",staticStyle:{float:"right"},on:{click:t.guanbi}}):t._e()]),i("ul",t._l(t.searchList.brandList,(function(s,e){return i("li",{key:e,class:{active:e===t.isActive2}},[i("div",{staticClass:"name",on:{click:function(i){return t.clickBrandName(s,s.name,e)}}},[t._v(" "+t._s(s.name))]),i("em",{staticClass:"del",on:{click:function(s){return t.chongzhi(2)}}},[i("i",{staticClass:"iconfont iconguanbi"})])])})),0)]),i("div",{staticClass:"category-list"},[i("h2",{staticClass:"tit"},[t._v("价格区间")]),i("ul",t._l(t.searchList.priceList,(function(s,e){return i("li",{key:e,class:{active:e===t.isActive3}},[i("div",{staticClass:"name",on:{click:function(i){return t.clickPrice(s,s.value,e)}}},[t._v(" "+t._s(s.label))]),i("em",{staticClass:"del",on:{click:function(s){return t.chongzhi(3)}}},[i("i",{staticClass:"iconfont iconguanbi"})])])})),0),t.state?i("div",{staticClass:"input-price"},[i("van-row",{attrs:{type:"flex",justify:"center"}},[i("van-col",{attrs:{span:"11"}},[i("van-field",{attrs:{placeholder:"输入最低价"},on:{input:function(s){t.price1=t.oninput(t.price1)}},model:{value:t.price1,callback:function(s){t.price1=s},expression:"price1"}})],1),i("van-col",{staticStyle:{"text-align":"center"},attrs:{span:"2"}},[t._v("-")]),i("van-col",{attrs:{span:"11"}},[i("van-field",{attrs:{placeholder:"输入最高价"},on:{input:function(s){t.price2=t.oninput(t.price2)}},model:{value:t.price2,callback:function(s){t.price2=s},expression:"price2"}})],1)],1)],1):t._e()])])]),i("div",{staticClass:"foot-btn fixed"},[i("ul",[i("li",[i("van-button",{attrs:{type:"info",round:"",plain:"",size:"large"},on:{click:function(s){return t.goReset()}}},[t._v("重置")])],1),i("li",[i("van-button",{attrs:{type:"info",round:"",size:"large"},on:{click:function(s){return t.goSearch1()}}},[t._v("确定")])],1)])])])]),i("common-list",{ref:"ggcommonlist",staticClass:"common-list",attrs:{"post-url":t.list.postUrl,"req-data":t.list.reqData,"data-name":t.list.dataName},on:{returnData:function(s){return t.getPrizeLog(s)}}},[i("div",{staticClass:"container-mini goodslist-container"},[i("div",{staticClass:"content"},[i("div",{class:1==t.showQhzs?"goods-main-horizontal":"goods-main"},t._l(t.goodsList,(function(s,a){return i("div",{key:a,staticClass:"goods-list",on:{click:function(e){return t.goGoodsdetail(s.product_id,s.name)}}},[i("div",{staticClass:"goods-img"},[s.imagePath?i("img",{attrs:{src:s.imagePath,onerror:t.defaultImg}}):i("img",{attrs:{src:e("5e2c")}})]),t.stockStatus[a]?t._e():i("div",{staticClass:"sold-out"}),i("div",{staticClass:"goods-list-c"},[i("div",{staticClass:"goods-price"},[i("span",{staticClass:"num"},[t._v(t._s(s.price_now))]),t._v("元 "),i("del",[i("span",{staticClass:"num"},[t._v(t._s(s.price))]),t._v("元 ")])]),i("div",{staticClass:"goods-name",domProps:{innerHTML:t._s(s.highlight_name)}}),i("div",{staticClass:"goods-description"},[t._v(t._s(s.salecontent))]),i("div",{staticClass:"goods-sales"},[i("em",[t._v("已售"+t._s(s.sale_count?s.sale_count:0))]),i("em",[t._v(t._s(s.hp_count?s.hp_count:0)+"条好评")])]),i("div",{staticClass:"goods-label"},[i("van-tag",{attrs:{plain:"",type:"primary"}},[t._v(t._s(s.sourceName))]),"KJXY"!==s.dsbs?i("div",{staticClass:"goods-compare",attrs:{onClick:"event.cancelBubble = true"},on:{click:function(e){return t.addCompare(s.product_id,s.dsbs)}}},[i("i",{staticClass:"iconfont iconduibivs"}),t._v(t._s(-1!==t.checked.indexOf(s.product_id)?"取消对比":"加入对比"))]):t._e()],1)])])})),0)])])]),i("div",{staticClass:"aside-fixed aside-fixed-bar"},[i("div",{staticClass:"aside-icon",on:{click:function(s){return t.goGoodsCompare()}}},[i("i",{staticClass:"iconfont iconduibi"}),i("div",{staticClass:"num"},[t._v(t._s(t.checked.length))])])]),t.sheng?i("div",{staticClass:"selected-address"},[i("div",{staticClass:"selected-address-list"},[t._v(" 当前选择："),i("span",[t._v(t._s(t.sheng))]),t._v(" "),i("span",[t._v(t._s(t.shi))]),t._v(" "),i("span",[t._v(t._s(t.xian))]),t._v(" "),i("span",[t._v(t._s(t.xiang))])]),t.sheng?i("div",{staticClass:"reselect-address",on:{click:function(s){t.addressShow=!0}}},[t._v("重新选择")]):t._e()]):t._e(),i("div",{staticClass:"common-space"}),i("Backtop",{staticClass:"scrollTop-bar"}),i("van-popup",{style:{height:"70%"},attrs:{position:"bottom"},model:{value:t.addressShow,callback:function(s){t.addressShow=s},expression:"addressShow"}},[i("div",{staticClass:"relative"},[i("XyAddress",{on:{getCheckResult:t.getCheckResult}})],1)])],1)},a=[],o=(e("a4d3"),e("e01a"),e("d28b"),e("c975"),e("fb6a"),e("a434"),e("d3b7"),e("acd8"),e("3ca3"),e("5319"),e("ddb0"),e("96cf"),e("651f")),n=e("1fba"),c=e("a001"),r=e("dd97"),l=e("33de"),h=e("7a87"),d=e("510f"),u={name:"GoodsList",components:{Backtop:o["a"],SearchBox:r["a"],XyAddress:c["a"],commonList:h["a"]},mixins:[d["d"]],data:function(){return{productIdList:[],produceList:[],stockStatus:[],xlSx:"",jgSx:"",sjsjSx:"",canClick:!0,list:{items:[],error:!1,postUrl:"",reqData:"",dataName:"",noDataText:""},sheng:"",shi:"",xian:"",xiang:"",addressShow:!1,defaultImg:'this.src="'+e("5e2c")+'"',state4:!1,state1:!1,state2:!1,state3:!1,loading:!1,finished:!1,showQhzs:!1,active1:"",checked:[],sxjxState:!0,active:0,state:!0,isActive1:"",isActive2:"",isActive3:"",searchList:[],selectGoodsDatas:{dsbs:this.$store.state.home.dsbs?this.$store.state.home.dsbs:"",category_id:this.$store.state.home.categoryId?this.$store.state.home.categoryId:"",price_now_min:"",price_now_max:"",search_input:"",searchKeyList:[],brand_name:"",ascFieldList:[],descFieldList:[],town_id:"",pageno:1,pagerow:30,stock:"",allowpayment:""},goodsList:[],number:"",totalNumber:"",searchInput:[],pages:1,pagesize:30,isLoading:"",price2:"",price1:"",itemList:[],nowIndex:0,value1:"",value2:"",value3:"",option1:[{text:"销量最多",value:!0},{text:"销量最少",value:!1}],option2:[{text:"价格最高",value:!0},{text:"价格最低",value:!1}],option3:[{text:"上架时间最晚",value:!0},{text:"上架时间最早",value:!1}],show:!1,temp1:[],temp2:[],temp3:[],navs:[],address:{}}},watch:{swiperSendIndex:function(t){this.nowIndex=t,this.$refs.scrollContent.scrollToElement(this.$refs.tabitem[t],0)},sjbqbt:function(t){this.itemList=t,this.InitTabScroll()}},activated:function(){this.getlistComparisionDetail()},mounted:function(){this.$refs.searchBox.setQuery(this.selectGoodsDatas.search_input)},created:function(){var t=this;this.navs=this.$store.state.mall.navs,this.$route.params.zq&&(this.active1=this.$route.params.zq),this.getlistComparisionDetail(),this.$bus.$on("searchByInput",(function(s){t.selectGoodsDatas.search_input=s,t.$bus.$emit("refList1",t.selectGoodsDatas)})),this.selectGoodsDatas.dsbs=this.$route.params.zq,this.selectGoodsDatas.category_id=this.$route.params.category_id,this.selectGoodsDatas.search_input=this.$route.params.searchInput,this.init(),this.getSearchProduce(),this.getDelAddress()},methods:{oninput:function(t){var s=t,e=s.substr(0,1),i=s.substr(1,1);if(s.length>1&&0===e&&"."!==i&&(s=s.substr(1,1)),"."===e&&(s=""),"-"===e&&(s=""),-1!==s.indexOf(".")){var a=s.substr(s.indexOf(".")+1);-1!==a.indexOf(".")&&(s=s.substr(0,s.indexOf(".")+a.indexOf(".")+1))}return s=s.replace(/[^\d^\.]+/g,""),s},getDelAddress:function(){var t=this;this.asyncApiModule(l["Z"]).then((function(s){s.province&&(t.address.province=s.province),s.city&&(t.address.city=s.city),s.county&&(t.address.county=s.county),s.town&&"1"!==s.town&&(t.address.town=s.town)})).catch((function(){t.loading=!1}))},changeClass1:function(t){this.active=t,1===t&&(""===this.xlSx?this.xlSx=!0:this.xlSx=!this.xlSx,this.changeClass(1,"sale_count",this.xlSx)),2===t&&(""===this.jgSx?this.jgSx=!0:this.jgSx=!this.jgSx,this.changeClass(2,"price_now",this.jgSx)),3===t&&(""===this.sjsjSx?this.sjsjSx=!0:this.sjsjSx=!this.sjsjSx,this.changeClass(3,"update_time",this.sjsjSx))},guanbi:function(){this.show=!1},getPrizeLog:function(t){this.state4=!0,this.goodsList=t,this.stockStatus=[],this.produceList=[],this.productIdList=[];var s=!0,e=!1,i=void 0;try{for(var a,o=this.goodsList[Symbol.iterator]();!(s=(a=o.next()).done);s=!0){var n=a.value;this.stockStatus.push(!0),this.productIdList.push(n.product_id);var c={skuId:n.product_id,num:1,dsbs:n.dsbs};this.produceList.push(c)}}catch(r){e=!0,i=r}finally{try{s||null==o.return||o.return()}finally{if(e)throw i}}this.getStock()},init:function(){this.finished=!1,this.selectGoodsDatas.pageno=1,l["Ub"].data=this.selectGoodsDatas,this.list.postUrl=l["Ub"],this.list.reqData=this.selectGoodsDatas,this.list.dataName="list",this.list.noDataText="暂无更多订单"},getStock:function(){var t=this;if(this.produceList.length>0&&this.address){var s={province:this.address.province?this.address.province:"",city:this.address.city?this.address.city:"",county:this.address.county?this.address.county:"",town:this.address.town?this.address.town:"",produceList:this.produceList};this.$store.dispatch("goods/getStockList",s).then((function(s){var e=s.result,i=[];t.stockStatus=[];var a=!0,o=!1,n=void 0;try{for(var c,r=t.goodsList[Symbol.iterator]();!(a=(c=r.next()).done);a=!0){var l=c.value;""!==l.product_id&&t.stockStatus.push(!0)}}catch(x){o=!0,n=x}finally{try{a||null==r.return||r.return()}finally{if(o)throw n}}for(var h=0;h<e.length;h++)i.push(e[h].skuId),34===e[h].state&&-1!==t.productIdList.indexOf(e[h].skuId)&&t.stockStatus.splice(t.productIdList.indexOf(e[h].skuId),1,!1);var d=!1,u=!0,p=!1,f=void 0;try{for(var g,v=t.goodsList[Symbol.iterator]();!(u=(g=v.next()).done);u=!0){var m=g.value;-1!==i.indexOf(m.product_id)&&(d=!0)}}catch(x){p=!0,f=x}finally{try{u||null==v.return||v.return()}finally{if(p)throw f}}if(d){var y=!0,_=!1,b=void 0;try{for(var w,S=t.goodsList[Symbol.iterator]();!(y=(w=S.next()).done);y=!0){var C=w.value;-1===i.indexOf(C.product_id)&&-1!==t.productIdList.indexOf(C.product_id)&&t.stockStatus.splice(t.productIdList.indexOf(C.product_id),1,!1)}}catch(x){_=!0,b=x}finally{try{y||null==S.return||S.return()}finally{if(_)throw b}}}})).catch((function(s){console.log("error-------------------------------------------------------",s),t.loading=!1}))}else for(var e=0;e<this.stockStatus.length;e++)this.stockStatus.splice(e,1,!0)},getlistComparisionDetail:function(){var t=this;this.asyncApiModule(l["Hb"]).then((function(s){t.checked=[];for(var e=0;e<s.length;e++)t.checked.push(s[e].id)}))},addCompare:function(t,s){var e=this;return regeneratorRuntime.async((function(s){while(1)switch(s.prev=s.next){case 0:if(t){s.next=3;break}return this.$toast("商品信息错误，加入对比失败"),s.abrupt("return");case 3:-1===this.checked.indexOf(t)?this.checked.length>=4?this.$dialog.confirm({title:"提示",message:"对比栏已满，一次性最多可对比4件商品，是否前往删除已选对比商品?"}).then((function(){e.$router.push({name:"GoodsCompare",params:{address:e.address}})})).catch((function(){})):(this.checked.push(t),l["f"].data={e_product_id:null,product_id:t},this.asyncApiModule(l["f"]).then((function(t){e.$toast("加入对比成功")})).catch((function(){}))):(this.checked.splice(this.checked.indexOf(t),1),l["k"].data={e_product_id:"",product_id:t},this.asyncApiModule(l["k"]).then((function(t){e.$toast("取消对比成功")})).catch((function(){})));case 4:case"end":return s.stop()}}),null,this)},getCheckResult:function(t,s,e,i,a){this.sheng=t?t.text:"",this.shi=s?s.text:"",this.xian=e?e.text:"",this.xiang=i?i.text:"",a||(this.addressShow=a),this.selectGoodsDatas.ascFieldList=[],this.selectGoodsDatas.descFieldList=[],this.selectGoodsDatas.town_id=i?i.value:"",this.$bus.$emit("refList1",this.selectGoodsDatas)},changeClass:function(t,s,e){this.active=t,0!==t?(this.state4=!1,this.sxjxState=e,!1===this.sxjxState?(this.selectGoodsDatas.ascFieldList=[],this.selectGoodsDatas.descFieldList=[],this.selectGoodsDatas.descFieldList.push(s),this.$bus.$emit("refList1",this.selectGoodsDatas)):!0===this.sxjxState&&(this.selectGoodsDatas.descFieldList=[],this.selectGoodsDatas.ascFieldList=[],this.selectGoodsDatas.ascFieldList.push(s),this.$bus.$emit("refList1",this.selectGoodsDatas))):this.addressShow=!0},onRefresh:function(){this.isLoading=!0,this.$bus.$emit("refList1",this.selectGoodsDatas)},goReset:function(){this.canClick=!0,this.state1=!1,this.state2=!1,this.state3=!1,this.price1="",this.price2="",this.selectGoodsDatas.search_input="",this.selectGoodsDatas.brand_name="",this.selectGoodsDatas.price_now_min="",this.selectGoodsDatas.price_now_max="",this.selectGoodsDatas.category_id="",this.getSearchProduce(),this.$bus.$emit("refList1",this.selectGoodsDatas),this.state=!0,this.isActive1="",this.isActive2="",this.isActive3=""},goSearch1:function(){this.price1&&this.price2&&parseFloat(this.price2)<parseFloat(this.price1)?this.$toast("最高价不能小于最低价"):(this.selectGoodsDatas.price_now_min=this.price1,this.selectGoodsDatas.price_now_max=this.price2,this.$bus.$emit("refList1",this.selectGoodsDatas),this.show=!1,window.scrollTo(0,0))},clickCategory:function(t,s,e){this.canClick=!1,this.selectGoodsDatas.category_id=s,this.isActive1=0,this.getSearchProduce(1,t)},clickBrandName:function(t,s,e){this.canClick=!1,this.selectGoodsDatas.brand_name=s,this.isActive2=0,this.getSearchProduce(2,t)},clickPrice:function(t,s,e){this.canClick=!1,this.price1=s.slice(0,s.indexOf("-")),this.price2=s.slice(s.indexOf("-")+1,s.length),this.isActive3=0,this.getSearchProduce(3,t)},chongzhi:function(t){this.canClick=!1,1===t&&(this.isActive1="",this.state1=!1,this.selectGoodsDatas.category_id="",this.getSearchProduce()),2===t&&(this.isActive2="",this.state2=!1,this.selectGoodsDatas.brand_name="",this.getSearchProduce()),3===t&&(this.isActive3="",this.state3=!1,this.state=!0,this.selectGoodsDatas.price_now_min="",this.selectGoodsDatas.price_now_max="",this.price1="",this.price2="",this.getSearchProduce())},getSearchProduce:function(t,s){var e=this,i={dsbs:this.selectGoodsDatas.dsbs,search_input:this.selectGoodsDatas.search_input,category_id:this.selectGoodsDatas.category_id,searchKeyList:this.selectGoodsDatas.searchKeyList,brand_name:this.selectGoodsDatas.brand_name,price_now_min:this.selectGoodsDatas.price_now_min,price_now_max:this.selectGoodsDatas.price_now_max};l["Tb"].data=i,this.asyncApiModule(l["Tb"]).then((function(i){e.searchList=i,1===t&&(e.isActive1=0,e.searchList.categorySearchList=[],e.searchList.categorySearchList.push(s),e.temp1=e.searchList.categorySearchList,e.state1=!0),2===t&&(e.isActive2=0,e.searchList.brandList=[],e.searchList.brandList.push(s),e.temp2=e.searchList.brandList,e.state2=!0),3===t&&(e.isActive3=0,e.searchList.priceList=[],e.searchList.priceList.push(s),e.state=!1,e.temp3=e.searchList.priceList,e.state3=!0),e.state1&&(e.searchList.categorySearchList=e.temp1),e.state2&&(e.searchList.brandList=e.temp2),e.state3&&(e.searchList.priceList=e.temp3),e.canClick=!0}))},goSearch:function(t){this.$router.push({name:"Search"})},searchByZq:function(t,s){this.active1=t,this.selectGoodsDatas.dsbs=t,this.getSearchProduce(),this.$bus.$emit("refList1",this.selectGoodsDatas)},showPopup:function(){this.show=!0},showQhzsBtn:function(){this.showQhzs=!this.showQhzs},itemClick:function(t){this.nowIndex=t,this.$emit("changeTab",t)},InitTabScroll:function(){var t=this,s=0;1===this.itemList.length?s=120:(s=120*this.itemList.length,this.$refs.tabWrapper.style.width=s+"px"),this.$nextTick((function(){t.scroll?t.scroll.refresh():t.scroll=new n["a"](t.$refs.tab,{startX:0,click:!0,scrollX:!0,scrollY:!1,eventPassthrough:"vertical"})}))},handleSubmit:function(){this.$refs.scrollContent.scrollToElement(this.$refs.tabitem[3],0)},goGoodsdetail:function(t,s){this.$store.commit("goods/SET_SPMC",s),this.$store.commit("goods/SET_SPID",t),this.$router.push({name:"GoodsDetail",params:{refresh:!0}})},goBack:function(){this.$router.push("MallHome")},goGoodsCompare:function(){0!==this.checked.length?this.$router.push({name:"GoodsCompare",params:{address:this.address}}):this.$toast("尚未选择对比商品，请先选择！")}}},p=u,f=(e("dbce"),e("2877")),g=Object(f["a"])(p,i,a,!1,null,"19aaee4c",null);s["default"]=g.exports},"510f":function(t,s,e){"use strict";e.d(s,"d",(function(){return c})),e.d(s,"a",(function(){return r})),e.d(s,"b",(function(){return l}));e("a4d3"),e("4de4"),e("c975"),e("a434"),e("b0c0"),e("e439"),e("dbb4"),e("b64b"),e("159b");var i=e("ade3"),a=e("2f62");function o(t,s){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);s&&(i=i.filter((function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable}))),e.push.apply(e,i)}return e}function n(t){for(var s=1;s<arguments.length;s++){var e=null!=arguments[s]?arguments[s]:{};s%2?o(Object(e),!0).forEach((function(s){Object(i["a"])(t,s,e[s])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):o(Object(e)).forEach((function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(e,s))}))}return t}var c={mounted:function(){},data:function(){return{}},methods:{goPage:function(t,s){this.$store.dispatch("router/setPageParams",s),this.$router.push({name:t,params:{keyName:s}})},getParams:function(){return this.$store.state.router.pageParams}},beforeRouteEnter:function(t,s,e){e((function(s){if("MhHome"!==t.name&&"MallHome"!==t.name){var e=s.$store.state.router.keepAlive,i=e.indexOf(t.name);-1===i&&e.push(t.name),s.$store.commit("router/SET_KEEP_ALIVE",e)}else s.$store.commit("router/SET_KEEP_ALIVE",[]);console.log("PageRoute=进入页面==",e)}))},beforeRouteLeave:function(t,s,e){var i=[];if(i=this.$store.state.router.keepAlive,"GysXmbm"===s.name){var a=i.indexOf(s.name);i.splice(a,1)}var o=i.indexOf(s.name),n=i.indexOf(t.name);-1!==n&&i.splice(o,1);for(var c=[],r=0;r<this.$store.state.router.footMeun.length;r++)c.push(this.$store.state.router.footMeun[r].component);var l=c.indexOf(s.name),h=c.indexOf(t.name);-1!==l&&-1!==h&&i.splice(o,1),console.log("PageRoute=退出页面======================",i),this.$store.commit("router/SET_KEEP_ALIVE",i),e()}},r={mounted:function(){var t=this;window["showSoftKeyBoard"]=function(s){console.info("showSoftKeyBoard-----",s),t.Native_ShowSoftKeyBoard=s},window["getRotuerPage"]=function(s){return t.$store.state.router.keepAlive},window["updateScanData"]=function(s){console.info("updateScan======",s),t.Native_ScanData=s},window["updateHandImage"]=function(s){t.Native_PhoneImageData=s}},data:function(){return{Native_ShowSoftKeyBoard:"",Native_ScanData:{},Native_PhoneImageData:{},Native_CaLoad:"",Native_CaList:{}}},computed:{},methods:{NativeLoadCA:function(){var t=this;try{this.Native_CaLoad=window.myapp.LoadCA(),console.info("NativeLoadCA======",window.myapp.LoadCA())}catch(s){console.log(s)}this.$bridge.callhandler("LoadCA","{page:1}",(function(s){var e=JSON.parse(s);console.log("goScanView------",s),t.Native_CaLoad=e}))},NativeGetAllCAInfo:function(){try{console.info("NativeGetAllCAInfo======",window.myapp.getAllCAInfo());var t=window.myapp.getAllCAInfo();this.Native_CaList=JSON.parse(t)}catch(s){console.log(s)}this.$bridge.callhandler("getAllCAInfo",(function(t){}))},NativeGetOnelCAInfo:function(t){try{console.info("NativeGetAllCAInfo======",window.myapp.getOneCAInfo())}catch(s){console.log(s)}this.$bridge.callhandler("getOneCAInfo",t,(function(t){}))},NativeChangePin:function(t){try{window.myapp.changePin(t)}catch(s){console.log(s)}this.$bridge.callhandler("changePin",t,(function(t){}))},NativeEnvelopeDecrypt:function(t){try{window.myapp.envelopeDecrypt(t)}catch(s){console.log(s)}this.$bridge.callhandler("envelopeDecrypt",t,(function(t){}))},NativeEnvelopeEncrypt:function(t){try{window.myapp.envelopeEncrypt(t)}catch(s){console.log(s)}this.$bridge.callhandler("envelopeEncrypt",t,(function(t){}))}}},l={mounted:function(){var t=this;window["getRotuerPage"]=function(s){return t.$store.state.router.keepAlive},window["updateScanData"]=function(s){console.info("updateScan======",s),t.Native_ScanData=s},window["updateHandImage"]=function(s){t.Native_PhoneImageData=s}},data:function(){return{Native_ScanData:{},Native_PhoneImageData:{}}},computed:{},methods:{NativeAddPush:function(t){try{window.myapp.addPush(t)}catch(s){console.log(s)}this.$bridge.callhandler("addPush",t,(function(t){}))},NativeDissPush:function(){try{window.myapp.dissPush()}catch(t){console.log(t)}this.$bridge.callhandler("dissPush",(function(t){}))},NativeDissDialog:function(){try{window.myapp.dissDialog()}catch(t){console.log(t)}this.$bridge.callhandler("dissDialog",(function(t){}))},NativeLoginAction:function(t){try{window.myapp.loginAction(t)}catch(s){console.log(s)}this.$bridge.callhandler("loginAction",t,(function(t){}))},NativeCheakUpdate:function(){try{window.myapp.cheakUpdate()}catch(t){console.log(t)}this.$bridge.callhandler("cheakUpdate",(function(t){}))},NativeGetLjSize:function(){try{window.myapp.getlj()}catch(t){console.log(t)}this.$bridge.callhandler("getlj",(function(t){}))},NativeCleanLj:function(){try{window.myapp.cleanlj()}catch(t){console.log(t)}this.$bridge.callhandler("cleanlj",(function(t){}))},NativeDownFiles:function(t){try{window.myapp.downloadFile(t)}catch(s){console.log(s)}this.$bridge.callhandler("downloadFile",String(t),(function(t){}))},NativeScan:function(){var t=this;try{window.myapp.goScanView()}catch(s){console.log(s)}this.$bridge.callhandler("goScanView","{page:1}",(function(s){var e=JSON.parse(s);console.log("goScanView------",s),t.Native_ScanData=e}))},NativePhone:function(t){var s=this;try{window.myapp.goIDCards(t)}catch(e){console.log(e)}this.$bridge.callhandler("goIDCards",t,(function(t){var e=JSON.parse(t);console.log("goIDCards------",e),s.Native_PhoneImageData=e}))},NativeHandSing:function(){var t=this;try{window.myapp.goHandWriteView()}catch(s){console.log(s)}this.$bridge.callhandler("goHandWriteView",(function(s){t.Native_PhoneImageData=s}))},NativeCallPhone:function(t){try{window.myapp.call(t)}catch(s){console.log(s)}this.$bridge.callhandler("call",t,(function(t){}))},NativeUpdateImage:function(){try{window.myapp.CameraOrImage()}catch(t){console.log(t)}this.$bridge.callhandler("CameraOrImage",(function(t){}))}}};n({onQueryChange:function(t){this.query=t},blurInput:function(){this.$refs.searchBox.blur()},addQuery:function(t){this.$refs.searchBox.setQuery(t)},saveSearch:function(){this.updateHostorList(this.query)}},Object(a["b"])(["updateHostorList","deleteSearchHistory"])),n({wybmAction:function(){this.wybmfbAction()}},Object(a["b"])(["wybmfbAction"]))},"5e2c":function(t,s,e){t.exports=e.p+"img/no-img.3caca518.png"},"651f":function(t,s,e){"use strict";var i=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{directives:[{name:"show",rawName:"v-show",value:t.showTop,expression:"showTop"}],staticClass:"scrollTop",on:{click:t.toTop}},[t._m(0)])},a=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"aside-icon"},[e("i",{staticClass:"iconfont iconfanhuidingbu"})])}],o={name:"ScrollTop",data:function(){return{scrollTop:0,time:0,dParams:20,scrollState:0}},computed:{showTop:function(){var t=this.scrollTop>300;return t}},mounted:function(){window.addEventListener("scroll",this.getScrollTop)},methods:{toTop:function(t){if(!this.scrollState){this.scrollState=1,t.preventDefault();var s=document.documentElement.scrollTop||document.body.scrollTop;console.log("dis---------------------------------",s);var e=this;this.time=setInterval((function(){e.gotoTop(e.scrollTop-e.dParams)}),10)}},gotoTop:function(t){this.dParams+=20,t=t>0?t:0,document.documentElement.scrollTop=t,document.body.scrollTop=t,this.scrollTop<10&&(clearInterval(this.time),this.dParams=20,this.scrollState=0)},getScrollTop:function(){this.scrollTop=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop}}},n=o,c=e("2877"),r=Object(c["a"])(n,i,a,!1,null,"4a569401",null);s["a"]=r.exports},"7a87":function(t,s,e){"use strict";var i=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{attrs:{id:"didaList"}},[0==t.pageStyles?e("div",[e("van-pull-refresh",{on:{refresh:t.onRefresh},model:{value:t.isLoading,callback:function(s){t.isLoading=s},expression:"isLoading"}},[e("van-list",{attrs:{finished:t.finished,"finished-text":t.finishedText,"error-text":t.errorText,"immediate-check":t.firstFresh},on:{load:t.onLoad},model:{value:t.loading,callback:function(s){t.loading=s},expression:"loading"}},[t._t("default")],2)],1)],1):t.noDataShow?e("div",[e("error-page",{attrs:{"page-style":t.pageStyles},on:{errorButton:t.parentReceive}})],1):t._e()])},a=[],o=(e("99af"),e("1100")),n={components:{errorPage:o["a"]},props:{firstFresh:{type:Boolean,default:!1},postUrl:{type:null,required:!0},dataName:{type:null,required:!0},reqData:{type:null,required:!0},apptypeShow:{type:Boolean,default:!0},noDataShow:{type:Boolean,default:!0}},data:function(){return{list:[],pageStyles:0,loading:!1,finished:!1,isLoading:!1,query:{},pagesize:10,xxList:[],currentPage:1,totalpageno:0,finishedText:"没有更多了",errorText:"请求失败，点击重新加载",total:0}},created:function(){this.reqNewData=this.reqData,console.info("reqData-----------------",this.reqData);var t=this;this.$bus.$on("refList",(function(s){var e=this;t.query=s,t.currentPage=1,t.getListData(s).then((function(t){e.loading=!1,e.totalpageno<=e.currentPage&&(e.finished=!0)}))}))},beforeDestroy:function(){this.$bus.$off("refList")},methods:{getListData:function(){var t=this,s=this.reqData;console.info("query--11--",this.query);if(this.apptypeShow){if(null!=this.query&&""!==this.query){var e={apptype:"APP"};this.query=Object.assign(this.query,e)}else this.query={apptype:"APP"};({pageno:this.currentPage,query:JSON.stringify(this.query)})}else console.log("this.query============================",this.query),this.query.currentPage=this.currentPage;return this.$store.dispatch(this.postUrl,Object.assign(s,this.query)).then((function(s){t.totalpageno=s.totalPages,t.pageStyles=0,0===t.totalpageno&&(t.pageStyles=1),1===t.currentPage?(t.list=t.dataName?s[t.dataName]:s,null!=t.list&&0!==t.list.length||(t.pageStyles=1),t.currentPage++):0===s.length?t.finished=!0:s.totalPages>=t.currentPage?t.list=t.list.concat(t.dataName?s[t.dataName]:s):t.finished=!0,s&&s.title?(t.xxList.data=t.list,t.xxList.title=s.title,t.$emit("returnData",t.xxList)):t.$emit("returnData",t.list)})).catch((function(s){t.$toast(s),t.loading=!1}))},parentReceive:function(){this.onRefresh(this.query)},onLoad:function(){var t=this;this.getListData().then((function(s){t.loading=!1,t.currentPage++,t.totalpageno<t.currentPage&&(t.finished=!0),console.log("this.finished==================================================",t.finished)}))},onRefresh:function(t){var s=this;this.query=null!=t&&""!==t?t:{},this.list=[],this.currentPage=1,this.getListData(1).then((function(){s.isLoading=!1,s.finished=!1}))},hideLoading:function(){this.loading=!1},hideIsLoading:function(){this.isLoading=!1}}},c=n,r=e("2877"),l=Object(r["a"])(c,i,a,!1,null,null,null);s["a"]=l.exports},b46d:function(t,s,e){},dbce:function(t,s,e){"use strict";var i=e("b46d"),a=e.n(i);a.a},dd97:function(t,s,e){"use strict";var i=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"search-box"},[t._m(0),e("van-search",{ref:"query",attrs:{maxlength:50,"is-amount":"",shape:"round","show-action":"",placeholder:"请输入搜索条件"},on:{search:t.onSearch},model:{value:t.query,callback:function(s){t.query=s},expression:"query"}},[e("div",{attrs:{slot:"action"},on:{click:t.onSearch},slot:"action"},[e("van-button",{attrs:{round:"",size:"small",type:"info"}},[t._v("搜索")])],1)])],1)},a=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"search-icon"},[e("i",{staticClass:"iconfont iconsousuo"})])}],o=(e("8b55"),{props:{placeholder:{type:String,default:"请输入搜索条件"},searchInput:{type:String,default:""}},data:function(){return{query:""}},watch:{searchInput:function(t){this.query=t}},created:function(){},methods:{onSearch:function(){this.$emit("query",this.query)},clear:function(){this.query=""},setQuery:function(t){this.query=t,this.$emit("query",this.query)},blur:function(){this.$refs.query.blur()},goSearch:function(){this.$emit("goSearch")}}}),n=o,c=e("2877"),r=Object(c["a"])(n,i,a,!1,null,"435fd366",null);s["a"]=r.exports}}]);
//# sourceMappingURL=GoodsList.f1aed804.js.map