{"version":3,"sources":["webpack:///./src/common/js/mixin.js","webpack:///./src/assets/no-img.png","webpack:///./src/page/mall/member/BuyCart.vue?c51c","webpack:///src/page/mall/member/BuyCart.vue","webpack:///./src/page/mall/member/BuyCart.vue?bf67","webpack:///./src/page/mall/member/BuyCart.vue"],"names":["pageRouter","mounted","data","methods","goPage","name","params","this","$store","dispatch","$router","push","getParams","state","router","pageParams","beforeRouteEnter","to","from","next","vm","list","keepAlive","index","indexOf","commit","console","log","beforeRouteLeave","formIndex","splice","toIndex","rootpage","i","footMeun","length","component","formRootIndex","toRootIndex","NativeCaJS","self","window","num","info","Native_ShowSoftKeyBoard","Native_ScanData","Native_PhoneImageData","Native_CaLoad","Native_CaList","computed","NativeLoadCA","myapp","LoadCA","err","$bridge","callhandler","datas","JSON","parse","NativeGetAllCAInfo","getAllCAInfo","NativeGetOnelCAInfo","getOneCAInfo","NativeChangePin","changePin","NativeEnvelopeDecrypt","envelopeDecrypt","NativeEnvelopeEncrypt","envelopeEncrypt","NativeJS","NativeAddPush","addPush","NativeDissPush","dissPush","NativeDissDialog","dissDialog","NativeLoginAction","pram","loginAction","NativeCheakUpdate","cheakUpdate","NativeGetLjSize","getlj","NativeCleanLj","cleanlj","NativeDownFiles","downloadFile","String","NativeScan","goScanView","NativePhone","type","goIDCards","NativeHandSing","goHandWriteView","NativeCallPhone","phone","call","NativeUpdateImage","CameraOrImage","onQueryChange","query","blurInput","$refs","searchBox","blur","addQuery","setQuery","saveSearch","updateHostorList","mapActions","wybmAction","wybmfbAction","module","exports","render","_vm","_h","$createElement","_c","_self","staticClass","_v","on","$event","deleteCarts","cartList","ref","onRefresh","model","value","callback","$$v","isLoading","expression","_l","cart","key","productList","directives","rawName","checkPro","attrs","zt","domProps","Array","isArray","_i","$$a","$$el","target","$$c","checked","$$i","$set","concat","slice","handleCheckAllChange","staticStyle","_s","gysmc","spxx","indexs","changeProZt","id","gysbh","cart_id","prozt","imgPreview","imgSrc","defaultImg","toProductDetail","sourceName","price_now","calPrice","pcount","slot","DeleteSp","showAccessory","accessoryList","changeAccessory","_e","item","index1","price","deleteAccessory","goBuy","checkAll","checkAllZt","priceSum","toOrder","class","showMenu","showMenuBtn","goBidRule","goXjRule","staticRenderFns","components","FooterNavMall","filters","numFilter","realVal","parseFloat","toFixed","mixins","pjShow","state1","state2","spxxList","isFrst","num1","num2","num3","num4","num5","checkProZt","checkCart","isIndeterminate","dialogCompare","productNum","created","activated","getProductList","slide","images","loop","pjisShow","$dialog","confirm","title","message","asyncApiModule","handler","j","contact_name","dsbs","email","jklx","mobile","status","getCheckResult","deepClone","obj","hasOwnProperty","objClone","loading","res","cartsList","getDefAddress","$nextTick","province","check","city","county","town","skuList","pconut","cartIndex","proIndex","indexPro","cart_gysbh","pro_id","proList","indexpro","isToOrder","$toast","fail","spmc","product_id","refresh","viewCompare","toFqjj","$bus","$emit","toFqxj"],"mappings":"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","file":"js/BuyCart.c0de7dc7.js","sourcesContent":["import { mapActions } from 'vuex'\r\n// import * as dd from 'dingtalk-jsapi'\r\n// 页面路由处理\r\nexport const pageRouter = {\r\n  mounted: function() {\r\n  },\r\n  data() {\r\n    return {\r\n    }\r\n  },\r\n  methods: {\r\n    // 跳转到某一页面\r\n    goPage(name, params) {\r\n      this.$store.dispatch('router/setPageParams', params)\r\n      this.$router.push({\r\n        name: name,\r\n        params: { 'keyName': params }\r\n      })\r\n    },\r\n    // 获取页面参数\r\n    getParams() {\r\n      // this.getParams = this.$route.params\r\n      // this.itemDetail = this.getParams.itemDetail\r\n      return this.$store.state.router.pageParams\r\n    }\r\n  },\r\n  beforeRouteEnter(to, from, next) {\r\n    next(vm => {\r\n      // 因为当钩子执行前，组件实例还没被创建\r\n      // vm 就是当前组件的实例相当于上面的 this，所以在 next 方法里你就可以把 vm 当 this 来用了。\r\n      // vm.$store.commit('router/add', to.name)\r\n      // console.log('beforeRouteEnter=index==', to.name)// 当前组件的实例\r\n      if (to.name !== 'MhHome' && to.name !== 'MallHome') {\r\n        var list = vm.$store.state.router.keepAlive\r\n        const index = list.indexOf(to.name)\r\n        // console.log('beforeRouteEnter=name==', to.name)// 当前组件的实例\r\n        if (index === -1) {\r\n          // list.splice(index, 1)\r\n          list.push(to.name)\r\n        }\r\n        vm.$store.commit('router/SET_KEEP_ALIVE', list)\r\n      } else {\r\n        vm.$store.commit('router/SET_KEEP_ALIVE', [])\r\n      }\r\n      console.log('PageRoute=进入页面==', list)// 当前组件的实例\r\n    })\r\n  },\r\n  // beforeRouteUpdate(to, from, next) {\r\n  //   next()\r\n  // },\r\n  beforeRouteLeave(to, from, next) {\r\n    var list = []\r\n    list = this.$store.state.router.keepAlive\r\n    if (from.name === 'GysXmbm') {\r\n      const formIndex = list.indexOf(from.name)\r\n      list.splice(formIndex, 1)\r\n    }\r\n    const formIndex = list.indexOf(from.name)\r\n    const toIndex = list.indexOf(to.name)\r\n    if (toIndex !== -1) {\r\n      list.splice(formIndex, 1)\r\n    }\r\n    const rootpage = []\r\n    for (let i = 0; i < this.$store.state.router.footMeun.length; i++) {\r\n      rootpage.push(this.$store.state.router.footMeun[i].component)\r\n    }\r\n    const formRootIndex = rootpage.indexOf(from.name)\r\n    const toRootIndex = rootpage.indexOf(to.name)\r\n    if (formRootIndex !== -1 && toRootIndex !== -1) {\r\n      list.splice(formIndex, 1)\r\n    }\r\n    console.log('PageRoute=退出页面======================', list)// 当前组件的实例\r\n    this.$store.commit('router/SET_KEEP_ALIVE', list)\r\n    next()\r\n  }\r\n}\r\n// NativeCaJS\r\nexport const NativeCaJS = {\r\n  mounted() {\r\n    var self = this\r\n    // window['jpushAction'] = function(num) {\r\n    //   this.NativeJpushAction(num)\r\n    // }\r\n    // 是否显示键盘\r\n    window['showSoftKeyBoard'] = function(num) {\r\n      console.info('showSoftKeyBoard-----', num)\r\n      self.Native_ShowSoftKeyBoard = num\r\n    }\r\n\r\n    window['getRotuerPage'] = function(num) {\r\n      return self.$store.state.router.keepAlive\r\n    }\r\n    // 二维码返回数据\r\n    window['updateScanData'] = function(data) {\r\n      console.info('updateScan======', data)\r\n      self.Native_ScanData = data\r\n    }\r\n    // 照相机、图片返回数据\r\n    window['updateHandImage'] = function(data) {\r\n      self.Native_PhoneImageData = data\r\n      // slef.imageData = num\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      Native_ShowSoftKeyBoard: '', // 键盘是否显示\r\n      Native_ScanData: {}, // 二维码扫描返回数据\r\n      Native_PhoneImageData: {}, // 照相机、图片\r\n      Native_CaLoad: '', // CA下载结果\r\n      Native_CaList: {} // CA列表\r\n    }\r\n  },\r\n  computed: {\r\n  },\r\n  methods: {\r\n    // 加载CA\r\n    NativeLoadCA() {\r\n      if (process.env.NODE_ENV !== 'development') {\r\n        try {\r\n          // window.myapp.LoadCA()\r\n          this.Native_CaLoad = window.myapp.LoadCA()\r\n          console.info('NativeLoadCA======', window.myapp.LoadCA())\r\n        } catch (err) {\r\n          console.log(err)\r\n        }\r\n        this.$bridge.callhandler('LoadCA', '{page:1}', (data) => {\r\n          const datas = JSON.parse(data)\r\n          console.log('goScanView------', data)\r\n          this.Native_CaLoad = datas\r\n        })\r\n      } else {\r\n        this.$toast('返回原生页面')\r\n      }\r\n    },\r\n    NativeGetAllCAInfo() {\r\n      if (process.env.NODE_ENV !== 'development') {\r\n        try {\r\n          // window.myapp.getAllCAInfo()\r\n          console.info('NativeGetAllCAInfo======', window.myapp.getAllCAInfo())\r\n          var list = window.myapp.getAllCAInfo()\r\n          this.Native_CaList = JSON.parse(list)\r\n        } catch (err) {\r\n          console.log(err)\r\n        }\r\n        this.$bridge.callhandler('getAllCAInfo', (data) => {\r\n        })\r\n      } else {\r\n        this.$toast('返回原生页面')\r\n      }\r\n    },\r\n    NativeGetOnelCAInfo(num) {\r\n      if (process.env.NODE_ENV !== 'development') {\r\n        try {\r\n          // window.myapp.getOneCAInfo(num)\r\n          console.info('NativeGetAllCAInfo======', window.myapp.getOneCAInfo())\r\n        } catch (err) {\r\n          console.log(err)\r\n        }\r\n        this.$bridge.callhandler('getOneCAInfo', num, (data) => {\r\n        })\r\n      } else {\r\n        this.$toast('返回原生页面')\r\n      }\r\n    },\r\n    NativeChangePin(num) {\r\n      if (process.env.NODE_ENV !== 'development') {\r\n        try {\r\n          window.myapp.changePin(num)\r\n        } catch (err) {\r\n          console.log(err)\r\n        }\r\n        this.$bridge.callhandler('changePin', num, (data) => {\r\n        })\r\n      } else {\r\n        this.$toast('返回原生页面')\r\n      }\r\n    },\r\n    // 解密\r\n    NativeEnvelopeDecrypt(num) {\r\n      if (process.env.NODE_ENV !== 'development') {\r\n        try {\r\n          window.myapp.envelopeDecrypt(num)\r\n        } catch (err) {\r\n          console.log(err)\r\n        }\r\n        this.$bridge.callhandler('envelopeDecrypt', num, (data) => {\r\n        })\r\n      } else {\r\n        this.$toast('返回原生页面')\r\n      }\r\n    },\r\n    // 加密\r\n    NativeEnvelopeEncrypt(num) {\r\n      if (process.env.NODE_ENV !== 'development') {\r\n        try {\r\n          window.myapp.envelopeEncrypt(num)\r\n        } catch (err) {\r\n          console.log(err)\r\n        }\r\n        this.$bridge.callhandler('envelopeEncrypt', num, (data) => {\r\n        })\r\n      } else {\r\n        this.$toast('返回原生页面')\r\n      }\r\n    }\r\n  }\r\n//  // 加密\r\n//  NativeSignHashData(num) {\r\n\r\n// }\r\n}\r\n\r\n// Native\r\nexport const NativeJS = {\r\n  mounted() {\r\n    var self = this\r\n    // window['jpushAction'] = function(num) {\r\n    //   this.NativeJpushAction(num)\r\n    // }\r\n    window['getRotuerPage'] = function(num) {\r\n      return self.$store.state.router.keepAlive\r\n    }\r\n    // 二维码返回数据\r\n    window['updateScanData'] = function(data) {\r\n      console.info('updateScan======', data)\r\n      self.Native_ScanData = data\r\n    }\r\n    // 照相机、图片返回数据\r\n    window['updateHandImage'] = function(data) {\r\n      self.Native_PhoneImageData = data\r\n      // slef.imageData = num\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      Native_ScanData: {}, // 二维码扫描返回数据\r\n      Native_PhoneImageData: {} // 照相机、图片\r\n    }\r\n  },\r\n  computed: {\r\n  },\r\n  methods: {\r\n    // 开启推送功能\r\n    NativeAddPush(data) {\r\n      if (process.env.NODE_ENV !== 'development') {\r\n        try {\r\n          window.myapp.addPush(data)\r\n        } catch (err) {\r\n          console.log(err)\r\n        }\r\n        this.$bridge.callhandler('addPush', data, (data) => {\r\n        })\r\n      } else {\r\n        this.$toast('返回原生页面')\r\n      }\r\n    },\r\n\r\n    // 关闭推送功能\r\n    NativeDissPush() {\r\n      if (process.env.NODE_ENV !== 'development') {\r\n        try {\r\n          window.myapp.dissPush()\r\n        } catch (err) {\r\n          console.log(err)\r\n        }\r\n        this.$bridge.callhandler('dissPush', (data) => {\r\n        })\r\n      } else {\r\n        this.$toast('返回原生页面')\r\n      }\r\n    },\r\n    // 关闭悬浮框\r\n    NativeDissDialog() {\r\n      if (process.env.NODE_ENV !== 'development') {\r\n        try {\r\n          window.myapp.dissDialog()\r\n        } catch (err) {\r\n          console.log(err)\r\n        }\r\n        this.$bridge.callhandler('dissDialog', (data) => {\r\n        })\r\n      } else {\r\n        this.$toast('返回原生页面')\r\n      }\r\n    },\r\n    // 登录接口\r\n    NativeLoginAction(pram) {\r\n      if (process.env.NODE_ENV !== 'development') {\r\n        try {\r\n          window.myapp.loginAction(pram)\r\n        } catch (err) {\r\n          console.log(err)\r\n        }\r\n        this.$bridge.callhandler('loginAction', pram, (data) => {\r\n        })\r\n      } else {\r\n        this.$toast('请在APP中进行测试使用')\r\n      }\r\n    },\r\n    // 检测软件升级\r\n    NativeCheakUpdate() {\r\n      if (process.env.NODE_ENV !== 'development') {\r\n        try {\r\n          window.myapp.cheakUpdate()\r\n        } catch (err) {\r\n          console.log(err)\r\n        }\r\n        this.$bridge.callhandler('cheakUpdate', (data) => {\r\n        })\r\n      } else {\r\n        this.$toast('请在APP中进行测试使用')\r\n      }\r\n    },\r\n    // 获取垃圾数目\r\n    NativeGetLjSize() {\r\n      if (process.env.NODE_ENV !== 'development') {\r\n        try {\r\n          window.myapp.getlj()\r\n        } catch (err) {\r\n          console.log(err)\r\n        }\r\n        this.$bridge.callhandler('getlj', (data) => {\r\n        })\r\n      } else {\r\n        this.$toast('返回原生页面')\r\n      }\r\n    },\r\n    // 清理垃圾\r\n    NativeCleanLj() {\r\n      if (process.env.NODE_ENV !== 'development') {\r\n        try {\r\n          window.myapp.cleanlj()\r\n        } catch (err) {\r\n          console.log(err)\r\n        }\r\n        this.$bridge.callhandler('cleanlj', (data) => {\r\n        })\r\n      } else {\r\n        this.$toast('返回原生页面')\r\n      }\r\n    },\r\n    // 附件下载并查看看\r\n    NativeDownFiles(data) {\r\n      if (process.env.NODE_ENV !== 'development') {\r\n        try {\r\n          window.myapp.downloadFile(data)\r\n        } catch (err) {\r\n          console.log(err)\r\n        }\r\n        this.$bridge.callhandler('downloadFile', String(data), (data) => {\r\n        })\r\n      } else {\r\n        this.$toast('开发环境不支持')\r\n      }\r\n    },\r\n    // 二维码扫描\r\n    NativeScan() {\r\n      if (process.env.NODE_ENV !== 'development') {\r\n        try {\r\n          window.myapp.goScanView()\r\n        } catch (err) {\r\n          console.log(err)\r\n        }\r\n        // try {\r\n        //   window.webkit.messageHandlers.goScanView.postMessage()\r\n        // } catch (err) {\r\n        //   console.log(err)\r\n        // }\r\n\r\n        this.$bridge.callhandler('goScanView', '{page:1}', (data) => {\r\n          const datas = JSON.parse(data)\r\n          console.log('goScanView------', data)\r\n          this.Native_ScanData = datas\r\n        })\r\n      } else {\r\n        this.$toast('返回原生页面')\r\n      }\r\n    },\r\n    // 获取摄像头\r\n    NativePhone(type) {\r\n      if (process.env.NODE_ENV !== 'development') {\r\n        try {\r\n          window.myapp.goIDCards(type)\r\n        } catch (err) {\r\n          console.log(err)\r\n        }\r\n        this.$bridge.callhandler('goIDCards', type, (data) => {\r\n          const datas = JSON.parse(data)\r\n          console.log('goIDCards------', datas)\r\n          this.Native_PhoneImageData = datas\r\n        })\r\n      } else {\r\n        this.$toast('返回原生页面')\r\n      }\r\n    },\r\n    NativeHandSing() {\r\n      if (process.env.NODE_ENV !== 'development') {\r\n        try {\r\n          window.myapp.goHandWriteView()\r\n        } catch (err) {\r\n          console.log(err)\r\n        }\r\n        this.$bridge.callhandler('goHandWriteView', (data) => {\r\n          this.Native_PhoneImageData = data\r\n        })\r\n      } else {\r\n        this.$toast('返回原生页面')\r\n      }\r\n    },\r\n    // 拨打电话\r\n    NativeCallPhone(phone) {\r\n      if (process.env.NODE_ENV !== 'development') {\r\n        try {\r\n          window.myapp.call(phone)\r\n        } catch (err) {\r\n          console.log(err)\r\n        }\r\n        this.$bridge.callhandler('call', phone, (data) => {\r\n        })\r\n      } else {\r\n        this.$toast('返回原生页面')\r\n      }\r\n    },\r\n    // 上传图片\r\n    NativeUpdateImage() {\r\n      if (process.env.NODE_ENV !== 'development') {\r\n        try {\r\n          window.myapp.CameraOrImage()\r\n        } catch (err) {\r\n          console.log(err)\r\n        }\r\n        this.$bridge.callhandler('CameraOrImage', (data) => {\r\n        })\r\n      } else {\r\n        this.$toast('返回原生页面')\r\n      }\r\n    }\r\n\r\n  }\r\n}\r\n\r\nexport const searchMixin = {\r\n  data() {\r\n    return {\r\n      query: '',\r\n      refreshDelay: 120\r\n    }\r\n  },\r\n  computed: {\r\n    // ...mapGetters([\r\n    //   'searchHistory'\r\n    // ])\r\n  },\r\n  methods: {\r\n    onQueryChange(query) {\r\n      this.query = query\r\n    },\r\n    blurInput() {\r\n      this.$refs.searchBox.blur()\r\n    },\r\n    addQuery(query) {\r\n      this.$refs.searchBox.setQuery(query)\r\n    },\r\n    saveSearch() {\r\n      this.updateHostorList(this.query)\r\n    },\r\n    ...mapActions([\r\n      'updateHostorList',\r\n      'deleteSearchHistory'\r\n    ])\r\n  }\r\n}\r\n\r\nexport const wybmMixin = {\r\n  data() {\r\n    return {\r\n      query: '',\r\n      refreshDelay: 120\r\n    }\r\n  },\r\n  computed: {\r\n    // ...mapGetters([\r\n    //   'searchHistory'\r\n    // ])\r\n  },\r\n  methods: {\r\n    wybmAction() {\r\n      this.wybmfbAction()\r\n    },\r\n    ...mapActions([\r\n      'wybmfbAction'\r\n    ])\r\n  }\r\n}\r\n\r\n","module.exports = __webpack_public_path__ + \"img/no-img.3caca518.png\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"buycart loading-white\"},[_c('div',{staticClass:\"nav-bar nav-bar-white\"},[_c('div',{staticClass:\"nav-bar-left\"}),_c('div',{staticClass:\"nav-bar-title\"},[_vm._v(\"购物车\")]),_c('div',{staticClass:\"nav-bar-right\",on:{\"click\":function($event){return _vm.deleteCarts()}}},[_vm._v(\"清空\")])]),_c('div',{staticClass:\"head-line lineGradient\"}),(_vm.cartList && _vm.cartList.length>0)?_c('div',{staticClass:\"negative2\"},[_c('van-pull-refresh',{ref:\"pull\",on:{\"refresh\":_vm.onRefresh},model:{value:(_vm.isLoading),callback:function ($$v) {_vm.isLoading=$$v},expression:\"isLoading\"}},_vm._l((_vm.cartList),function(cart,index){return _c('div',{key:index,staticClass:\"content\"},[(cart.productList!=null && cart.productList.length!=0)?_c('div',{staticClass:\"common-main box\"},[_c('div',{staticClass:\"goodscart-item\"},[_c('div',{staticClass:\"title-cart\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.checkPro[index].zt),expression:\"checkPro[index].zt\"}],attrs:{\"check\":_vm.checkPro[index].zt,\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.checkPro[index].zt)?_vm._i(_vm.checkPro[index].zt,null)>-1:(_vm.checkPro[index].zt)},on:{\"change\":[function($event){var $$a=_vm.checkPro[index].zt,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.checkPro[index], \"zt\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.checkPro[index], \"zt\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.checkPro[index], \"zt\", $$c)}},function($event){return _vm.handleCheckAllChange(index, _vm.checkPro[index].zt)}]}}),_c('span',{staticStyle:{\"margin-left\":\"10px\"}},[_vm._v(_vm._s(cart.gysmc))])]),_vm._l((cart.productList),function(spxx,indexs){return _c('div',{key:indexs,staticClass:\"goodsshow-loop\"},[_c('van-swipe-cell',[_c('div',{staticClass:\"goodsshow-list\"},[_c('div',{staticClass:\"goodsshow-check\"},[_c('van-checkbox',{on:{\"click\":function($event){return _vm.changeProZt(spxx.id, cart.gysbh, spxx.cart_id,index,indexs)}},model:{value:(_vm.checkPro[index].prozt[indexs]),callback:function ($$v) {_vm.$set(_vm.checkPro[index].prozt, indexs, $$v)},expression:\"checkPro[index].prozt[indexs]\"}})],1),_c('div',{staticClass:\"goodsshow-c\"},[_c('div',{staticClass:\"goodsshow-img\",on:{\"click\":function($event){return _vm.imgPreview(spxx.imgSrc?spxx.imgSrc:_vm.defaultImg)}}},[_c('img',{attrs:{\"src\":spxx.imgSrc,\"onerror\":_vm.defaultImg}})]),_c('div',{staticClass:\"goodsshow-c-info\"},[_c('div',{staticClass:\"goodsshow-tit\"},[_c('a',{attrs:{\"href\":\"javascript:\"},on:{\"click\":function($event){return _vm.toProductDetail(spxx.id,spxx.name)}}},[_vm._v(_vm._s(spxx.name))])]),_c('div',{staticClass:\"goodsshow-tag\"},[_c('van-tag',{attrs:{\"plain\":\"\",\"type\":\"primary\"}},[_vm._v(_vm._s(spxx.sourceName))])],1),_c('div',{staticClass:\"goodsshow-info\"},[_c('div',{staticClass:\"price\"},[_vm._v(_vm._s(spxx.price_now)+\"元\")]),_c('div',{staticClass:\"num\"},[_c('van-stepper',{key:_vm.key,attrs:{\"min\":\"1\",\"max\":\"99999\",\"integer\":\"\"},on:{\"change\":function($event){return _vm.calPrice(index,indexs,spxx.id,spxx.pcount,spxx.cart_id)}},model:{value:(spxx.pcount),callback:function ($$v) {_vm.$set(spxx, \"pcount\", $$v)},expression:\"spxx.pcount\"}})],1)])])])]),_c('template',{slot:\"right\"},[_c('van-button',{attrs:{\"square\":\"\",\"type\":\"danger\",\"text\":\"删除\"},on:{\"click\":function($event){return _vm.DeleteSp(spxx.cart_id)}}})],1)],2),(_vm.showAccessory[index+indexs] && spxx.accessoryList)?_c('div',{staticClass:\"common-more\",on:{\"click\":function($event){return _vm.changeAccessory(index,indexs)}}},[_c('div',{staticClass:\"more\"},[_c('em',[_vm._v(\"隐藏\")]),_vm._v(\" \"),_c('i',{staticClass:\"iconfont iconarrow-up\"})])]):_vm._e(),(!_vm.showAccessory[index+indexs] && spxx.accessoryList)?_c('div',{staticClass:\"common-more\",on:{\"click\":function($event){return _vm.changeAccessory(index,indexs)}}},[_c('div',{staticClass:\"more\"},[_c('em',[_vm._v(\"显示\")]),_vm._v(\" \"),_c('i',{staticClass:\"iconfont iconarrow-down\"})])]):_vm._e(),(_vm.showAccessory[index+indexs] && spxx.accessoryList)?_c('div',{staticClass:\"accessories\"},_vm._l((spxx.accessoryList),function(item,index1){return _c('div',{key:index1,staticClass:\"accessories-list\"},[_c('div',{staticClass:\"accessories-tit\"},[_vm._v(_vm._s(item.name))]),_c('div',{staticClass:\"accessories-info\"},[_vm._v(\"¥\"+_vm._s(item.price))]),_c('div',{staticClass:\"accessories-delete\",on:{\"click\":function($event){return _vm.deleteAccessory(item.id)}}},[_c('i',{staticClass:\"iconfont iconshanchu\"})])])}),0):_vm._e()],1)})],2)]):_vm._e()])}),0)],1):_c('div',{staticClass:\"negative2\"},[_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"common-main box\"},[_c('div',{staticClass:\"cart-empty\"},[_c('div',{staticClass:\"cart-empty-tit\"},[_vm._v(\"购物车竟然是空的~\")]),_c('div',{staticClass:\"cart-empty-btn\"},[_c('van-button',{attrs:{\"size\":\"small\",\"plain\":\"\",\"type\":\"info\"},on:{\"click\":function($event){return _vm.goBuy()}}},[_vm._v(\"去购物\")])],1)])])])]),_c('div',{staticClass:\"sub-space\"}),_c('div',{staticClass:\"sub-space\"}),_c('div',{staticClass:\"foot-btn fixed\"},[_c('ul',[_c('li',{staticClass:\"check\"},[_c('van-checkbox',{on:{\"click\":_vm.checkAll},model:{value:(_vm.checkAllZt),callback:function ($$v) {_vm.checkAllZt=$$v},expression:\"checkAllZt\"}}),_vm._v(\" 全选 \")],1),_c('li',[_c('div',{staticClass:\"text\"},[_vm._v(\"合计:\"),_c('em',[_vm._v(_vm._s(_vm.priceSum)+\"元\")])]),_c('div',{staticClass:\"text-mini\"},[_vm._v(\"(不含运费)\")])]),_c('li',[_c('div',{staticClass:\"button-action\"},[_c('van-button',{staticClass:\"action1\",staticStyle:{\"width\":\"100px\"},attrs:{\"type\":\"info\",\"round\":\"\",\"size\":\"large\"},on:{\"click\":function($event){return _vm.toOrder()}}},[_vm._v(\"去结算\")]),_c('van-button',{class:_vm.showMenu == true ? 'action2 active':'action2',staticStyle:{\"width\":\"80px\"},attrs:{\"type\":\"info\",\"round\":\"\",\"size\":\"large\"},on:{\"click\":function($event){return _vm.showMenuBtn()}}},[_vm._v(\"更多 \"),_c('i',{staticClass:\"iconfont iconarrow-down\"})]),_c('div',{class:_vm.showMenu == true ? 'dropdownmenu active':'dropdownmenu'},[_c('ul',[_c('li',{on:{\"click\":function($event){return _vm.goBidRule()}}},[_c('i',{staticClass:\"iconfont icontoubiaoren\"}),_vm._v(\" 发起竞价\")]),_c('li',{on:{\"click\":function($event){return _vm.goXjRule()}}},[_c('i',{staticClass:\"iconfont icondaibanshixiang\"}),_vm._v(\" 发起询价\")])])])],1)])])]),_c('FooterNavMall')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"buycart loading-white\">\r\n    <!-- head部分 begin -->\r\n    <div class=\"nav-bar nav-bar-white\">\r\n      <div class=\"nav-bar-left\" />\r\n      <div class=\"nav-bar-title\">购物车</div>\r\n      <div class=\"nav-bar-right\" @click=\"deleteCarts()\">清空</div>\r\n    </div>\r\n    <!-- head部分 end -->\r\n    <div class=\"head-line lineGradient\" />\r\n\r\n    <!-- 购物车 begin -->\r\n    <div v-if=\"cartList && cartList.length>0\" class=\"negative2\">\r\n      <van-pull-refresh ref=\"pull\" v-model=\"isLoading\" @refresh=\"onRefresh\">\r\n        <div v-for=\"(cart,index) of cartList\" :key=\"index\" class=\"content\">\r\n          <div v-if=\"cart.productList!=null && cart.productList.length!=0\" class=\"common-main box\">\r\n            <div class=\"goodscart-item\">\r\n              <div class=\"title-cart\">\r\n                <!-- <van-checkbox v-model=\"checkPro[index].zt\" @click=\"handleCheckAllChange(index, checkPro[index].zt)\">{{ cart.gysmc }}</van-checkbox> -->\r\n                <input v-model=\"checkPro[index].zt\" :check=\"checkPro[index].zt\" type=\"checkbox\" @change=\"handleCheckAllChange(index, checkPro[index].zt)\"><span style=\"margin-left:10px\">{{ cart.gysmc }}</span>\r\n              </div>\r\n              <div v-for=\"(spxx,indexs) of cart.productList\" :key=\"indexs\" class=\"goodsshow-loop\">\r\n                <!-- <van-swipe-cell :on-close=\"onClose\"> -->\r\n                <van-swipe-cell>\r\n                  <div class=\"goodsshow-list\">\r\n                    <div class=\"goodsshow-check\">\r\n                      <van-checkbox v-model=\"checkPro[index].prozt[indexs]\" @click=\"changeProZt(spxx.id, cart.gysbh, spxx.cart_id,index,indexs)\" />\r\n                    </div>\r\n                    <div class=\"goodsshow-c\">\r\n                      <div class=\"goodsshow-img\" @click=\"imgPreview(spxx.imgSrc?spxx.imgSrc:defaultImg)\">\r\n                        <img :src=\"spxx.imgSrc\" :onerror=\"defaultImg\">\r\n                      </div>\r\n                      <div class=\"goodsshow-c-info\">\r\n                        <div class=\"goodsshow-tit\">\r\n                          <a href=\"javascript:\" @click=\"toProductDetail(spxx.id,spxx.name)\">{{ spxx.name }}</a>\r\n                        </div>\r\n                        <div class=\"goodsshow-tag\">\r\n                          <van-tag plain type=\"primary\">{{ spxx.sourceName }}</van-tag>\r\n                        </div>\r\n                        <div class=\"goodsshow-info\">\r\n                          <div class=\"price\">{{ spxx.price_now }}元</div>\r\n                          <div class=\"num\"><van-stepper :key=\"key\" v-model=\"spxx.pcount\" min=\"1\" max=\"99999\" integer @change=\"calPrice(index,indexs,spxx.id,spxx.pcount,spxx.cart_id)\" /></div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <template slot=\"right\">\r\n                    <van-button square type=\"danger\" text=\"删除\" @click=\"DeleteSp(spxx.cart_id)\" />\r\n                  </template>\r\n                </van-swipe-cell>\r\n                <div v-if=\"showAccessory[index+indexs] && spxx.accessoryList\" class=\"common-more\" @click=\"changeAccessory(index,indexs)\">\r\n                  <div class=\"more\"><em>隐藏</em> <i class=\"iconfont iconarrow-up\" /></div>\r\n                </div>\r\n                <div v-if=\"!showAccessory[index+indexs] && spxx.accessoryList\" class=\"common-more\" @click=\"changeAccessory(index,indexs)\">\r\n                  <div class=\"more\"><em>显示</em> <i class=\"iconfont iconarrow-down\" /></div>\r\n                </div>\r\n                <!-- 配件 begin -->\r\n                <div v-if=\"showAccessory[index+indexs] && spxx.accessoryList\" class=\"accessories\">\r\n                  <div v-for=\"(item,index1) of spxx.accessoryList\" :key=\"index1\" class=\"accessories-list\">\r\n                    <div class=\"accessories-tit\">{{ item.name }}</div>\r\n                    <div class=\"accessories-info\">¥{{ item.price }}</div>\r\n                    <div class=\"accessories-delete\" @click=\"deleteAccessory(item.id)\"><i class=\"iconfont iconshanchu\" /></div>\r\n                  </div>\r\n                </div>\r\n                <!-- 配件 end -->\r\n              </div>\r\n              <!-- <div class=\"cart-space\" /> -->\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </van-pull-refresh>\r\n    </div>\r\n    <!-- 购物车 end -->\r\n\r\n    <!-- 购物车为空 begin -->\r\n    <div v-else class=\"negative2\">\r\n      <div class=\"content\">\r\n        <div class=\"common-main box\">\r\n          <div class=\"cart-empty\">\r\n            <div class=\"cart-empty-tit\">购物车竟然是空的~</div>\r\n            <div class=\"cart-empty-btn\"><van-button size=\"small\" plain type=\"info\" @click=\"goBuy()\">去购物</van-button></div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!-- 购物车为空 end -->\r\n\r\n    <div class=\"sub-space\" />\r\n    <div class=\"sub-space\" />\r\n    <!-- 底部按钮 begin -->\r\n    <div class=\"foot-btn fixed\">\r\n      <ul>\r\n        <li class=\"check\">\r\n          <van-checkbox v-model=\"checkAllZt\" @click=\"checkAll\" />\r\n          全选\r\n        </li>\r\n        <li>\r\n          <div class=\"text\">合计:<em>{{ priceSum }}元</em></div>\r\n          <div class=\"text-mini\">(不含运费)</div>\r\n        </li>\r\n        <li>\r\n          <div class=\"button-action\">\r\n            <!-- <van-button class=\"action1\" type=\"info\" round size=\"large\" style=\"width:100px;\" @click=\"toOrder()\">去结算({{ productNum }})</van-button> -->\r\n            <van-button class=\"action1\" type=\"info\" round size=\"large\" style=\"width:100px;\" @click=\"toOrder()\">去结算</van-button>\r\n            <van-button :class=\"showMenu == true ? 'action2 active':'action2'\" type=\"info\" round size=\"large\" style=\"width:80px;\" @click=\"showMenuBtn()\">更多 <i class=\"iconfont iconarrow-down\" /></van-button>\r\n            <div :class=\"showMenu == true ? 'dropdownmenu active':'dropdownmenu'\">\r\n              <ul>\r\n                <li @click=\"goBidRule()\"><i class=\"iconfont icontoubiaoren\" /> 发起竞价</li>\r\n                <li @click=\"goXjRule()\"><i class=\"iconfont icondaibanshixiang\" /> 发起询价</li>\r\n              </ul>\r\n            </div>\r\n          </div>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n    <!-- 底部按钮 end -->\r\n\r\n    <FooterNavMall />\r\n  </div>\r\n</template>\r\n\r\n<script land=\"script\" scoped>\r\nimport FooterNavMall from '@/components/footerNav/footerNavMall.vue'\r\nimport { ImagePreview } from 'vant'\r\nimport { getDefAddress, getCartList, saveCart, deleteCart, deleteCarts, deleteAccessory, checkPrice } from '@/store/module.js'\r\nimport { pageRouter } from '@/common/js/mixin.js'\r\n\r\nexport default {\r\n  name: 'BuyCart',\r\n  components: {\r\n    FooterNavMall\r\n  },\r\n  filters: {\r\n    numFilter(value) {\r\n      let realVal = ''\r\n      if (value) {\r\n      // 截取当前数据到小数点后两位\r\n        realVal = parseFloat(value).toFixed(2)\r\n      } else {\r\n        realVal = '--'\r\n      }\r\n      return realVal\r\n    }\r\n  },\r\n  mixins: [pageRouter],\r\n  data() {\r\n    return {\r\n      key: 1,\r\n      defaultImg: 'this.src=\"' + require('@/assets/no-img.png') + '\"',\r\n      pjShow: false,\r\n      state1: true,\r\n      state2: true,\r\n      isLoading: true,\r\n      spxxList: [], // 选中的商品信息\r\n      isFrst: false,\r\n      num1: 1,\r\n      num2: 2,\r\n      num3: 3,\r\n      num4: 1,\r\n      num5: 1,\r\n      cartList: [], // 全部商品信息\r\n      checkProZt: [], // 单个商品选择状态\r\n      checkPro: [], // 所有商品选择状态列表\r\n      checkCart: [], // 选择商品的购物车id\r\n      checkAllZt: false,\r\n      isIndeterminate: false,\r\n      dialogCompare: false,\r\n      showAccessory: [],\r\n      cart_id: '',\r\n      checked: false,\r\n      showMenu: false\r\n    }\r\n  },\r\n  computed: {\r\n    productNum: function() {\r\n      let productNum = 0\r\n      if (this.spxxList && this.spxxList.length > 0) {\r\n        for (const cart of this.spxxList) {\r\n          productNum += cart.productList.length\r\n        }\r\n      }\r\n      return productNum\r\n    },\r\n    priceSum: function() {\r\n      let priceSum = 0\r\n      if (this.spxxList && this.spxxList.length > 0) {\r\n        for (const cart of this.spxxList) {\r\n          for (const item of cart.productList) {\r\n            priceSum += parseInt(item.pcount) * item.price_now\r\n            if (item.accessoryList != null) {\r\n              for (const accessory of item.accessoryList) {\r\n                priceSum += parseFloat(accessory.price).toFixed(2) * parseInt(item.pcount)\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n      return priceSum.toFixed(2)\r\n    }\r\n\r\n  },\r\n  created() {\r\n    this.$store.commit('mall/SET_ISACTIVE', 2)\r\n  },\r\n  activated() {\r\n    this.getProductList()\r\n  },\r\n  mounted() {\r\n    this.getProductList()\r\n  },\r\n  methods: {\r\n    imgPreview(item) {\r\n      const slide = []\r\n      slide.push(item)\r\n      ImagePreview({\r\n        images: slide, // 预览图片的那个数组\r\n        loop: false\r\n      })\r\n    },\r\n    goBuy() {\r\n      this.$router.push('GoodsList')\r\n    },\r\n    pjisShow() {\r\n      this.pjShow = !this.pjShow\r\n    },\r\n    onRefresh() {\r\n      this.getProductList()\r\n      this.isLoading = false\r\n    },\r\n    // 清空购物车\r\n    deleteCarts() {\r\n      this.$dialog.confirm({\r\n        title: '提示',\r\n        message: '确认清空购物车吗？'\r\n      }).then(() => {\r\n        for (const cart of this.cartList) {\r\n          for (var i = 0; i < cart.productList.length; i++) {\r\n            this.checkCart.push(cart.productList[i].cart_id)\r\n          }\r\n        }\r\n        deleteCarts.data = { e_cart_ids: this.checkCart }\r\n        this.asyncApiModule(deleteCarts).then(res => {\r\n          this.$bus.$emit('deleteSp')\r\n          this.$toast.success('购物车清空成功')\r\n          this.getProductList()\r\n          this.spxxList = []\r\n        })\r\n          .catch(() => {\r\n            this.loading = false\r\n          })\r\n      }).catch(() => {\r\n      })\r\n    },\r\n    // 删除商品\r\n    DeleteSp(e_cart_id) {\r\n      deleteCart.data = { e_cart_id: e_cart_id }\r\n      this.asyncApiModule(deleteCart).then(res => {\r\n        this.$bus.$emit('deleteSp')\r\n        this.$toast.success('删除成功')\r\n        this.getProductList()\r\n      }).catch(() => {\r\n        this.loading = false\r\n      })\r\n      // for (var i = 0; i < this.cartList.length; i++) {\r\n      //   var productList = this.cartList[i].productList\r\n      //   for (var j = 0; j < productList.length; j++) {\r\n      //     if (productList[j].cart_id === e_cart_id) {\r\n      //       productList.splice(j, 1)\r\n      //     }\r\n      //   }\r\n      // }\r\n      // this.spxxList = this.cartList.concat()\r\n    },\r\n    // 根据状态改变选中商品列表\r\n    handler(checkPro) {\r\n      this.spxxList = []\r\n      for (let i = 0; i < checkPro.length; i++) {\r\n        if (this.checkPro[i].zt) {\r\n          this.spxxList.push(this.cartList[i])\r\n        } else {\r\n          var state = true\r\n          for (let j = 0; j < checkPro[i].prozt.length; j++) {\r\n            const item = checkPro[i].prozt\r\n            if (item[j]) {\r\n              if (state) {\r\n                const productList = []\r\n                this.spxxList.push({\r\n                  contact_name: this.cartList[i].contact_name,\r\n                  dsbs: this.cartList[i].dsbs,\r\n                  email: this.cartList[i].email,\r\n                  gysbh: this.cartList[i].gysbh,\r\n                  gysmc: this.cartList[i].gysmc,\r\n                  jklx: this.cartList[i].jklx,\r\n                  mobile: this.cartList[i].mobile,\r\n                  productList: productList,\r\n                  status: this.cartList[i].status\r\n                })\r\n              }\r\n              state = false\r\n              this.spxxList[this.spxxList.length - 1].productList.push(this.cartList[i].productList[j])\r\n            }\r\n          }\r\n        }\r\n      }\r\n    },\r\n    getCheckResult() {\r\n      this.getProductList()\r\n    },\r\n    deepClone(obj) {\r\n      const objClone = Array.isArray(obj) ? [] : {}\r\n      if (obj && typeof obj === 'object') {\r\n        for (var key in obj) {\r\n          if (obj.hasOwnProperty(key)) {\r\n            // 判断 obj 是否是对象,如果是，递归复制\r\n            if (obj[key] && typeof obj[key] === 'object') {\r\n              objClone[key] = this.deepClone(obj[key])\r\n            } else {\r\n              // 如果不是\r\n              objClone[key] = obj[key]\r\n            }\r\n          }\r\n        }\r\n      }\r\n      return objClone\r\n    },\r\n    getProductList() {\r\n      this.loading = true\r\n      this.asyncApiModule(getCartList).then(res => {\r\n        this.checkPro = []\r\n        if (res && res.cartsList) {\r\n          this.cartList = res.cartsList\r\n          if (this.cartList.length > 0) {\r\n            this.spxxList = this.deepClone(this.cartList)\r\n          } else {\r\n            this.spxxList = []\r\n          }\r\n        } else {\r\n          this.cartList = []\r\n          this.spxxList = []\r\n        }\r\n        // 价格同步\r\n        this.getDefAddress()\r\n        this.checkAllZt = true\r\n        if (this.cartList.length > 0) {\r\n          for (const cart of this.cartList) {\r\n            var check = {\r\n              zt: true,\r\n              prozt: []\r\n            }\r\n            for (var i = 0; i < cart.productList.length; i++) {\r\n              this.showAccessory.push(false)\r\n              check.prozt.push(true)\r\n              for (const proInfo of cart.productList) {\r\n                let accePrice = 0\r\n                if (proInfo.accessoryList) {\r\n                  for (const acce of proInfo.accessoryList) {\r\n                    accePrice = accePrice + acce.price\r\n                  }\r\n                }\r\n                proInfo.accessoryPrice = accePrice\r\n              }\r\n            }\r\n            this.checkPro.push(check)\r\n          }\r\n        }\r\n      })\r\n        .catch((error) => {\r\n          console.log('errorrr---------------------', error)\r\n          this.loading = false\r\n        })\r\n    },\r\n    // 获取默认地址\r\n    getDefAddress() {\r\n      this.$nextTick(() => {\r\n        this.hackRest = true\r\n      })\r\n      this.asyncApiModule(getDefAddress).then(res => {\r\n        console.log(res)\r\n        if (res.province && this.cartList.length > 0) {\r\n          const province = res.province\r\n          const city = res.city\r\n          const county = res.county\r\n          const town = res.town\r\n          var check = {\r\n            province: province,\r\n            city: city,\r\n            county: county,\r\n            town: town,\r\n            dsbs: '',\r\n            skuList: []\r\n          }\r\n          for (const cart of this.cartList) {\r\n            if (cart.dsbs !== 'KJXY') {\r\n              const proList = []\r\n              for (const proInfo of cart.productList) {\r\n                proList.push(proInfo.id)\r\n              }\r\n              check.skuList = proList\r\n              check.dsbs = cart.dsbs\r\n              checkPrice.data = check\r\n              this.asyncApiModule(checkPrice).then(res => {\r\n                console.log(res)\r\n                if (res.success === 'success') {\r\n                  if (res.productList.length > 0) {\r\n                    for (const pro of res.productList) {\r\n                      for (const proInfo of cart.productList) {\r\n                        if (proInfo.id === pro.id && proInfo.price_now !== pro.NEWPRICE) {\r\n                          proInfo.price_now = pro.NEWPRICE\r\n                        }\r\n                      }\r\n                    }\r\n                  }\r\n                }\r\n              })\r\n                .catch(() => {\r\n                  this.loading = false\r\n                })\r\n            }\r\n          }\r\n        }\r\n      })\r\n        .catch(() => {\r\n          this.loading = false\r\n        })\r\n    },\r\n    // 购买数量变更\r\n    calPrice(cartIndex, proIndex, proId, pconut, cart_id) {\r\n      if (pconut === '-') {\r\n        this.cartList[cartIndex].productList[proIndex].pcount = 1\r\n        pconut = 1\r\n      }\r\n      if (pconut > 99999) {\r\n        this.cartList[cartIndex].productList[proIndex].pcount = 99999\r\n        pconut = 99999\r\n        this.key++\r\n      }\r\n      saveCart.data = { id: cart_id, pcount: pconut }\r\n      this.asyncApiModule(saveCart).then(res => {\r\n        this.getProductList()\r\n        console.log(res)\r\n      })\r\n        .catch(() => {\r\n          this.loading = false\r\n        })\r\n\r\n      console.log(this.priceSum)\r\n    },\r\n    changeProZt(pro_id, cart_gysbh, cart_id, index, indexPro) {\r\n      if (this.checkPro[index].prozt[indexPro] === false) {\r\n        this.checkPro[index].zt = false\r\n        this.checkAllZt = false\r\n      } else {\r\n        var num1 = 0\r\n        for (let i = 0; i < this.checkPro[index].prozt.length; i++) {\r\n          const item = this.checkPro[index].prozt[i]\r\n          if (item) {\r\n            num1++\r\n          }\r\n        }\r\n        if (num1 === this.checkPro[index].prozt.length) {\r\n          this.checkPro[index].zt = true\r\n        }\r\n        var num2 = 0\r\n        for (let i = 0; i < this.checkPro.length; i++) {\r\n          const item = this.checkPro[i]\r\n          if (item.zt) {\r\n            num2++\r\n          }\r\n        }\r\n        if (num2 === this.checkPro.length) {\r\n          this.checkAllZt = true\r\n        }\r\n      }\r\n      this.handler(this.checkPro)\r\n    },\r\n    checkAll() {\r\n      if (this.checkAllZt) {\r\n        for (let i = 0; i < this.cartList.length; i++) {\r\n          const productList = this.cartList[i].productList\r\n          var cart_gysbh = this.cartList[i].gysbh\r\n          for (let j = 0; j < productList.length; j++) {\r\n            var pro_id = productList[j].id\r\n            this.checkPro[i].prozt[j] = true\r\n            if (this.checkProZt.indexOf(pro_id + cart_gysbh) === -1) {\r\n              this.checkProZt.push(pro_id + cart_gysbh)\r\n            }\r\n          }\r\n        }\r\n        for (let i = 0; i < this.checkPro.length; i++) {\r\n          this.checkPro[i].zt = true\r\n          for (let j = 0; j < this.checkPro[i].prozt.length; j++) {\r\n            this.checkPro[i].prozt[j] = true\r\n          }\r\n        }\r\n      } else {\r\n        this.checkProZt = []\r\n        for (let i = 0; i < this.checkPro.length; i++) {\r\n          this.checkPro[i].zt = false\r\n          for (let j = 0; j < this.checkPro[i].prozt.length; j++) {\r\n            this.checkPro[i].prozt[j] = false\r\n          }\r\n        }\r\n      }\r\n      this.handler(this.checkPro)\r\n    },\r\n    handleCheckAllChange(index, gysbh) {\r\n      var proList = this.cartList[index].productList\r\n      var pro_id\r\n      // var cart_id\r\n      var i\r\n      if (this.checkPro[index].zt) {\r\n        for (i = 0; i < proList.length; i++) {\r\n          pro_id = proList[i].id\r\n          // cart_id = proList[i].cart_id\r\n          this.checkPro[index].prozt[i] = true\r\n\r\n          if (this.checkProZt.indexOf(pro_id + gysbh) === -1) {\r\n            this.checkProZt.push(pro_id + gysbh)\r\n          }\r\n        }\r\n      } else {\r\n        for (i = 0; i < proList.length; i++) {\r\n          pro_id = proList[i].id\r\n          // cart_id = proList[i].cart_id\r\n          this.checkPro[index].prozt[i] = false\r\n          this.checkProZt.splice(this.checkProZt.indexOf(pro_id + gysbh), 1)\r\n        }\r\n      }\r\n      if (this.checkPro[index].zt === false) {\r\n        for (let i = 0; i < this.checkPro[index].prozt.length; i++) {\r\n          this.checkPro[index].prozt[i] = false\r\n        }\r\n        this.checkAllZt = false\r\n      }\r\n      if (this.checkPro[index].zt) {\r\n        for (let i = 0; i < this.checkPro[index].prozt.length; i++) {\r\n          this.checkPro[index].prozt[i] = true\r\n        }\r\n        var num3 = 0\r\n        for (let i = 0; i < this.checkPro.length; i++) {\r\n          const item = this.checkPro[i]\r\n          if (item.zt) {\r\n            num3++\r\n          }\r\n        }\r\n        if (num3 === this.checkPro.length) {\r\n          this.checkAllZt = true\r\n        }\r\n      }\r\n      this.handler(this.checkPro)\r\n    },\r\n    deleteAccessory(accessory_id) {\r\n      deleteAccessory.data = { e_cart_accessory_id: accessory_id }\r\n      this.asyncApiModule(deleteAccessory).then(res => {\r\n        this.getProductList()\r\n      })\r\n        .catch(() => {\r\n          this.loading = false\r\n        })\r\n    },\r\n    changeAccessory(index, indexpro) {\r\n      if (this.showAccessory[index + indexpro]) {\r\n        this.showAccessory.splice(index + indexpro, 1, false)\r\n      } else {\r\n        this.showAccessory.splice(index + indexpro, 1, true)\r\n      }\r\n    },\r\n    // 去下单\r\n    toOrder() {\r\n      if (this.spxxList.length === 0) {\r\n        this.$toast('请先添加商品！')\r\n        return\r\n      }\r\n      var isToOrder = true\r\n      for (const cart of this.spxxList) {\r\n        for (var i = 0; i < cart.productList.length; i++) {\r\n          for (const proInfo of cart.productList) {\r\n            if (proInfo.status === 3) {\r\n              isToOrder = false\r\n            }\r\n          }\r\n        }\r\n      }\r\n      if (!isToOrder) {\r\n        this.$toast.fail('本次交易中含有已下架产品，无法继续购买')\r\n        return\r\n      }\r\n      for (const cart of this.spxxList) {\r\n        for (var j = 0; j < cart.productList.length; j++) {\r\n          this.checkCart.push(cart.productList[j].cart_id)\r\n        }\r\n      }\r\n      if (this.checkCart.length === 0) {\r\n        this.$toast('购物车为空，请先选择购买商品！')\r\n        return\r\n      }\r\n      this.$store.commit('goods/SET_SPID', '')\r\n      this.$store.commit('goods/SET_QUERY', '')\r\n      this.$store.commit('bid/SET_XJXX', '')\r\n      this.$store.commit('goods/SET_CHECKCART', this.checkCart)\r\n      this.$router.push('ConfirmOrder')\r\n    },\r\n    toProductDetail(product_id, spmc) {\r\n      this.$store.commit('goods/SET_SPMC', spmc)\r\n      this.$store.commit('goods/SET_SPID', product_id)\r\n      this.$router.push({\r\n        name: 'GoodsDetail',\r\n        params: {\r\n          refresh: true\r\n        }\r\n      })\r\n    },\r\n    viewCompare(cart_id) {\r\n      this.dialogCompare = true\r\n      this.cart_id = cart_id\r\n    },\r\n    toFqjj() {\r\n      this.$store.commit('bid/SET_SPXXLIST', this.spxxList)\r\n      this.$router.push({ name: 'BidRule' })\r\n      this.$bus.$emit('change', this.spxxList)\r\n    },\r\n    toFqxj() {\r\n      this.$store.commit('bid/SET_SPXXLIST', this.spxxList)\r\n      this.$router.push({ name: 'XjRule' })\r\n      this.$bus.$emit('change', this.spxxList)\r\n    },\r\n    goBidRule() {\r\n      if (this.spxxList.length === 0 || this.cartList.length === 0) {\r\n        this.$toast('请先添加商品！')\r\n        return\r\n      }\r\n      this.$store.commit('bid/SET_SPXXLIST', this.spxxList)\r\n      this.$router.push({\r\n        name: 'BidRule'\r\n      })\r\n    },\r\n    goXjRule() {\r\n      if (this.spxxList.length === 0 || this.cartList.length === 0) {\r\n        this.$toast('请先添加商品！')\r\n        return\r\n      }\r\n      this.$store.commit('bid/SET_SPXXLIST', this.spxxList)\r\n      this.$router.push({\r\n        name: 'XjRule'\r\n      })\r\n    },\r\n    // 控制菜单显示/隐藏\r\n    showMenuBtn() {\r\n      this.showMenu = !this.showMenu\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"css\" scoped>\r\n\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BuyCart.vue?vue&type=script&land=script&scoped=true&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BuyCart.vue?vue&type=script&land=script&scoped=true&lang=js&\"","import { render, staticRenderFns } from \"./BuyCart.vue?vue&type=template&id=7d7367d2&scoped=true&\"\nimport script from \"./BuyCart.vue?vue&type=script&land=script&scoped=true&lang=js&\"\nexport * from \"./BuyCart.vue?vue&type=script&land=script&scoped=true&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7d7367d2\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}