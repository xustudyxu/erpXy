(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["XzGzrzXm","WdxmBj"],{"510f":function(t,e,n){"use strict";n.d(e,"d",(function(){return r})),n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return l}));n("a4d3"),n("4de4"),n("c975"),n("a434"),n("b0c0"),n("e439"),n("dbb4"),n("b64b"),n("159b");var a=n("ade3"),i=n("2f62");function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){Object(a["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var r={mounted:function(){},data:function(){return{}},methods:{goPage:function(t,e){this.$store.dispatch("router/setPageParams",e),this.$router.push({name:t,params:{keyName:e}})},getParams:function(){return this.$store.state.router.pageParams}},beforeRouteEnter:function(t,e,n){n((function(e){if("MhHome"!==t.name&&"MallHome"!==t.name){var n=e.$store.state.router.keepAlive,a=n.indexOf(t.name);-1===a&&n.push(t.name),e.$store.commit("router/SET_KEEP_ALIVE",n)}else e.$store.commit("router/SET_KEEP_ALIVE",[]);console.log("PageRoute=进入页面==",n)}))},beforeRouteLeave:function(t,e,n){var a=[];if(a=this.$store.state.router.keepAlive,"GysXmbm"===e.name){var i=a.indexOf(e.name);a.splice(i,1)}var o=a.indexOf(e.name),c=a.indexOf(t.name);-1!==c&&a.splice(o,1);for(var r=[],s=0;s<this.$store.state.router.footMeun.length;s++)r.push(this.$store.state.router.footMeun[s].component);var l=r.indexOf(e.name),u=r.indexOf(t.name);-1!==l&&-1!==u&&a.splice(o,1),console.log("PageRoute=退出页面======================",a),this.$store.commit("router/SET_KEEP_ALIVE",a),n()}},s={mounted:function(){var t=this;window["showSoftKeyBoard"]=function(e){console.info("showSoftKeyBoard-----",e),t.Native_ShowSoftKeyBoard=e},window["getRotuerPage"]=function(e){return t.$store.state.router.keepAlive},window["updateScanData"]=function(e){console.info("updateScan======",e),t.Native_ScanData=e},window["updateHandImage"]=function(e){t.Native_PhoneImageData=e}},data:function(){return{Native_ShowSoftKeyBoard:"",Native_ScanData:{},Native_PhoneImageData:{},Native_CaLoad:"",Native_CaList:{}}},computed:{},methods:{NativeLoadCA:function(){var t=this;try{this.Native_CaLoad=window.myapp.LoadCA(),console.info("NativeLoadCA======",window.myapp.LoadCA())}catch(e){console.log(e)}this.$bridge.callhandler("LoadCA","{page:1}",(function(e){var n=JSON.parse(e);console.log("goScanView------",e),t.Native_CaLoad=n}))},NativeGetAllCAInfo:function(){try{console.info("NativeGetAllCAInfo======",window.myapp.getAllCAInfo());var t=window.myapp.getAllCAInfo();this.Native_CaList=JSON.parse(t)}catch(e){console.log(e)}this.$bridge.callhandler("getAllCAInfo",(function(t){}))},NativeGetOnelCAInfo:function(t){try{console.info("NativeGetAllCAInfo======",window.myapp.getOneCAInfo())}catch(e){console.log(e)}this.$bridge.callhandler("getOneCAInfo",t,(function(t){}))},NativeChangePin:function(t){try{window.myapp.changePin(t)}catch(e){console.log(e)}this.$bridge.callhandler("changePin",t,(function(t){}))},NativeEnvelopeDecrypt:function(t){try{window.myapp.envelopeDecrypt(t)}catch(e){console.log(e)}this.$bridge.callhandler("envelopeDecrypt",t,(function(t){}))},NativeEnvelopeEncrypt:function(t){try{window.myapp.envelopeEncrypt(t)}catch(e){console.log(e)}this.$bridge.callhandler("envelopeEncrypt",t,(function(t){}))}}},l={mounted:function(){var t=this;window["getRotuerPage"]=function(e){return t.$store.state.router.keepAlive},window["updateScanData"]=function(e){console.info("updateScan======",e),t.Native_ScanData=e},window["updateHandImage"]=function(e){t.Native_PhoneImageData=e}},data:function(){return{Native_ScanData:{},Native_PhoneImageData:{}}},computed:{},methods:{NativeAddPush:function(t){try{window.myapp.addPush(t)}catch(e){console.log(e)}this.$bridge.callhandler("addPush",t,(function(t){}))},NativeDissPush:function(){try{window.myapp.dissPush()}catch(t){console.log(t)}this.$bridge.callhandler("dissPush",(function(t){}))},NativeDissDialog:function(){try{window.myapp.dissDialog()}catch(t){console.log(t)}this.$bridge.callhandler("dissDialog",(function(t){}))},NativeLoginAction:function(t){try{window.myapp.loginAction(t)}catch(e){console.log(e)}this.$bridge.callhandler("loginAction",t,(function(t){}))},NativeCheakUpdate:function(){try{window.myapp.cheakUpdate()}catch(t){console.log(t)}this.$bridge.callhandler("cheakUpdate",(function(t){}))},NativeGetLjSize:function(){try{window.myapp.getlj()}catch(t){console.log(t)}this.$bridge.callhandler("getlj",(function(t){}))},NativeCleanLj:function(){try{window.myapp.cleanlj()}catch(t){console.log(t)}this.$bridge.callhandler("cleanlj",(function(t){}))},NativeDownFiles:function(t){try{window.myapp.downloadFile(t)}catch(e){console.log(e)}this.$bridge.callhandler("downloadFile",String(t),(function(t){}))},NativeScan:function(){var t=this;try{window.myapp.goScanView()}catch(e){console.log(e)}this.$bridge.callhandler("goScanView","{page:1}",(function(e){var n=JSON.parse(e);console.log("goScanView------",e),t.Native_ScanData=n}))},NativePhone:function(t){var e=this;try{window.myapp.goIDCards(t)}catch(n){console.log(n)}this.$bridge.callhandler("goIDCards",t,(function(t){var n=JSON.parse(t);console.log("goIDCards------",n),e.Native_PhoneImageData=n}))},NativeHandSing:function(){var t=this;try{window.myapp.goHandWriteView()}catch(e){console.log(e)}this.$bridge.callhandler("goHandWriteView",(function(e){t.Native_PhoneImageData=e}))},NativeCallPhone:function(t){try{window.myapp.call(t)}catch(e){console.log(e)}this.$bridge.callhandler("call",t,(function(t){}))},NativeUpdateImage:function(){try{window.myapp.CameraOrImage()}catch(t){console.log(t)}this.$bridge.callhandler("CameraOrImage",(function(t){}))}}};c({onQueryChange:function(t){this.query=t},blurInput:function(){this.$refs.searchBox.blur()},addQuery:function(t){this.$refs.searchBox.setQuery(t)},saveSearch:function(){this.updateHostorList(this.query)}},Object(i["b"])(["updateHostorList","deleteSearchHistory"])),c({wybmAction:function(){this.wybmfbAction()}},Object(i["b"])(["wybmfbAction"]))},"5cf7":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"nav-bar noshadow"},[n("div",{staticClass:"nav-bar-left",on:{click:function(e){return t.goTbGzrz()}}},[n("i",{staticClass:"iconfont iconicon-back"})]),n("div",{staticClass:"nav-bar-search"},[n("div",{staticClass:"header-search"},[n("search-box",{ref:"searchBox",on:{query:t.onQueryChange}})],1)])]),n("div",{staticClass:"container"},[n("div",{staticClass:"content"},[n("div",{staticClass:"common-main box"},[t._m(0),n("div",{staticClass:"select-rzxm"},t._l(t.xmList,(function(e,a){return n("dl",{key:a,class:t.checkXm.id===e.id?"active":"",on:{click:function(n){return t.xzXm(e)}}},[n("dt",[t._v(t._s(e.xmmc))])])})),0)])])])])},i=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"title"},[n("div",{staticClass:"title-left"},[n("h2",[t._v("选择项目")])])])}],o=(n("a434"),n("dd97")),c=n("510f"),r={name:"XzGzrzXm",components:{SearchBox:o["a"]},mixins:[c["d"]],data:function(){return{xmList:[],loading:!1,finished:!1,totalPages:1,currentPage:1,finishedText:"",errorText:"",cyxmList:[],checkXm:""}},created:function(){this.rq=this.$store.state.erp.rq,this.getXmxxList()},methods:{goBack:function(){},xzXm:function(t){var e=this;this.$store.dispatch("erp/isGdByDateAndXmAction",{date:this.rq,xm:t.id}).then((function(n){1===n.state?(e.checkXm=t,e.$store.commit("erp/SET_CHECKXM",e.checkXm),e.$router.back()):e.$toast(n.text)})).catch((function(){}))},delCyxm:function(t){for(var e=0;e<this.cyxmList.length;e++)t.id===this.cyxmList[e].id&&(this.cyxmList.splice(e,1),this.xmList.unshift(t));window.localStorage.setItem("cyxmList",JSON.stringify(this.cyxmList))},addCyxm:function(t,e){for(var n=!1,a=0;a<this.cyxmList.length;a++)this.cyxmList[a].id===t.id&&(this.$toast("已添加至常用项目"),n=!0);n||(this.xmList.splice(e,1),this.cyxmList.push(t),window.localStorage.setItem("cyxmList",JSON.stringify(this.cyxmList)))},getXmxxList:function(){var t=this;this.$store.dispatch("erp/getXmxxListAction",{xmmc:this.xmmc,currentPage:this.currentPage,pageSize:10}).then((function(e){t.currentPage++,t.loading=!1,t.totalPages=e.totalPages;for(var n=0;n<e.xmxxArr.length;n++)t.xmList.push(e.xmxxArr[n]);t.currentPage<=t.totalPages?t.getXmxxList():t.finished=!0})).catch((function(e){t.$toast(e)}))},onQueryChange:function(t){this.xmmc=t,this.currentPage=1,this.xmList=[],this.getXmxxList()},goTbGzrz:function(){this.$router.push("TbGzrz")}}},s=r,l=(n("b838"),n("2877")),u=Object(l["a"])(s,a,i,!1,null,"51170a5b",null);e["default"]=u.exports},"5f3c":function(t,e,n){},b838:function(t,e,n){"use strict";var a=n("5f3c"),i=n.n(a);i.a},dd97:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"search-box"},[t._m(0),n("van-search",{ref:"query",attrs:{maxlength:50,"is-amount":"",shape:"round","show-action":"",placeholder:"请输入搜索条件"},on:{search:t.onSearch},model:{value:t.query,callback:function(e){t.query=e},expression:"query"}},[n("div",{attrs:{slot:"action"},on:{click:t.onSearch},slot:"action"},[n("van-button",{attrs:{round:"",size:"small",type:"info"}},[t._v("搜索")])],1)])],1)},i=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"search-icon"},[n("i",{staticClass:"iconfont iconsousuo"})])}],o=(n("8b55"),{props:{placeholder:{type:String,default:"请输入搜索条件"},searchInput:{type:String,default:""}},data:function(){return{query:""}},watch:{searchInput:function(t){this.query=t}},created:function(){},methods:{onSearch:function(){this.$emit("query",this.query)},clear:function(){this.query=""},setQuery:function(t){this.query=t,this.$emit("query",this.query)},blur:function(){this.$refs.query.blur()},goSearch:function(){this.$emit("goSearch")}}}),c=o,r=n("2877"),s=Object(r["a"])(c,a,i,!1,null,"435fd366",null);e["a"]=s.exports}}]);
//# sourceMappingURL=XzGzrzXm.6b11212f.js.map