(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["InvoiceAdd"],{"12ac":function(e,a,t){},"161c":function(e,a,t){"use strict";t.r(a);var i=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("headerBar",{attrs:{"header-data":e.headerData}}),t("div",{staticClass:"container"},[t("div",{staticClass:"content"},[t("div",{staticClass:"common-main box"},[t("van-tabs",[t("van-tab",{attrs:{title:"增值税专用发票"}},[t("div",{staticClass:"content common-main"},[t("van-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{required:"",name:"fptt","error-message":e.errors.first("fptt"),label:"发票抬头","label-width":"110px",placeholder:"请输入发票抬头"},model:{value:e.header,callback:function(a){e.header=a},expression:"header"}}),t("div",{staticClass:"spe-list"},[t("div",{staticClass:"spe-left"},[t("span",{staticClass:"tit"},[e._v("发票内容")]),t("span",{staticClass:"info"},[t("van-radio-group",{model:{value:e.invoicecontent,callback:function(a){e.invoicecontent=a},expression:"invoicecontent"}},[t("van-radio",{attrs:{name:"MX"}},[e._v("明细")]),t("van-radio",{attrs:{name:"DNPJ"}},[e._v("电脑配件")]),t("van-radio",{attrs:{name:"HC"}},[e._v("耗材")]),t("van-radio",{attrs:{name:"BGYP"}},[e._v("办公用品")])],1)],1)])]),t("van-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|sbmCheck",expression:"'required|sbmCheck'"}],attrs:{required:"",label:"纳税人识别码","label-width":"110px",name:"nsrsbm","error-message":e.errors.first("nsrsbm"),placeholder:"请输入纳税人识别码"},model:{value:e.company_code,callback:function(a){e.company_code=a},expression:"company_code"}}),t("van-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{required:"",label:"注册地址","label-width":"110px",name:"zcdd","error-message":e.errors.first("zcdd"),placeholder:"请输入注册地址"},model:{value:e.company_address,callback:function(a){e.company_address=a},expression:"company_address"}}),t("van-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|TelOrMobile",expression:"'required|TelOrMobile'"}],attrs:{required:"",type:"number",label:"注册电话","label-width":"110px",name:"zcdh","error-message":e.errors.first("zcdh"),placeholder:"请输入注册电话"},model:{value:e.company_phone,callback:function(a){e.company_phone=a},expression:"company_phone"}}),t("van-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{required:"",label:"开户银行","label-width":"110px",name:"khyh","error-message":e.errors.first("khyh"),placeholder:"请输入开户银行"},model:{value:e.company_bank,callback:function(a){e.company_bank=a},expression:"company_bank"}}),t("van-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|yhzhCheck",expression:"'required|yhzhCheck'"}],attrs:{required:"",label:"银行账户","label-width":"110px",name:"yhzh","error-message":e.errors.first("yhzh"),placeholder:"请输入银行账户"},model:{value:e.company_bankname,callback:function(a){e.company_bankname=a},expression:"company_bankname"}}),t("van-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|address",expression:"'required|address'"}],attrs:{required:"",label:"所在地区",placeholder:"请选择所在地区",name:"address","label-width":"110px","is-link":"",readonly:"","error-message":e.errors.first("address")},on:{click:e.showPopup},model:{value:e.address,callback:function(a){e.address=a},expression:"address"}}),t("van-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{required:"",label:"所在街道",rows:"2",name:"jtdz","error-message":e.errors.first("jtdz"),autosize:"",type:"textarea","label-width":"110px",maxlength:"50",placeholder:"请填写街道、楼道号等"},model:{value:e.invoiceaddress,callback:function(a){e.invoiceaddress=a},expression:"invoiceaddress"}})],1),t("div",{staticClass:"bt-group"},[t("van-button",{attrs:{type:"info",size:"small"},on:{click:function(a){return e.saveInvoice("ZZSZYFP")}}},[e._v("保存")])],1)]),t("van-tab",{attrs:{title:"普通发票"}},[t("div",{staticClass:"content common-main"},[t("van-field",{attrs:{name:"fptt1","error-message":e.message1,label:"发票抬头",required:"","label-width":"110px",placeholder:"请输入发票抬头"},on:{input:function(a){return e.check1()},blur:function(a){return e.check1()}},model:{value:e.fptt1,callback:function(a){e.fptt1=a},expression:"fptt1"}}),t("div",{staticClass:"spe-list"},[t("div",{staticClass:"spe-left"},[t("span",{staticClass:"tit"},[e._v("发票内容")]),t("span",{staticClass:"info"},[t("van-radio-group",{model:{value:e.fpnr,callback:function(a){e.fpnr=a},expression:"fpnr"}},[t("van-radio",{attrs:{name:"MX"}},[e._v("明细")]),t("van-radio",{attrs:{name:"DNPJ"}},[e._v("电脑配件")]),t("van-radio",{attrs:{name:"HC"}},[e._v("耗材")]),t("van-radio",{attrs:{name:"BGYP"}},[e._v("办公用品")])],1)],1)])]),t("van-field",{attrs:{label:"纳税人识别码","label-width":"110px",name:"nsrsbm1",required:"","error-message":e.message2,placeholder:"请输入纳税人识别码"},on:{input:function(a){return e.check2()},blur:function(a){return e.check2()}},model:{value:e.nsrsbm1,callback:function(a){e.nsrsbm1=a},expression:"nsrsbm1"}})],1),t("div",{staticClass:"bt-group"},[t("van-button",{attrs:{type:"info",size:"small"},on:{click:function(a){return e.savePtInvoice("PTFP")}}},[e._v("保存")])],1)])],1)],1)])]),t("van-popup",{style:{height:"70%"},attrs:{position:"bottom"},model:{value:e.show,callback:function(a){e.show=a},expression:"show"}},[t("XyAddress",{on:{getCheckResult:e.getCheckResult}})],1)],1)},n=[],s=(t("b0c0"),t("445c")),r=t("a001"),o=t("33de"),c={name:"InvoiceAdd",components:{headerBar:s["a"],XyAddress:r["a"]},data:function(){return{addressShow:"",address:"",invoice:"",header:"",company_code:"",company_address:"",company_phone:"",company_bank:"",company_bankname:"",szjd:"",invoiceprovice:"",invoicecity:"",invoicecounty:"",invoicetown:"",invoiceaddress:"",checked:!0,show:!1,radio:"1",addressmodel:"",id:"",invoicecontent:"MX",fptt:"",nsrsbm:"",fptt1:"",nsrsbm1:"",fpnr:"MX",headerData:{title:"新增发票模板",leftUrl:"back",leftText:" "},message1:"",message2:""}},created:function(){},methods:{check1:function(){return this.fptt1?(this.message1="",!0):(this.message1="请输入发票抬头",!1)},check2:function(){return this.nsrsbm1?/^[A-Za-z0-9]+$/.test(this.nsrsbm1)?(this.message2="",!0):(this.message2="请输入正确的纳税人识别码",!1):(this.message2="请输入纳税人识别码",!1)},getCheckResult:function(e,a,t,i,n){n||(this.show=!1),e&&(this.address=e.text,this.invoiceprovice=e.value),a&&(this.address=this.address+"/"+a.text,this.invoicecity=a.value),t&&(this.address=this.address+"/"+t.text,this.invoicecounty=t.value),i&&(this.address=this.address+"/"+i.text,this.invoicetown=i.value)},saveInvoice:function(e){var a=this;this.$validator.validate().then((function(t){t&&(o["Sb"].data={id:a.id,invoicetype:e,header:a.header,company_code:a.company_code,company_address:a.company_address,company_phone:a.company_phone,company_bank:a.company_bank,company_bankname:a.company_bankname,invoicecontent:a.invoicecontent,invoiceprovice:a.invoiceprovice?a.invoiceprovice:"",invoicecity:a.invoicecity?a.invoicecity:"",invoicecounty:a.invoicecounty?a.invoicecounty:"",invoicetown:a.invoicetown?a.invoicetown:"",invoiceaddress:a.invoiceaddress,jgbh:""},a.asyncApiModule(o["Sb"]).then((function(e){a.$toast("保存发票信息成功"),a.$router.back()})).catch((function(){a.loading=!1})))}))},savePtInvoice:function(e){var a=this;this.check1()&this.check2()&&(o["Sb"].data={id:this.id,invoicetype:e,header:this.fptt1,company_code:this.nsrsbm1,invoicecontent:this.fpnr,jgbh:""},this.asyncApiModule(o["Sb"]).then((function(e){a.$toast("保存发票信息成功"),a.$router.back()})).catch((function(){a.loading=!1})))},goBack:function(){this.$router.back()},showPopup:function(){this.show=!0},onChange:function(e,a,t){var i=e.getValues();console.log(i);for(var n="",s=0;s<i.length;s++)n=n+(0===s?"":"/")+i[s].name;this.addressmodel=n},onConfirm:function(e){console.log("val-----",e),this.invoiceprovice=e[0].name,this.invoicecity=e[1].name,this.invoicecounty=e[2].name,this.address=e[0].name+"/"+e[1].name+"/"+e[2].name,this.addressShow=e[2].code,this.show=!1},onCancel:function(){this.show=!1,this.$refs.myArea.reset()}}},d=c,l=(t("8219"),t("2877")),v=Object(l["a"])(d,i,n,!1,null,"1fe5d86a",null);a["default"]=v.exports},"445c":function(e,a,t){"use strict";var i=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("header",{staticClass:"nav-bar"},[e.headerData.leftText?t("div",{staticClass:"nav-bar-left"},[t("div",{on:{click:function(a){return a.stopPropagation(),e.handelClick(e.headerData.leftUrl)}}},[t("i",{staticClass:"iconfont iconicon-back"}),t("div",{staticClass:"nav-bar-txt"},[e._v(e._s(e.headerData.leftText))])])]):e._e(),t("div",{staticClass:"nav-bar-title"},[e._v(e._s(e.headerData.title))]),t("div",{staticClass:"nav-bar-right"},[e.headerData.rightText?t("div",{staticClass:"nav-bar-txt",on:{click:function(a){return e.handelClick(e.headerData.rightUrl,e.headerData.rightCallBackClick)}}},[e._v(e._s(e.headerData.rightText))]):e._e(),e.headerData.showSearch?t("i",{staticClass:"iconfont iconsousuo",on:{click:function(a){return e.searchClick()}}}):e._e()])])},n=[],s={name:"HeaderBar",props:{headerData:{type:null,required:!0}},data:function(){return{}},created:function(){this.headerData&&(this.headerData.rightCallBackClick||(this.headerData.rightCallBackClick=!1))},methods:{searchClick:function(){this.$bus.$emit("showMeun",!0)},handelClick:function(e,a){if(console.log("targetUrl=====================",e),"back"!==e)if("needConfirm"!==e){if(e)this.$router.push(e);else if(a){var t="callback";this.headerData&&this.headerData.rightText&&(t=this.headerData.rightText),this.$emit("callbackClick",t)}}else this.$emit("on-exit");else this.$router.go(-1)}}},r=s,o=t("2877"),c=Object(o["a"])(r,i,n,!1,null,"416ac0a2",null);a["a"]=c.exports},8219:function(e,a,t){"use strict";var i=t("12ac"),n=t.n(i);n.a}}]);
//# sourceMappingURL=InvoiceAdd.ac5bcdc3.js.map