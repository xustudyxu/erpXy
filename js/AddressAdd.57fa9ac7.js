(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["AddressAdd"],{"445c":function(e,a,s){"use strict";var t=function(){var e=this,a=e.$createElement,s=e._self._c||a;return s("header",{staticClass:"nav-bar"},[e.headerData.leftText?s("div",{staticClass:"nav-bar-left"},[s("div",{on:{click:function(a){return a.stopPropagation(),e.handelClick(e.headerData.leftUrl)}}},[s("i",{staticClass:"iconfont iconicon-back"}),s("div",{staticClass:"nav-bar-txt"},[e._v(e._s(e.headerData.leftText))])])]):e._e(),s("div",{staticClass:"nav-bar-title"},[e._v(e._s(e.headerData.title))]),s("div",{staticClass:"nav-bar-right"},[e.headerData.rightText?s("div",{staticClass:"nav-bar-txt",on:{click:function(a){return e.handelClick(e.headerData.rightUrl,e.headerData.rightCallBackClick)}}},[e._v(e._s(e.headerData.rightText))]):e._e(),e.headerData.showSearch?s("i",{staticClass:"iconfont iconsousuo",on:{click:function(a){return e.searchClick()}}}):e._e()])])},i=[],r={name:"HeaderBar",props:{headerData:{type:null,required:!0}},data:function(){return{}},created:function(){this.headerData&&(this.headerData.rightCallBackClick||(this.headerData.rightCallBackClick=!1))},methods:{searchClick:function(){this.$bus.$emit("showMeun",!0)},handelClick:function(e,a){if(console.log("targetUrl=====================",e),"back"!==e)if("needConfirm"!==e){if(e)this.$router.push(e);else if(a){var s="callback";this.headerData&&this.headerData.rightText&&(s=this.headerData.rightText),this.$emit("callbackClick",s)}}else this.$emit("on-exit");else this.$router.go(-1)}}},d=r,n=s("2877"),l=Object(n["a"])(d,t,i,!1,null,"416ac0a2",null);a["a"]=l.exports},b985:function(e,a,s){"use strict";s.r(a);var t=function(){var e=this,a=e.$createElement,s=e._self._c||a;return s("div",[s("headerBar",{attrs:{"header-data":e.headerData}}),s("div",{staticClass:"container"},[s("div",{staticClass:"content"},[s("div",{staticClass:"common-main box"},[s("van-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{required:"",label:"收货人姓名",name:"name",placeholder:"请输入收货人姓名","error-message":e.errors.first("name")},model:{value:e.name,callback:function(a){e.name=a},expression:"name"}}),s("van-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|phone",expression:"'required|phone'"}],attrs:{label:"手机号码",name:"sjh",required:"",placeholder:"请输入收货人手机号","error-message":e.errors.first("sjh")},model:{value:e.sjh,callback:function(a){e.sjh=a},expression:"sjh"}}),s("van-field",{attrs:{label:"固定电话",placeholder:"请输入固定电话"},model:{value:e.gddh,callback:function(a){e.gddh=a},expression:"gddh"}}),s("van-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"}],attrs:{required:"",label:"电子邮箱",placeholder:"请输入电子邮箱",name:"email","error-message":e.errors.first("email")},model:{value:e.dzyx,callback:function(a){e.dzyx=a},expression:"dzyx"}}),s("van-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{required:"",label:"邮编",placeholder:"请输入邮编",name:"yb","error-message":e.errors.first("yb")},model:{value:e.yb,callback:function(a){e.yb=a},expression:"yb"}}),s("van-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|address",expression:"'required|address'"}],attrs:{required:"",label:"所在地区",placeholder:"请选择所在地区",name:"address","error-message":e.errors.first("address"),"is-link":"",readonly:""},on:{click:e.showPopup},model:{value:e.addressmodel,callback:function(a){e.addressmodel=a},expression:"addressmodel"}}),s("van-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{required:"",rows:"2",label:"所在街道",name:"jtdz","error-message":e.errors.first("jtdz"),autosize:"",type:"textarea",maxlength:"50",placeholder:"请填写街道、楼道号等"},model:{value:e.message,callback:function(a){e.message=a},expression:"message"}})],1)]),s("div",{staticClass:"content"},[s("div",{staticClass:"common-main box"},[s("div",{staticClass:"spe-list"},[e._m(0),s("div",{staticClass:"spe-right"},[s("van-switch",{attrs:{size:"20px"},model:{value:e.checked,callback:function(a){e.checked=a},expression:"checked"}})],1)])])])]),s("div",{staticClass:"common-space"}),s("div",{staticClass:"foot-btn one fixed"},[s("ul",[s("li",[s("van-button",{attrs:{type:"info",round:"",size:"large"},on:{click:function(a){return e.saveAdress()}}},[e._v("保存")])],1)])]),s("van-popup",{style:{height:"70%"},attrs:{position:"bottom"},model:{value:e.show,callback:function(a){e.show=a},expression:"show"}},[s("XyAddress",{on:{getCheckResult:e.getCheckResult}})],1)],1)},i=[function(){var e=this,a=e.$createElement,s=e._self._c||a;return s("div",{staticClass:"spe-left"},[s("span",{staticClass:"tit"},[e._v("设为默认地址")])])}],r=(s("b0c0"),s("445c")),d=s("a001"),n=s("33de"),l={name:"AddressAdd",components:{headerBar:r["a"],XyAddress:d["a"]},data:function(){return{name:"",sjh:"",message:"",gddh:"",dzyx:"",yb:"",sheng:"",shi:"",xian:"",xiang:"",checked:!0,show:!1,addressmodel:"",address:"",account:"",id:"",headerData:{title:"新建收货地址",leftUrl:"back",leftText:" "}}},created:function(){this.headerData.title=this.$route.params.title,this.address=this.$route.params.address,this.address&&(this.id=this.address.id,this.account=this.address.account,this.name=this.address.consignee,this.sjh=this.address.mobile,this.gddh=this.address.tel,this.dzyx=this.address.email,this.yb=this.address.postcode,this.checked=1===this.address.default_address,this.sheng=this.address.province,this.shi=this.address.city,this.xian=this.address.county,this.xiang=this.address.town,this.message=this.address.address,this.addressmodel=this.address.area)},methods:{getCheckResult:function(e,a,s,t,i){i||(this.show=!1),e&&(this.addressmodel=e.text,this.sheng=e.value),a&&(this.addressmodel=this.addressmodel+"/"+a.text,this.shi=a.value),s&&(this.addressmodel=this.addressmodel+"/"+s.text,this.xian=s.value),t&&(this.addressmodel=this.addressmodel+"/"+t.text,this.xiang=t.value)},saveAdress:function(){var e=this;this.$validator.validate().then((function(a){if(a){var s={id:e.id,consignee:e.name,mobile:e.sjh,tel:e.gddh,email:e.dzyx,postcode:e.yb,default_address:e.checked?1:0,province:e.sheng?e.sheng:"",city:e.shi?e.shi:"",county:e.xian?e.xian:"",town:e.xiang?e.xiang:"",address:e.message,account:e.account};n["Pb"].data=s,e.asyncApiModule(n["Pb"]).then((function(a){e.$toast.success("保存成功"),setTimeout((function(){e.$toast.clear(),e.$router.back()}),1e3)})).catch((function(e){console.log(e)}))}}))},goBack:function(){this.$router.back()},showPopup:function(){this.show=!0},onChange:function(e,a,s){var t=e.getValues();console.log(t);for(var i="",r=0;r<t.length;r++)i=i+(0===r?"":"/")+t[r].name;this.addressmodel=i},onConfirm:function(e){console.log("val------------------",e),this.sheng=e[0].code,this.shi=e[1].code,this.qu=e[2].code,this.addressmodel=e[0].name+"/"+e[1].name+"/"+e[2].name,this.show=!1},onCancel:function(){this.show=!1,this.$refs.myArea.reset()}}},o=l,c=s("2877"),h=Object(c["a"])(o,t,i,!1,null,"1c874672",null);a["default"]=h.exports}}]);
//# sourceMappingURL=AddressAdd.57fa9ac7.js.map