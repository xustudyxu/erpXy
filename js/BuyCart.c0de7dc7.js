(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["BuyCart","WdxmBj"],{"510f":function(t,e,i){"use strict";i.d(e,"d",(function(){return r})),i.d(e,"a",(function(){return a})),i.d(e,"b",(function(){return l}));i("a4d3"),i("4de4"),i("c975"),i("a434"),i("b0c0"),i("e439"),i("dbb4"),i("b64b"),i("159b");var o=i("ade3"),n=i("2f62");function c(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,o)}return i}function s(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?c(Object(i),!0).forEach((function(e){Object(o["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):c(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var r={mounted:function(){},data:function(){return{}},methods:{goPage:function(t,e){this.$store.dispatch("router/setPageParams",e),this.$router.push({name:t,params:{keyName:e}})},getParams:function(){return this.$store.state.router.pageParams}},beforeRouteEnter:function(t,e,i){i((function(e){if("MhHome"!==t.name&&"MallHome"!==t.name){var i=e.$store.state.router.keepAlive,o=i.indexOf(t.name);-1===o&&i.push(t.name),e.$store.commit("router/SET_KEEP_ALIVE",i)}else e.$store.commit("router/SET_KEEP_ALIVE",[]);console.log("PageRoute=进入页面==",i)}))},beforeRouteLeave:function(t,e,i){var o=[];if(o=this.$store.state.router.keepAlive,"GysXmbm"===e.name){var n=o.indexOf(e.name);o.splice(n,1)}var c=o.indexOf(e.name),s=o.indexOf(t.name);-1!==s&&o.splice(c,1);for(var r=[],a=0;a<this.$store.state.router.footMeun.length;a++)r.push(this.$store.state.router.footMeun[a].component);var l=r.indexOf(e.name),h=r.indexOf(t.name);-1!==l&&-1!==h&&o.splice(c,1),console.log("PageRoute=退出页面======================",o),this.$store.commit("router/SET_KEEP_ALIVE",o),i()}},a={mounted:function(){var t=this;window["showSoftKeyBoard"]=function(e){console.info("showSoftKeyBoard-----",e),t.Native_ShowSoftKeyBoard=e},window["getRotuerPage"]=function(e){return t.$store.state.router.keepAlive},window["updateScanData"]=function(e){console.info("updateScan======",e),t.Native_ScanData=e},window["updateHandImage"]=function(e){t.Native_PhoneImageData=e}},data:function(){return{Native_ShowSoftKeyBoard:"",Native_ScanData:{},Native_PhoneImageData:{},Native_CaLoad:"",Native_CaList:{}}},computed:{},methods:{NativeLoadCA:function(){var t=this;try{this.Native_CaLoad=window.myapp.LoadCA(),console.info("NativeLoadCA======",window.myapp.LoadCA())}catch(e){console.log(e)}this.$bridge.callhandler("LoadCA","{page:1}",(function(e){var i=JSON.parse(e);console.log("goScanView------",e),t.Native_CaLoad=i}))},NativeGetAllCAInfo:function(){try{console.info("NativeGetAllCAInfo======",window.myapp.getAllCAInfo());var t=window.myapp.getAllCAInfo();this.Native_CaList=JSON.parse(t)}catch(e){console.log(e)}this.$bridge.callhandler("getAllCAInfo",(function(t){}))},NativeGetOnelCAInfo:function(t){try{console.info("NativeGetAllCAInfo======",window.myapp.getOneCAInfo())}catch(e){console.log(e)}this.$bridge.callhandler("getOneCAInfo",t,(function(t){}))},NativeChangePin:function(t){try{window.myapp.changePin(t)}catch(e){console.log(e)}this.$bridge.callhandler("changePin",t,(function(t){}))},NativeEnvelopeDecrypt:function(t){try{window.myapp.envelopeDecrypt(t)}catch(e){console.log(e)}this.$bridge.callhandler("envelopeDecrypt",t,(function(t){}))},NativeEnvelopeEncrypt:function(t){try{window.myapp.envelopeEncrypt(t)}catch(e){console.log(e)}this.$bridge.callhandler("envelopeEncrypt",t,(function(t){}))}}},l={mounted:function(){var t=this;window["getRotuerPage"]=function(e){return t.$store.state.router.keepAlive},window["updateScanData"]=function(e){console.info("updateScan======",e),t.Native_ScanData=e},window["updateHandImage"]=function(e){t.Native_PhoneImageData=e}},data:function(){return{Native_ScanData:{},Native_PhoneImageData:{}}},computed:{},methods:{NativeAddPush:function(t){try{window.myapp.addPush(t)}catch(e){console.log(e)}this.$bridge.callhandler("addPush",t,(function(t){}))},NativeDissPush:function(){try{window.myapp.dissPush()}catch(t){console.log(t)}this.$bridge.callhandler("dissPush",(function(t){}))},NativeDissDialog:function(){try{window.myapp.dissDialog()}catch(t){console.log(t)}this.$bridge.callhandler("dissDialog",(function(t){}))},NativeLoginAction:function(t){try{window.myapp.loginAction(t)}catch(e){console.log(e)}this.$bridge.callhandler("loginAction",t,(function(t){}))},NativeCheakUpdate:function(){try{window.myapp.cheakUpdate()}catch(t){console.log(t)}this.$bridge.callhandler("cheakUpdate",(function(t){}))},NativeGetLjSize:function(){try{window.myapp.getlj()}catch(t){console.log(t)}this.$bridge.callhandler("getlj",(function(t){}))},NativeCleanLj:function(){try{window.myapp.cleanlj()}catch(t){console.log(t)}this.$bridge.callhandler("cleanlj",(function(t){}))},NativeDownFiles:function(t){try{window.myapp.downloadFile(t)}catch(e){console.log(e)}this.$bridge.callhandler("downloadFile",String(t),(function(t){}))},NativeScan:function(){var t=this;try{window.myapp.goScanView()}catch(e){console.log(e)}this.$bridge.callhandler("goScanView","{page:1}",(function(e){var i=JSON.parse(e);console.log("goScanView------",e),t.Native_ScanData=i}))},NativePhone:function(t){var e=this;try{window.myapp.goIDCards(t)}catch(i){console.log(i)}this.$bridge.callhandler("goIDCards",t,(function(t){var i=JSON.parse(t);console.log("goIDCards------",i),e.Native_PhoneImageData=i}))},NativeHandSing:function(){var t=this;try{window.myapp.goHandWriteView()}catch(e){console.log(e)}this.$bridge.callhandler("goHandWriteView",(function(e){t.Native_PhoneImageData=e}))},NativeCallPhone:function(t){try{window.myapp.call(t)}catch(e){console.log(e)}this.$bridge.callhandler("call",t,(function(t){}))},NativeUpdateImage:function(){try{window.myapp.CameraOrImage()}catch(t){console.log(t)}this.$bridge.callhandler("CameraOrImage",(function(t){}))}}};s({onQueryChange:function(t){this.query=t},blurInput:function(){this.$refs.searchBox.blur()},addQuery:function(t){this.$refs.searchBox.setQuery(t)},saveSearch:function(){this.updateHostorList(this.query)}},Object(n["b"])(["updateHostorList","deleteSearchHistory"])),s({wybmAction:function(){this.wybmfbAction()}},Object(n["b"])(["wybmfbAction"]))},"5e2c":function(t,e,i){t.exports=i.p+"img/no-img.3caca518.png"},"7cf1":function(t,e,i){"use strict";i.r(e);var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"buycart loading-white"},[i("div",{staticClass:"nav-bar nav-bar-white"},[i("div",{staticClass:"nav-bar-left"}),i("div",{staticClass:"nav-bar-title"},[t._v("购物车")]),i("div",{staticClass:"nav-bar-right",on:{click:function(e){return t.deleteCarts()}}},[t._v("清空")])]),i("div",{staticClass:"head-line lineGradient"}),t.cartList&&t.cartList.length>0?i("div",{staticClass:"negative2"},[i("van-pull-refresh",{ref:"pull",on:{refresh:t.onRefresh},model:{value:t.isLoading,callback:function(e){t.isLoading=e},expression:"isLoading"}},t._l(t.cartList,(function(e,o){return i("div",{key:o,staticClass:"content"},[null!=e.productList&&0!=e.productList.length?i("div",{staticClass:"common-main box"},[i("div",{staticClass:"goodscart-item"},[i("div",{staticClass:"title-cart"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.checkPro[o].zt,expression:"checkPro[index].zt"}],attrs:{check:t.checkPro[o].zt,type:"checkbox"},domProps:{checked:Array.isArray(t.checkPro[o].zt)?t._i(t.checkPro[o].zt,null)>-1:t.checkPro[o].zt},on:{change:[function(e){var i=t.checkPro[o].zt,n=e.target,c=!!n.checked;if(Array.isArray(i)){var s=null,r=t._i(i,s);n.checked?r<0&&t.$set(t.checkPro[o],"zt",i.concat([s])):r>-1&&t.$set(t.checkPro[o],"zt",i.slice(0,r).concat(i.slice(r+1)))}else t.$set(t.checkPro[o],"zt",c)},function(e){return t.handleCheckAllChange(o,t.checkPro[o].zt)}]}}),i("span",{staticStyle:{"margin-left":"10px"}},[t._v(t._s(e.gysmc))])]),t._l(e.productList,(function(n,c){return i("div",{key:c,staticClass:"goodsshow-loop"},[i("van-swipe-cell",[i("div",{staticClass:"goodsshow-list"},[i("div",{staticClass:"goodsshow-check"},[i("van-checkbox",{on:{click:function(i){return t.changeProZt(n.id,e.gysbh,n.cart_id,o,c)}},model:{value:t.checkPro[o].prozt[c],callback:function(e){t.$set(t.checkPro[o].prozt,c,e)},expression:"checkPro[index].prozt[indexs]"}})],1),i("div",{staticClass:"goodsshow-c"},[i("div",{staticClass:"goodsshow-img",on:{click:function(e){return t.imgPreview(n.imgSrc?n.imgSrc:t.defaultImg)}}},[i("img",{attrs:{src:n.imgSrc,onerror:t.defaultImg}})]),i("div",{staticClass:"goodsshow-c-info"},[i("div",{staticClass:"goodsshow-tit"},[i("a",{attrs:{href:"javascript:"},on:{click:function(e){return t.toProductDetail(n.id,n.name)}}},[t._v(t._s(n.name))])]),i("div",{staticClass:"goodsshow-tag"},[i("van-tag",{attrs:{plain:"",type:"primary"}},[t._v(t._s(n.sourceName))])],1),i("div",{staticClass:"goodsshow-info"},[i("div",{staticClass:"price"},[t._v(t._s(n.price_now)+"元")]),i("div",{staticClass:"num"},[i("van-stepper",{key:t.key,attrs:{min:"1",max:"99999",integer:""},on:{change:function(e){return t.calPrice(o,c,n.id,n.pcount,n.cart_id)}},model:{value:n.pcount,callback:function(e){t.$set(n,"pcount",e)},expression:"spxx.pcount"}})],1)])])])]),i("template",{slot:"right"},[i("van-button",{attrs:{square:"",type:"danger",text:"删除"},on:{click:function(e){return t.DeleteSp(n.cart_id)}}})],1)],2),t.showAccessory[o+c]&&n.accessoryList?i("div",{staticClass:"common-more",on:{click:function(e){return t.changeAccessory(o,c)}}},[i("div",{staticClass:"more"},[i("em",[t._v("隐藏")]),t._v(" "),i("i",{staticClass:"iconfont iconarrow-up"})])]):t._e(),!t.showAccessory[o+c]&&n.accessoryList?i("div",{staticClass:"common-more",on:{click:function(e){return t.changeAccessory(o,c)}}},[i("div",{staticClass:"more"},[i("em",[t._v("显示")]),t._v(" "),i("i",{staticClass:"iconfont iconarrow-down"})])]):t._e(),t.showAccessory[o+c]&&n.accessoryList?i("div",{staticClass:"accessories"},t._l(n.accessoryList,(function(e,o){return i("div",{key:o,staticClass:"accessories-list"},[i("div",{staticClass:"accessories-tit"},[t._v(t._s(e.name))]),i("div",{staticClass:"accessories-info"},[t._v("¥"+t._s(e.price))]),i("div",{staticClass:"accessories-delete",on:{click:function(i){return t.deleteAccessory(e.id)}}},[i("i",{staticClass:"iconfont iconshanchu"})])])})),0):t._e()],1)}))],2)]):t._e()])})),0)],1):i("div",{staticClass:"negative2"},[i("div",{staticClass:"content"},[i("div",{staticClass:"common-main box"},[i("div",{staticClass:"cart-empty"},[i("div",{staticClass:"cart-empty-tit"},[t._v("购物车竟然是空的~")]),i("div",{staticClass:"cart-empty-btn"},[i("van-button",{attrs:{size:"small",plain:"",type:"info"},on:{click:function(e){return t.goBuy()}}},[t._v("去购物")])],1)])])])]),i("div",{staticClass:"sub-space"}),i("div",{staticClass:"sub-space"}),i("div",{staticClass:"foot-btn fixed"},[i("ul",[i("li",{staticClass:"check"},[i("van-checkbox",{on:{click:t.checkAll},model:{value:t.checkAllZt,callback:function(e){t.checkAllZt=e},expression:"checkAllZt"}}),t._v(" 全选 ")],1),i("li",[i("div",{staticClass:"text"},[t._v("合计:"),i("em",[t._v(t._s(t.priceSum)+"元")])]),i("div",{staticClass:"text-mini"},[t._v("(不含运费)")])]),i("li",[i("div",{staticClass:"button-action"},[i("van-button",{staticClass:"action1",staticStyle:{width:"100px"},attrs:{type:"info",round:"",size:"large"},on:{click:function(e){return t.toOrder()}}},[t._v("去结算")]),i("van-button",{class:1==t.showMenu?"action2 active":"action2",staticStyle:{width:"80px"},attrs:{type:"info",round:"",size:"large"},on:{click:function(e){return t.showMenuBtn()}}},[t._v("更多 "),i("i",{staticClass:"iconfont iconarrow-down"})]),i("div",{class:1==t.showMenu?"dropdownmenu active":"dropdownmenu"},[i("ul",[i("li",{on:{click:function(e){return t.goBidRule()}}},[i("i",{staticClass:"iconfont icontoubiaoren"}),t._v(" 发起竞价")]),i("li",{on:{click:function(e){return t.goXjRule()}}},[i("i",{staticClass:"iconfont icondaibanshixiang"}),t._v(" 发起询价")])])])],1)])])]),i("FooterNavMall")],1)},n=[],c=(i("a4d3"),i("e01a"),i("d28b"),i("c975"),i("a434"),i("b680"),i("d3b7"),i("acd8"),i("e25e"),i("3ca3"),i("ddb0"),i("53ca")),s=i("82ed"),r=i("28a2"),a=i("33de"),l=i("510f"),h={name:"BuyCart",components:{FooterNavMall:s["a"]},filters:{numFilter:function(t){var e="";return e=t?parseFloat(t).toFixed(2):"--",e}},mixins:[l["d"]],data:function(){return{key:1,defaultImg:'this.src="'+i("5e2c")+'"',pjShow:!1,state1:!0,state2:!0,isLoading:!0,spxxList:[],isFrst:!1,num1:1,num2:2,num3:3,num4:1,num5:1,cartList:[],checkProZt:[],checkPro:[],checkCart:[],checkAllZt:!1,isIndeterminate:!1,dialogCompare:!1,showAccessory:[],cart_id:"",checked:!1,showMenu:!1}},computed:{productNum:function(){var t=0;if(this.spxxList&&this.spxxList.length>0){var e=!0,i=!1,o=void 0;try{for(var n,c=this.spxxList[Symbol.iterator]();!(e=(n=c.next()).done);e=!0){var s=n.value;t+=s.productList.length}}catch(r){i=!0,o=r}finally{try{e||null==c.return||c.return()}finally{if(i)throw o}}}return t},priceSum:function(){var t=0;if(this.spxxList&&this.spxxList.length>0){var e=!0,i=!1,o=void 0;try{for(var n,c=this.spxxList[Symbol.iterator]();!(e=(n=c.next()).done);e=!0){var s=n.value,r=!0,a=!1,l=void 0;try{for(var h,u=s.productList[Symbol.iterator]();!(r=(h=u.next()).done);r=!0){var d=h.value;if(t+=parseInt(d.pcount)*d.price_now,null!=d.accessoryList){var f=!0,p=!1,v=void 0;try{for(var g,y=d.accessoryList[Symbol.iterator]();!(f=(g=y.next()).done);f=!0){var m=g.value;t+=parseFloat(m.price).toFixed(2)*parseInt(d.pcount)}}catch(w){p=!0,v=w}finally{try{f||null==y.return||y.return()}finally{if(p)throw v}}}}}catch(w){a=!0,l=w}finally{try{r||null==u.return||u.return()}finally{if(a)throw l}}}}catch(w){i=!0,o=w}finally{try{e||null==c.return||c.return()}finally{if(i)throw o}}}return t.toFixed(2)}},created:function(){this.$store.commit("mall/SET_ISACTIVE",2)},activated:function(){this.getProductList()},mounted:function(){this.getProductList()},methods:{imgPreview:function(t){var e=[];e.push(t),Object(r["a"])({images:e,loop:!1})},goBuy:function(){this.$router.push("GoodsList")},pjisShow:function(){this.pjShow=!this.pjShow},onRefresh:function(){this.getProductList(),this.isLoading=!1},deleteCarts:function(){var t=this;this.$dialog.confirm({title:"提示",message:"确认清空购物车吗？"}).then((function(){var e=!0,i=!1,o=void 0;try{for(var n,c=t.cartList[Symbol.iterator]();!(e=(n=c.next()).done);e=!0)for(var s=n.value,r=0;r<s.productList.length;r++)t.checkCart.push(s.productList[r].cart_id)}catch(l){i=!0,o=l}finally{try{e||null==c.return||c.return()}finally{if(i)throw o}}a["y"].data={e_cart_ids:t.checkCart},t.asyncApiModule(a["y"]).then((function(e){t.$bus.$emit("deleteSp"),t.$toast.success("购物车清空成功"),t.getProductList(),t.spxxList=[]})).catch((function(){t.loading=!1}))})).catch((function(){}))},DeleteSp:function(t){var e=this;a["x"].data={e_cart_id:t},this.asyncApiModule(a["x"]).then((function(t){e.$bus.$emit("deleteSp"),e.$toast.success("删除成功"),e.getProductList()})).catch((function(){e.loading=!1}))},handler:function(t){this.spxxList=[];for(var e=0;e<t.length;e++)if(this.checkPro[e].zt)this.spxxList.push(this.cartList[e]);else for(var i=!0,o=0;o<t[e].prozt.length;o++){var n=t[e].prozt;if(n[o]){if(i){var c=[];this.spxxList.push({contact_name:this.cartList[e].contact_name,dsbs:this.cartList[e].dsbs,email:this.cartList[e].email,gysbh:this.cartList[e].gysbh,gysmc:this.cartList[e].gysmc,jklx:this.cartList[e].jklx,mobile:this.cartList[e].mobile,productList:c,status:this.cartList[e].status})}i=!1,this.spxxList[this.spxxList.length-1].productList.push(this.cartList[e].productList[o])}}},getCheckResult:function(){this.getProductList()},deepClone:function(t){var e=Array.isArray(t)?[]:{};if(t&&"object"===Object(c["a"])(t))for(var i in t)t.hasOwnProperty(i)&&(t[i]&&"object"===Object(c["a"])(t[i])?e[i]=this.deepClone(t[i]):e[i]=t[i]);return e},getProductList:function(){var t=this;this.loading=!0,this.asyncApiModule(a["X"]).then((function(e){if(t.checkPro=[],e&&e.cartsList?(t.cartList=e.cartsList,t.cartList.length>0?t.spxxList=t.deepClone(t.cartList):t.spxxList=[]):(t.cartList=[],t.spxxList=[]),t.getDefAddress(),t.checkAllZt=!0,t.cartList.length>0){var i=!0,o=!1,n=void 0;try{for(var c,s=t.cartList[Symbol.iterator]();!(i=(c=s.next()).done);i=!0){for(var r=c.value,a={zt:!0,prozt:[]},l=0;l<r.productList.length;l++){t.showAccessory.push(!1),a.prozt.push(!0);var h=!0,u=!1,d=void 0;try{for(var f,p=r.productList[Symbol.iterator]();!(h=(f=p.next()).done);h=!0){var v=f.value,g=0;if(v.accessoryList){var y=!0,m=!1,w=void 0;try{for(var k,L=v.accessoryList[Symbol.iterator]();!(y=(k=L.next()).done);y=!0){var b=k.value;g+=b.price}}catch(P){m=!0,w=P}finally{try{y||null==L.return||L.return()}finally{if(m)throw w}}}v.accessoryPrice=g}}catch(P){u=!0,d=P}finally{try{h||null==p.return||p.return()}finally{if(u)throw d}}}t.checkPro.push(a)}}catch(P){o=!0,n=P}finally{try{i||null==s.return||s.return()}finally{if(o)throw n}}}})).catch((function(e){console.log("errorrr---------------------",e),t.loading=!1}))},getDefAddress:function(){var t=this;this.$nextTick((function(){t.hackRest=!0})),this.asyncApiModule(a["Z"]).then((function(e){if(console.log(e),e.province&&t.cartList.length>0){var i=e.province,o=e.city,n=e.county,c=e.town,s={province:i,city:o,county:n,town:c,dsbs:"",skuList:[]},r=!0,l=!1,h=void 0;try{for(var u,d=function(){var e=u.value;if("KJXY"!==e.dsbs){var i=[],o=!0,n=!1,c=void 0;try{for(var r,l=e.productList[Symbol.iterator]();!(o=(r=l.next()).done);o=!0){var h=r.value;i.push(h.id)}}catch(d){n=!0,c=d}finally{try{o||null==l.return||l.return()}finally{if(n)throw c}}s.skuList=i,s.dsbs=e.dsbs,a["o"].data=s,t.asyncApiModule(a["o"]).then((function(t){if(console.log(t),"success"===t.success&&t.productList.length>0){var i=!0,o=!1,n=void 0;try{for(var c,s=t.productList[Symbol.iterator]();!(i=(c=s.next()).done);i=!0){var r=c.value,a=!0,l=!1,h=void 0;try{for(var u,f=e.productList[Symbol.iterator]();!(a=(u=f.next()).done);a=!0){var p=u.value;p.id===r.id&&p.price_now!==r.NEWPRICE&&(p.price_now=r.NEWPRICE)}}catch(d){l=!0,h=d}finally{try{a||null==f.return||f.return()}finally{if(l)throw h}}}}catch(d){o=!0,n=d}finally{try{i||null==s.return||s.return()}finally{if(o)throw n}}}})).catch((function(){t.loading=!1}))}},f=t.cartList[Symbol.iterator]();!(r=(u=f.next()).done);r=!0)d()}catch(p){l=!0,h=p}finally{try{r||null==f.return||f.return()}finally{if(l)throw h}}}})).catch((function(){t.loading=!1}))},calPrice:function(t,e,i,o,n){var c=this;"-"===o&&(this.cartList[t].productList[e].pcount=1,o=1),o>99999&&(this.cartList[t].productList[e].pcount=99999,o=99999,this.key++),a["Qb"].data={id:n,pcount:o},this.asyncApiModule(a["Qb"]).then((function(t){c.getProductList(),console.log(t)})).catch((function(){c.loading=!1})),console.log(this.priceSum)},changeProZt:function(t,e,i,o,n){if(!1===this.checkPro[o].prozt[n])this.checkPro[o].zt=!1,this.checkAllZt=!1;else{for(var c=0,s=0;s<this.checkPro[o].prozt.length;s++){var r=this.checkPro[o].prozt[s];r&&c++}c===this.checkPro[o].prozt.length&&(this.checkPro[o].zt=!0);for(var a=0,l=0;l<this.checkPro.length;l++){var h=this.checkPro[l];h.zt&&a++}a===this.checkPro.length&&(this.checkAllZt=!0)}this.handler(this.checkPro)},checkAll:function(){if(this.checkAllZt){for(var t=0;t<this.cartList.length;t++)for(var e=this.cartList[t].productList,i=this.cartList[t].gysbh,o=0;o<e.length;o++){var n=e[o].id;this.checkPro[t].prozt[o]=!0,-1===this.checkProZt.indexOf(n+i)&&this.checkProZt.push(n+i)}for(var c=0;c<this.checkPro.length;c++){this.checkPro[c].zt=!0;for(var s=0;s<this.checkPro[c].prozt.length;s++)this.checkPro[c].prozt[s]=!0}}else{this.checkProZt=[];for(var r=0;r<this.checkPro.length;r++){this.checkPro[r].zt=!1;for(var a=0;a<this.checkPro[r].prozt.length;a++)this.checkPro[r].prozt[a]=!1}}this.handler(this.checkPro)},handleCheckAllChange:function(t,e){var i,o,n=this.cartList[t].productList;if(this.checkPro[t].zt)for(o=0;o<n.length;o++)i=n[o].id,this.checkPro[t].prozt[o]=!0,-1===this.checkProZt.indexOf(i+e)&&this.checkProZt.push(i+e);else for(o=0;o<n.length;o++)i=n[o].id,this.checkPro[t].prozt[o]=!1,this.checkProZt.splice(this.checkProZt.indexOf(i+e),1);if(!1===this.checkPro[t].zt){for(var c=0;c<this.checkPro[t].prozt.length;c++)this.checkPro[t].prozt[c]=!1;this.checkAllZt=!1}if(this.checkPro[t].zt){for(var s=0;s<this.checkPro[t].prozt.length;s++)this.checkPro[t].prozt[s]=!0;for(var r=0,a=0;a<this.checkPro.length;a++){var l=this.checkPro[a];l.zt&&r++}r===this.checkPro.length&&(this.checkAllZt=!0)}this.handler(this.checkPro)},deleteAccessory:function(t){var e=this;a["u"].data={e_cart_accessory_id:t},this.asyncApiModule(a["u"]).then((function(t){e.getProductList()})).catch((function(){e.loading=!1}))},changeAccessory:function(t,e){this.showAccessory[t+e]?this.showAccessory.splice(t+e,1,!1):this.showAccessory.splice(t+e,1,!0)},toOrder:function(){if(0!==this.spxxList.length){var t=!0,e=!0,i=!1,o=void 0;try{for(var n,c=this.spxxList[Symbol.iterator]();!(e=(n=c.next()).done);e=!0)for(var s=n.value,r=0;r<s.productList.length;r++){var a=!0,l=!1,h=void 0;try{for(var u,d=s.productList[Symbol.iterator]();!(a=(u=d.next()).done);a=!0){var f=u.value;3===f.status&&(t=!1)}}catch(L){l=!0,h=L}finally{try{a||null==d.return||d.return()}finally{if(l)throw h}}}}catch(L){i=!0,o=L}finally{try{e||null==c.return||c.return()}finally{if(i)throw o}}if(t){var p=!0,v=!1,g=void 0;try{for(var y,m=this.spxxList[Symbol.iterator]();!(p=(y=m.next()).done);p=!0)for(var w=y.value,k=0;k<w.productList.length;k++)this.checkCart.push(w.productList[k].cart_id)}catch(L){v=!0,g=L}finally{try{p||null==m.return||m.return()}finally{if(v)throw g}}0!==this.checkCart.length?(this.$store.commit("goods/SET_SPID",""),this.$store.commit("goods/SET_QUERY",""),this.$store.commit("bid/SET_XJXX",""),this.$store.commit("goods/SET_CHECKCART",this.checkCart),this.$router.push("ConfirmOrder")):this.$toast("购物车为空，请先选择购买商品！")}else this.$toast.fail("本次交易中含有已下架产品，无法继续购买")}else this.$toast("请先添加商品！")},toProductDetail:function(t,e){this.$store.commit("goods/SET_SPMC",e),this.$store.commit("goods/SET_SPID",t),this.$router.push({name:"GoodsDetail",params:{refresh:!0}})},viewCompare:function(t){this.dialogCompare=!0,this.cart_id=t},toFqjj:function(){this.$store.commit("bid/SET_SPXXLIST",this.spxxList),this.$router.push({name:"BidRule"}),this.$bus.$emit("change",this.spxxList)},toFqxj:function(){this.$store.commit("bid/SET_SPXXLIST",this.spxxList),this.$router.push({name:"XjRule"}),this.$bus.$emit("change",this.spxxList)},goBidRule:function(){0!==this.spxxList.length&&0!==this.cartList.length?(this.$store.commit("bid/SET_SPXXLIST",this.spxxList),this.$router.push({name:"BidRule"})):this.$toast("请先添加商品！")},goXjRule:function(){0!==this.spxxList.length&&0!==this.cartList.length?(this.$store.commit("bid/SET_SPXXLIST",this.spxxList),this.$router.push({name:"XjRule"})):this.$toast("请先添加商品！")},showMenuBtn:function(){this.showMenu=!this.showMenu}}},u=h,d=i("2877"),f=Object(d["a"])(u,o,n,!1,null,"7d7367d2",null);e["default"]=f.exports}}]);
//# sourceMappingURL=BuyCart.c0de7dc7.js.map